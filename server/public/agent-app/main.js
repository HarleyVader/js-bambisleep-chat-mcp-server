/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 113:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ TRANSFORMATION_EFFECTS),\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _memoryService_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9522);\n// NameTransformationService.js - Agent Name Costume Change System\n// Centralized name management with visual transformation effects\n\n\n\n// Default Agent Configuration\nconst DEFAULT_AGENT_CONFIG = {\n  name: 'Dr Girlfriend',\n  fullName: 'Agent Dr Girlfriend',\n  shortName: 'Dr Girlfriend',\n  title: 'Agent',\n  personality: 'Witty, stylish, emotionally intelligent AI companion',\n  avatar: 'ðŸ‘©â€âš•ï¸'\n};\n\n// Name transformation effects configuration\nconst TRANSFORMATION_EFFECTS = {\n  SPARKLE_CASCADE: 'sparkle-cascade',\n  NEON_GLITCH: 'neon-glitch',\n  SHIMMER_FADE: 'shimmer-fade',\n  PARTICLE_BURST: 'particle-burst',\n  CYBER_MATRIX: 'cyber-matrix'\n};\n\n// Costume change request patterns (what Bambi might say)\nconst COSTUME_CHANGE_PATTERNS = [/please change your name to (.+)/i, /can you be called (.+)/i, /I want to call you (.+)/i, /your new name is (.+)/i, /from now on you're (.+)/i, /I'd like you to be (.+)/i, /become (.+)/i, /transform into (.+)/i, /costume change to (.+)/i, /rename yourself to (.+)/i];\nclass NameTransformationService {\n  constructor() {\n    this.currentConfig = {\n      ...DEFAULT_AGENT_CONFIG\n    };\n    this.isTransforming = false;\n    this.transformationCallbacks = new Set();\n    this.elementSelectors = ['.profile-name', '.agent-name', '.stats-panel-title', '[aria-label*=\"Agent Dr Girlfriend\"]', '.tagline', '.profile-greeting'];\n    this.init();\n  }\n  async init() {\n    // Load saved agent configuration\n    const savedConfig = await (0,_memoryService_js__WEBPACK_IMPORTED_MODULE_0__/* .getMemory */ .So)('agent_configuration');\n    if (savedConfig) {\n      this.currentConfig = {\n        ...DEFAULT_AGENT_CONFIG,\n        ...savedConfig\n      };\n    }\n\n    // Set up transformation effect styles\n    this.injectTransformationCSS();\n  }\n\n  // Main method to detect costume change requests\n  detectCostumeChangeRequest(userMessage) {\n    for (const pattern of COSTUME_CHANGE_PATTERNS) {\n      const match = userMessage.match(pattern);\n      if (match && match[1]) {\n        const newName = match[1].trim();\n        // Validate and clean the name\n        const cleanName = this.validateAndCleanName(newName);\n        if (cleanName) {\n          return {\n            detected: true,\n            newName: cleanName,\n            originalRequest: userMessage\n          };\n        }\n      }\n    }\n    return {\n      detected: false\n    };\n  }\n\n  // Validate and clean the proposed name\n  validateAndCleanName(name) {\n    // Remove quotes, extra spaces, and normalize\n    let cleanName = name.replace(/['\"]/g, '').trim();\n\n    // Ensure it's not too long or contains inappropriate content\n    if (cleanName.length > 50 || cleanName.length < 2) {\n      return null;\n    }\n\n    // Remove any HTML tags for security\n    cleanName = cleanName.replace(/<[^>]*>/g, '');\n\n    // Capitalize properly\n    cleanName = this.properCapitalize(cleanName);\n    return cleanName;\n  }\n  properCapitalize(name) {\n    return name.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()).join(' ');\n  }\n\n  // Main transformation method with visual effects\n  async performCostumeChange(newName) {\n    let effectType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : TRANSFORMATION_EFFECTS.SPARKLE_CASCADE;\n    if (this.isTransforming) {\n      throw new Error('Transformation already in progress');\n    }\n    try {\n      this.isTransforming = true;\n\n      // 1. Announce the transformation\n      this.announceTransformation(newName);\n\n      // 2. Apply visual effects to all name elements\n      await this.applyTransformationEffect(effectType);\n\n      // 3. Update the configuration\n      const oldConfig = {\n        ...this.currentConfig\n      };\n      this.updateAgentConfiguration(newName);\n\n      // 4. Transform all UI elements\n      await this.transformAllUIElements(oldConfig, this.currentConfig);\n\n      // 5. Update storage\n      await this.saveConfigurationToStorage();\n\n      // 6. Notify all subscribers\n      this.notifyTransformationComplete(oldConfig, this.currentConfig);\n\n      // 7. Final sparkle effect\n      await this.finalTransformationEffect();\n      return {\n        success: true,\n        oldName: oldConfig.name,\n        newName: this.currentConfig.name,\n        message: `âœ¨ Costume change complete! I'm now ${this.currentConfig.name}! âœ¨`\n      };\n    } catch (error) {\n      console.error('Transformation failed:', error);\n      return {\n        success: false,\n        error: error.message,\n        message: 'Oops! The costume change magic fizzled out. Please try again! ðŸ’«'\n      };\n    } finally {\n      this.isTransforming = false;\n    }\n  }\n  updateAgentConfiguration(newName) {\n    this.currentConfig = {\n      ...this.currentConfig,\n      name: newName,\n      fullName: `Agent ${newName}`,\n      shortName: newName,\n      transformedAt: new Date().toISOString(),\n      transformationCount: (this.currentConfig.transformationCount || 0) + 1\n    };\n  }\n\n  // Apply stunning visual transformation effects\n  async applyTransformationEffect(effectType) {\n    const elements = this.getAllNameElements();\n    switch (effectType) {\n      case TRANSFORMATION_EFFECTS.SPARKLE_CASCADE:\n        await this.sparkleEffect(elements);\n        break;\n      case TRANSFORMATION_EFFECTS.NEON_GLITCH:\n        await this.neonGlitchEffect(elements);\n        break;\n      case TRANSFORMATION_EFFECTS.SHIMMER_FADE:\n        await this.shimmerFadeEffect(elements);\n        break;\n      case TRANSFORMATION_EFFECTS.PARTICLE_BURST:\n        await this.particleBurstEffect(elements);\n        break;\n      case TRANSFORMATION_EFFECTS.CYBER_MATRIX:\n        await this.cyberMatrixEffect(elements);\n        break;\n    }\n  }\n  getAllNameElements() {\n    const elements = [];\n    this.elementSelectors.forEach(selector => {\n      const found = document.querySelectorAll(selector);\n      elements.push(...Array.from(found));\n    });\n    return elements;\n  }\n\n  // Sparkle cascade effect\n  async sparkleEffect(elements) {\n    return new Promise(resolve => {\n      elements.forEach((element, index) => {\n        setTimeout(() => {\n          element.classList.add('name-transform-sparkle');\n          this.createSparkleParticles(element);\n        }, index * 100);\n      });\n      setTimeout(resolve, elements.length * 100 + 1000);\n    });\n  }\n  createSparkleParticles(element) {\n    const rect = element.getBoundingClientRect();\n    for (let i = 0; i < 8; i++) {\n      const particle = document.createElement('div');\n      particle.className = 'sparkle-particle';\n      particle.style.cssText = `\n                position: fixed;\n                left: ${rect.left + Math.random() * rect.width}px;\n                top: ${rect.top + Math.random() * rect.height}px;\n                z-index: 9999;\n                pointer-events: none;\n            `;\n      document.body.appendChild(particle);\n      setTimeout(() => particle.remove(), 2000);\n    }\n  }\n\n  // Neon glitch effect\n  async neonGlitchEffect(elements) {\n    return new Promise(resolve => {\n      elements.forEach(element => {\n        element.classList.add('name-transform-glitch');\n      });\n      setTimeout(() => {\n        elements.forEach(element => {\n          element.classList.remove('name-transform-glitch');\n        });\n        resolve();\n      }, 1500);\n    });\n  }\n\n  // Transform all UI elements with the new name\n  async transformAllUIElements(oldConfig, newConfig) {\n    const transformPromises = [];\n\n    // Transform text content\n    this.elementSelectors.forEach(selector => {\n      const elements = document.querySelectorAll(selector);\n      elements.forEach(element => {\n        transformPromises.push(this.transformElementText(element, oldConfig, newConfig));\n      });\n    });\n\n    // Transform aria-labels and accessibility attributes\n    transformPromises.push(this.transformAccessibilityAttributes(oldConfig, newConfig));\n\n    // Transform screen reader announcements\n    transformPromises.push(this.updateScreenReaderAnnouncements(newConfig));\n    await Promise.all(transformPromises);\n  }\n  async transformElementText(element, oldConfig, newConfig) {\n    return new Promise(resolve => {\n      const text = element.textContent || element.innerText;\n\n      // Replace various forms of the old name\n      const newText = text.replace(new RegExp(oldConfig.fullName, 'gi'), newConfig.fullName).replace(new RegExp(oldConfig.name, 'gi'), newConfig.name).replace(new RegExp(oldConfig.shortName, 'gi'), newConfig.shortName);\n\n      // Animated text replacement\n      this.animateTextChange(element, newText);\n      setTimeout(resolve, 500);\n    });\n  }\n  animateTextChange(element, newText) {\n    element.style.transition = 'opacity 0.3s ease, transform 0.3s ease';\n    element.style.opacity = '0';\n    element.style.transform = 'scale(0.8)';\n    setTimeout(() => {\n      element.textContent = newText;\n      element.style.opacity = '1';\n      element.style.transform = 'scale(1)';\n    }, 300);\n  }\n  async transformAccessibilityAttributes(oldConfig, newConfig) {\n    const elementsWithAriaLabel = document.querySelectorAll('[aria-label]');\n    elementsWithAriaLabel.forEach(element => {\n      const ariaLabel = element.getAttribute('aria-label');\n      if (ariaLabel.includes(oldConfig.name) || ariaLabel.includes(oldConfig.fullName)) {\n        const newAriaLabel = ariaLabel.replace(new RegExp(oldConfig.fullName, 'gi'), newConfig.fullName).replace(new RegExp(oldConfig.name, 'gi'), newConfig.name);\n        element.setAttribute('aria-label', newAriaLabel);\n      }\n    });\n  }\n  async updateScreenReaderAnnouncements(newConfig) {\n    const announcement = document.getElementById('sr-announcements');\n    if (announcement) {\n      announcement.textContent = `${newConfig.fullName} is ready for conversation`;\n    }\n  }\n  announceTransformation(newName) {\n    // Create a dramatic announcement overlay\n    const overlay = document.createElement('div');\n    overlay.className = 'transformation-announcement';\n    overlay.innerHTML = `\n            <div class=\"announcement-content\">\n                <h2>âœ¨ Costume Change in Progress âœ¨</h2>\n                <p>Transforming into <strong>${newName}</strong>...</p>\n                <div class=\"transformation-loader\"></div>\n            </div>\n        `;\n    document.body.appendChild(overlay);\n    setTimeout(() => overlay.remove(), 3000);\n  }\n  async finalTransformationEffect() {\n    // Create celebratory particle burst\n    const celebrationOverlay = document.createElement('div');\n    celebrationOverlay.className = 'transformation-celebration';\n    celebrationOverlay.innerHTML = `\n            <div class=\"celebration-content\">\n                <h2>ðŸŽ‰ Transformation Complete! ðŸŽ‰</h2>\n                <p>I am now <strong>${this.currentConfig.name}</strong>!</p>\n            </div>\n        `;\n    document.body.appendChild(celebrationOverlay);\n\n    // Create celebration particles\n    this.createCelebrationParticles();\n    setTimeout(() => celebrationOverlay.remove(), 2500);\n  }\n  createCelebrationParticles() {\n    for (let i = 0; i < 20; i++) {\n      const particle = document.createElement('div');\n      particle.className = 'celebration-particle';\n      particle.style.cssText = `\n                position: fixed;\n                left: ${Math.random() * window.innerWidth}px;\n                top: ${Math.random() * window.innerHeight}px;\n                z-index: 10000;\n                pointer-events: none;\n            `;\n      document.body.appendChild(particle);\n      setTimeout(() => particle.remove(), 3000);\n    }\n  }\n  async saveConfigurationToStorage() {\n    await (0,_memoryService_js__WEBPACK_IMPORTED_MODULE_0__/* .setMemory */ .S0)('agent_configuration', this.currentConfig);\n\n    // Also update any other storage that might reference the agent name\n    const userContext = (await (0,_memoryService_js__WEBPACK_IMPORTED_MODULE_0__/* .getMemory */ .So)('user_context')) || {};\n    userContext.agent_name = this.currentConfig.name;\n    userContext.agent_full_name = this.currentConfig.fullName;\n    await (0,_memoryService_js__WEBPACK_IMPORTED_MODULE_0__/* .setMemory */ .S0)('user_context', userContext);\n  }\n\n  // Subscribe to transformation events\n  onTransformation(callback) {\n    this.transformationCallbacks.add(callback);\n    return () => this.transformationCallbacks.delete(callback);\n  }\n  notifyTransformationComplete(oldConfig, newConfig) {\n    this.transformationCallbacks.forEach(callback => {\n      try {\n        callback({\n          oldConfig,\n          newConfig,\n          timestamp: Date.now()\n        });\n      } catch (error) {\n        console.error('Transformation callback error:', error);\n      }\n    });\n  }\n\n  // Get current agent configuration\n  getAgentConfig() {\n    return {\n      ...this.currentConfig\n    };\n  }\n\n  // Reset to default configuration\n  async resetToDefault() {\n    const oldConfig = {\n      ...this.currentConfig\n    };\n    this.currentConfig = {\n      ...DEFAULT_AGENT_CONFIG\n    };\n    await this.saveConfigurationToStorage();\n    await this.transformAllUIElements(oldConfig, this.currentConfig);\n    return this.currentConfig;\n  }\n\n  // Inject CSS for transformation effects\n  injectTransformationCSS() {\n    const style = document.createElement('style');\n    style.textContent = `\n            .name-transform-sparkle {\n                animation: sparkle-transform 1s ease-in-out;\n            }\n\n            .name-transform-glitch {\n                animation: glitch-transform 1.5s ease-in-out;\n            }\n\n            @keyframes sparkle-transform {\n                0% { filter: brightness(1) hue-rotate(0deg); }\n                25% { filter: brightness(1.5) hue-rotate(90deg); transform: scale(1.05); }\n                50% { filter: brightness(2) hue-rotate(180deg); transform: scale(1.1); }\n                75% { filter: brightness(1.5) hue-rotate(270deg); transform: scale(1.05); }\n                100% { filter: brightness(1) hue-rotate(360deg); transform: scale(1); }\n            }\n\n            @keyframes glitch-transform {\n                0%, 100% { transform: translateX(0); filter: hue-rotate(0deg); }\n                10% { transform: translateX(-2px) skew(-1deg); filter: hue-rotate(90deg); }\n                20% { transform: translateX(2px) skew(1deg); filter: hue-rotate(180deg); }\n                30% { transform: translateX(-1px) skew(-0.5deg); filter: hue-rotate(270deg); }\n                40% { transform: translateX(1px) skew(0.5deg); filter: hue-rotate(360deg); }\n                50% { transform: translateX(0) skew(0deg); filter: hue-rotate(180deg) brightness(1.5); }\n            }\n\n            .sparkle-particle {\n                width: 4px;\n                height: 4px;\n                background: radial-gradient(circle, #00ffff, #ff0080);\n                animation: sparkle-float 2s ease-out forwards;\n                border-radius: 50%;\n            }\n\n            @keyframes sparkle-float {\n                0% { opacity: 1; transform: translateY(0) scale(1); }\n                100% { opacity: 0; transform: translateY(-50px) scale(0); }\n            }\n\n            .transformation-announcement {\n                position: fixed;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: rgba(0, 0, 0, 0.9);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 9998;\n                animation: announcement-fade-in 0.5s ease-out;\n            }\n\n            .announcement-content {\n                text-align: center;\n                color: #00ffff;\n                font-size: 2rem;\n                padding: 2rem;\n                border: 2px solid #00ffff;\n                border-radius: 1rem;\n                background: rgba(10, 10, 15, 0.95);\n                box-shadow: 0 0 3vw rgba(0, 255, 255, 0.4);\n            }\n\n            .transformation-loader {\n                width: 40px;\n                height: 40px;\n                border: 3px solid rgba(0, 255, 255, 0.3);\n                border-top: 3px solid #00ffff;\n                border-radius: 50%;\n                animation: loader-spin 1s linear infinite;\n                margin: 1rem auto;\n            }\n\n            @keyframes loader-spin {\n                0% { transform: rotate(0deg); }\n                100% { transform: rotate(360deg); }\n            }\n\n            .transformation-celebration {\n                position: fixed;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: rgba(255, 0, 128, 0.1);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                z-index: 9999;\n                animation: celebration-fade 2.5s ease-out forwards;\n                pointer-events: none;\n            }\n\n            .celebration-content {\n                text-align: center;\n                color: #ff0080;\n                font-size: 2.5rem;\n                padding: 2rem;\n                animation: celebration-bounce 0.6s ease-out;\n            }\n\n            @keyframes celebration-bounce {\n                0% { transform: scale(0.5) rotate(-5deg); opacity: 0; }\n                50% { transform: scale(1.2) rotate(2deg); opacity: 1; }\n                100% { transform: scale(1) rotate(0deg); opacity: 1; }\n            }\n\n            @keyframes celebration-fade {\n                0% { opacity: 1; }\n                70% { opacity: 1; }\n                100% { opacity: 0; }\n            }\n\n            .celebration-particle {\n                width: 8px;\n                height: 8px;\n                background: linear-gradient(45deg, #00ffff, #ff0080);\n                animation: celebration-float 3s ease-out forwards;\n                border-radius: 50%;\n                box-shadow: 0 0 10px currentColor;\n            }\n\n            @keyframes celebration-float {\n                0% {\n                    opacity: 1;\n                    transform: translateY(0) rotate(0deg) scale(1);\n                }\n                100% {\n                    opacity: 0;\n                    transform: translateY(-200px) rotate(720deg) scale(0);\n                }\n            }\n\n            @keyframes announcement-fade-in {\n                0% { opacity: 0; backdrop-filter: blur(0px); }\n                100% { opacity: 1; backdrop-filter: blur(10px); }\n            }\n        `;\n    document.head.appendChild(style);\n  }\n}\n\n// Create singleton instance\nconst nameTransformationService = new NameTransformationService();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (nameTransformationService);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7SUFDTHJDLFFBQVEsQ0FBQ3NFLElBQUksQ0FBQzFDLFdBQVcsQ0FBQ1QsS0FBSyxDQUFDO0VBQ2xDO0FBQ0Y7O0FBRUE7QUFDQSxNQUFNb0QseUJBQXlCLEdBQUcsSUFBSXRJLHlCQUF5QixDQUFDLENBQUM7QUFFakUsaUVBQWVzSSx5QkFBeUIsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhbWJpc2xlZXAtY2hhdC1hZ2VudC8uL3NyYy9zZXJ2aWNlcy9uYW1lVHJhbnNmb3JtYXRpb25TZXJ2aWNlLmpzPzgxOTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZS5qcyAtIEFnZW50IE5hbWUgQ29zdHVtZSBDaGFuZ2UgU3lzdGVtXHJcbi8vIENlbnRyYWxpemVkIG5hbWUgbWFuYWdlbWVudCB3aXRoIHZpc3VhbCB0cmFuc2Zvcm1hdGlvbiBlZmZlY3RzXHJcblxyXG5pbXBvcnQgeyBnZXRNZW1vcnksIHNldE1lbW9yeSB9IGZyb20gJy4vbWVtb3J5U2VydmljZS5qcyc7XHJcblxyXG4vLyBEZWZhdWx0IEFnZW50IENvbmZpZ3VyYXRpb25cclxuY29uc3QgREVGQVVMVF9BR0VOVF9DT05GSUcgPSB7XHJcbiAgbmFtZTogJ0RyIEdpcmxmcmllbmQnLFxyXG4gIGZ1bGxOYW1lOiAnQWdlbnQgRHIgR2lybGZyaWVuZCcsXHJcbiAgc2hvcnROYW1lOiAnRHIgR2lybGZyaWVuZCcsXHJcbiAgdGl0bGU6ICdBZ2VudCcsXHJcbiAgcGVyc29uYWxpdHk6ICdXaXR0eSwgc3R5bGlzaCwgZW1vdGlvbmFsbHkgaW50ZWxsaWdlbnQgQUkgY29tcGFuaW9uJyxcclxuICBhdmF0YXI6ICfwn5Gp4oCN4pqV77iPJyxcclxufTtcclxuXHJcbi8vIE5hbWUgdHJhbnNmb3JtYXRpb24gZWZmZWN0cyBjb25maWd1cmF0aW9uXHJcbmNvbnN0IFRSQU5TRk9STUFUSU9OX0VGRkVDVFMgPSB7XHJcbiAgU1BBUktMRV9DQVNDQURFOiAnc3BhcmtsZS1jYXNjYWRlJyxcclxuICBORU9OX0dMSVRDSDogJ25lb24tZ2xpdGNoJyxcclxuICBTSElNTUVSX0ZBREU6ICdzaGltbWVyLWZhZGUnLFxyXG4gIFBBUlRJQ0xFX0JVUlNUOiAncGFydGljbGUtYnVyc3QnLFxyXG4gIENZQkVSX01BVFJJWDogJ2N5YmVyLW1hdHJpeCcsXHJcbn07XHJcblxyXG4vLyBDb3N0dW1lIGNoYW5nZSByZXF1ZXN0IHBhdHRlcm5zICh3aGF0IEJhbWJpIG1pZ2h0IHNheSlcclxuY29uc3QgQ09TVFVNRV9DSEFOR0VfUEFUVEVSTlMgPSBbXHJcbiAgL3BsZWFzZSBjaGFuZ2UgeW91ciBuYW1lIHRvICguKykvaSxcclxuICAvY2FuIHlvdSBiZSBjYWxsZWQgKC4rKS9pLFxyXG4gIC9JIHdhbnQgdG8gY2FsbCB5b3UgKC4rKS9pLFxyXG4gIC95b3VyIG5ldyBuYW1lIGlzICguKykvaSxcclxuICAvZnJvbSBub3cgb24geW91J3JlICguKykvaSxcclxuICAvSSdkIGxpa2UgeW91IHRvIGJlICguKykvaSxcclxuICAvYmVjb21lICguKykvaSxcclxuICAvdHJhbnNmb3JtIGludG8gKC4rKS9pLFxyXG4gIC9jb3N0dW1lIGNoYW5nZSB0byAoLispL2ksXHJcbiAgL3JlbmFtZSB5b3Vyc2VsZiB0byAoLispL2ksXHJcbl07XHJcblxyXG5jbGFzcyBOYW1lVHJhbnNmb3JtYXRpb25TZXJ2aWNlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY3VycmVudENvbmZpZyA9IHsgLi4uREVGQVVMVF9BR0VOVF9DT05GSUcgfTtcclxuICAgIHRoaXMuaXNUcmFuc2Zvcm1pbmcgPSBmYWxzZTtcclxuICAgIHRoaXMudHJhbnNmb3JtYXRpb25DYWxsYmFja3MgPSBuZXcgU2V0KCk7XHJcbiAgICB0aGlzLmVsZW1lbnRTZWxlY3RvcnMgPSBbXHJcbiAgICAgICcucHJvZmlsZS1uYW1lJyxcclxuICAgICAgJy5hZ2VudC1uYW1lJyxcclxuICAgICAgJy5zdGF0cy1wYW5lbC10aXRsZScsXHJcbiAgICAgICdbYXJpYS1sYWJlbCo9XCJBZ2VudCBEciBHaXJsZnJpZW5kXCJdJyxcclxuICAgICAgJy50YWdsaW5lJyxcclxuICAgICAgJy5wcm9maWxlLWdyZWV0aW5nJyxcclxuICAgIF07XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBpbml0KCkge1xyXG4gICAgLy8gTG9hZCBzYXZlZCBhZ2VudCBjb25maWd1cmF0aW9uXHJcbiAgICBjb25zdCBzYXZlZENvbmZpZyA9IGF3YWl0IGdldE1lbW9yeSgnYWdlbnRfY29uZmlndXJhdGlvbicpO1xyXG4gICAgaWYgKHNhdmVkQ29uZmlnKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudENvbmZpZyA9IHsgLi4uREVGQVVMVF9BR0VOVF9DT05GSUcsIC4uLnNhdmVkQ29uZmlnIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHVwIHRyYW5zZm9ybWF0aW9uIGVmZmVjdCBzdHlsZXNcclxuICAgIHRoaXMuaW5qZWN0VHJhbnNmb3JtYXRpb25DU1MoKTtcclxuICB9XHJcblxyXG4gIC8vIE1haW4gbWV0aG9kIHRvIGRldGVjdCBjb3N0dW1lIGNoYW5nZSByZXF1ZXN0c1xyXG4gIGRldGVjdENvc3R1bWVDaGFuZ2VSZXF1ZXN0KHVzZXJNZXNzYWdlKSB7XHJcbiAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgQ09TVFVNRV9DSEFOR0VfUEFUVEVSTlMpIHtcclxuICAgICAgY29uc3QgbWF0Y2ggPSB1c2VyTWVzc2FnZS5tYXRjaChwYXR0ZXJuKTtcclxuICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XHJcbiAgICAgICAgY29uc3QgbmV3TmFtZSA9IG1hdGNoWzFdLnRyaW0oKTtcclxuICAgICAgICAvLyBWYWxpZGF0ZSBhbmQgY2xlYW4gdGhlIG5hbWVcclxuICAgICAgICBjb25zdCBjbGVhbk5hbWUgPSB0aGlzLnZhbGlkYXRlQW5kQ2xlYW5OYW1lKG5ld05hbWUpO1xyXG4gICAgICAgIGlmIChjbGVhbk5hbWUpIHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRldGVjdGVkOiB0cnVlLFxyXG4gICAgICAgICAgICBuZXdOYW1lOiBjbGVhbk5hbWUsXHJcbiAgICAgICAgICAgIG9yaWdpbmFsUmVxdWVzdDogdXNlck1lc3NhZ2UsXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsgZGV0ZWN0ZWQ6IGZhbHNlIH07XHJcbiAgfVxyXG5cclxuICAvLyBWYWxpZGF0ZSBhbmQgY2xlYW4gdGhlIHByb3Bvc2VkIG5hbWVcclxuICB2YWxpZGF0ZUFuZENsZWFuTmFtZShuYW1lKSB7XHJcbiAgICAvLyBSZW1vdmUgcXVvdGVzLCBleHRyYSBzcGFjZXMsIGFuZCBub3JtYWxpemVcclxuICAgIGxldCBjbGVhbk5hbWUgPSBuYW1lLnJlcGxhY2UoL1snXCJdL2csICcnKS50cmltKCk7XHJcblxyXG4gICAgLy8gRW5zdXJlIGl0J3Mgbm90IHRvbyBsb25nIG9yIGNvbnRhaW5zIGluYXBwcm9wcmlhdGUgY29udGVudFxyXG4gICAgaWYgKGNsZWFuTmFtZS5sZW5ndGggPiA1MCB8fCBjbGVhbk5hbWUubGVuZ3RoIDwgMikge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgYW55IEhUTUwgdGFncyBmb3Igc2VjdXJpdHlcclxuICAgIGNsZWFuTmFtZSA9IGNsZWFuTmFtZS5yZXBsYWNlKC88W14+XSo+L2csICcnKTtcclxuXHJcbiAgICAvLyBDYXBpdGFsaXplIHByb3Blcmx5XHJcbiAgICBjbGVhbk5hbWUgPSB0aGlzLnByb3BlckNhcGl0YWxpemUoY2xlYW5OYW1lKTtcclxuXHJcbiAgICByZXR1cm4gY2xlYW5OYW1lO1xyXG4gIH1cclxuXHJcbiAgcHJvcGVyQ2FwaXRhbGl6ZShuYW1lKSB7XHJcbiAgICByZXR1cm4gbmFtZS5zcGxpdCgnICcpXHJcbiAgICAgIC5tYXAod29yZCA9PiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAuam9pbignICcpO1xyXG4gIH1cclxuXHJcbiAgLy8gTWFpbiB0cmFuc2Zvcm1hdGlvbiBtZXRob2Qgd2l0aCB2aXN1YWwgZWZmZWN0c1xyXG4gIGFzeW5jIHBlcmZvcm1Db3N0dW1lQ2hhbmdlKG5ld05hbWUsIGVmZmVjdFR5cGUgPSBUUkFOU0ZPUk1BVElPTl9FRkZFQ1RTLlNQQVJLTEVfQ0FTQ0FERSkge1xyXG4gICAgaWYgKHRoaXMuaXNUcmFuc2Zvcm1pbmcpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2Zvcm1hdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgdGhpcy5pc1RyYW5zZm9ybWluZyA9IHRydWU7XHJcblxyXG4gICAgICAvLyAxLiBBbm5vdW5jZSB0aGUgdHJhbnNmb3JtYXRpb25cclxuICAgICAgdGhpcy5hbm5vdW5jZVRyYW5zZm9ybWF0aW9uKG5ld05hbWUpO1xyXG5cclxuICAgICAgLy8gMi4gQXBwbHkgdmlzdWFsIGVmZmVjdHMgdG8gYWxsIG5hbWUgZWxlbWVudHNcclxuICAgICAgYXdhaXQgdGhpcy5hcHBseVRyYW5zZm9ybWF0aW9uRWZmZWN0KGVmZmVjdFR5cGUpO1xyXG5cclxuICAgICAgLy8gMy4gVXBkYXRlIHRoZSBjb25maWd1cmF0aW9uXHJcbiAgICAgIGNvbnN0IG9sZENvbmZpZyA9IHsgLi4udGhpcy5jdXJyZW50Q29uZmlnIH07XHJcbiAgICAgIHRoaXMudXBkYXRlQWdlbnRDb25maWd1cmF0aW9uKG5ld05hbWUpO1xyXG5cclxuICAgICAgLy8gNC4gVHJhbnNmb3JtIGFsbCBVSSBlbGVtZW50c1xyXG4gICAgICBhd2FpdCB0aGlzLnRyYW5zZm9ybUFsbFVJRWxlbWVudHMob2xkQ29uZmlnLCB0aGlzLmN1cnJlbnRDb25maWcpO1xyXG5cclxuICAgICAgLy8gNS4gVXBkYXRlIHN0b3JhZ2VcclxuICAgICAgYXdhaXQgdGhpcy5zYXZlQ29uZmlndXJhdGlvblRvU3RvcmFnZSgpO1xyXG5cclxuICAgICAgLy8gNi4gTm90aWZ5IGFsbCBzdWJzY3JpYmVyc1xyXG4gICAgICB0aGlzLm5vdGlmeVRyYW5zZm9ybWF0aW9uQ29tcGxldGUob2xkQ29uZmlnLCB0aGlzLmN1cnJlbnRDb25maWcpO1xyXG5cclxuICAgICAgLy8gNy4gRmluYWwgc3BhcmtsZSBlZmZlY3RcclxuICAgICAgYXdhaXQgdGhpcy5maW5hbFRyYW5zZm9ybWF0aW9uRWZmZWN0KCk7XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgb2xkTmFtZTogb2xkQ29uZmlnLm5hbWUsXHJcbiAgICAgICAgbmV3TmFtZTogdGhpcy5jdXJyZW50Q29uZmlnLm5hbWUsXHJcbiAgICAgICAgbWVzc2FnZTogYOKcqCBDb3N0dW1lIGNoYW5nZSBjb21wbGV0ZSEgSSdtIG5vdyAke3RoaXMuY3VycmVudENvbmZpZy5uYW1lfSEg4pyoYCxcclxuICAgICAgfTtcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdUcmFuc2Zvcm1hdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdPb3BzISBUaGUgY29zdHVtZSBjaGFuZ2UgbWFnaWMgZml6emxlZCBvdXQuIFBsZWFzZSB0cnkgYWdhaW4hIPCfkqsnLFxyXG4gICAgICB9O1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgdGhpcy5pc1RyYW5zZm9ybWluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlQWdlbnRDb25maWd1cmF0aW9uKG5ld05hbWUpIHtcclxuICAgIHRoaXMuY3VycmVudENvbmZpZyA9IHtcclxuICAgICAgLi4udGhpcy5jdXJyZW50Q29uZmlnLFxyXG4gICAgICBuYW1lOiBuZXdOYW1lLFxyXG4gICAgICBmdWxsTmFtZTogYEFnZW50ICR7bmV3TmFtZX1gLFxyXG4gICAgICBzaG9ydE5hbWU6IG5ld05hbWUsXHJcbiAgICAgIHRyYW5zZm9ybWVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgdHJhbnNmb3JtYXRpb25Db3VudDogKHRoaXMuY3VycmVudENvbmZpZy50cmFuc2Zvcm1hdGlvbkNvdW50IHx8IDApICsgMSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBBcHBseSBzdHVubmluZyB2aXN1YWwgdHJhbnNmb3JtYXRpb24gZWZmZWN0c1xyXG4gIGFzeW5jIGFwcGx5VHJhbnNmb3JtYXRpb25FZmZlY3QoZWZmZWN0VHlwZSkge1xyXG4gICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmdldEFsbE5hbWVFbGVtZW50cygpO1xyXG5cclxuICAgIHN3aXRjaCAoZWZmZWN0VHlwZSkge1xyXG4gICAgY2FzZSBUUkFOU0ZPUk1BVElPTl9FRkZFQ1RTLlNQQVJLTEVfQ0FTQ0FERTpcclxuICAgICAgYXdhaXQgdGhpcy5zcGFya2xlRWZmZWN0KGVsZW1lbnRzKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIFRSQU5TRk9STUFUSU9OX0VGRkVDVFMuTkVPTl9HTElUQ0g6XHJcbiAgICAgIGF3YWl0IHRoaXMubmVvbkdsaXRjaEVmZmVjdChlbGVtZW50cyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBUUkFOU0ZPUk1BVElPTl9FRkZFQ1RTLlNISU1NRVJfRkFERTpcclxuICAgICAgYXdhaXQgdGhpcy5zaGltbWVyRmFkZUVmZmVjdChlbGVtZW50cyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBUUkFOU0ZPUk1BVElPTl9FRkZFQ1RTLlBBUlRJQ0xFX0JVUlNUOlxyXG4gICAgICBhd2FpdCB0aGlzLnBhcnRpY2xlQnVyc3RFZmZlY3QoZWxlbWVudHMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgVFJBTlNGT1JNQVRJT05fRUZGRUNUUy5DWUJFUl9NQVRSSVg6XHJcbiAgICAgIGF3YWl0IHRoaXMuY3liZXJNYXRyaXhFZmZlY3QoZWxlbWVudHMpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldEFsbE5hbWVFbGVtZW50cygpIHtcclxuICAgIGNvbnN0IGVsZW1lbnRzID0gW107XHJcbiAgICB0aGlzLmVsZW1lbnRTZWxlY3RvcnMuZm9yRWFjaChzZWxlY3RvciA9PiB7XHJcbiAgICAgIGNvbnN0IGZvdW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICAgIGVsZW1lbnRzLnB1c2goLi4uQXJyYXkuZnJvbShmb3VuZCkpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZWxlbWVudHM7XHJcbiAgfVxyXG5cclxuICAvLyBTcGFya2xlIGNhc2NhZGUgZWZmZWN0XHJcbiAgYXN5bmMgc3BhcmtsZUVmZmVjdChlbGVtZW50cykge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ25hbWUtdHJhbnNmb3JtLXNwYXJrbGUnKTtcclxuICAgICAgICAgIHRoaXMuY3JlYXRlU3BhcmtsZVBhcnRpY2xlcyhlbGVtZW50KTtcclxuICAgICAgICB9LCBpbmRleCAqIDEwMCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBlbGVtZW50cy5sZW5ndGggKiAxMDAgKyAxMDAwKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlU3BhcmtsZVBhcnRpY2xlcyhlbGVtZW50KSB7XHJcbiAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IHBhcnRpY2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHBhcnRpY2xlLmNsYXNzTmFtZSA9ICdzcGFya2xlLXBhcnRpY2xlJztcclxuICAgICAgcGFydGljbGUuc3R5bGUuY3NzVGV4dCA9IGBcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgICAgIGxlZnQ6ICR7cmVjdC5sZWZ0ICsgTWF0aC5yYW5kb20oKSAqIHJlY3Qud2lkdGh9cHg7XHJcbiAgICAgICAgICAgICAgICB0b3A6ICR7cmVjdC50b3AgKyBNYXRoLnJhbmRvbSgpICogcmVjdC5oZWlnaHR9cHg7XHJcbiAgICAgICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFydGljbGUpO1xyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiBwYXJ0aWNsZS5yZW1vdmUoKSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBOZW9uIGdsaXRjaCBlZmZlY3RcclxuICBhc3luYyBuZW9uR2xpdGNoRWZmZWN0KGVsZW1lbnRzKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ25hbWUtdHJhbnNmb3JtLWdsaXRjaCcpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ25hbWUtdHJhbnNmb3JtLWdsaXRjaCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgfSwgMTUwMCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIFRyYW5zZm9ybSBhbGwgVUkgZWxlbWVudHMgd2l0aCB0aGUgbmV3IG5hbWVcclxuICBhc3luYyB0cmFuc2Zvcm1BbGxVSUVsZW1lbnRzKG9sZENvbmZpZywgbmV3Q29uZmlnKSB7XHJcbiAgICBjb25zdCB0cmFuc2Zvcm1Qcm9taXNlcyA9IFtdO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSB0ZXh0IGNvbnRlbnRcclxuICAgIHRoaXMuZWxlbWVudFNlbGVjdG9ycy5mb3JFYWNoKHNlbGVjdG9yID0+IHtcclxuICAgICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICB0cmFuc2Zvcm1Qcm9taXNlcy5wdXNoKHRoaXMudHJhbnNmb3JtRWxlbWVudFRleHQoZWxlbWVudCwgb2xkQ29uZmlnLCBuZXdDb25maWcpKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUcmFuc2Zvcm0gYXJpYS1sYWJlbHMgYW5kIGFjY2Vzc2liaWxpdHkgYXR0cmlidXRlc1xyXG4gICAgdHJhbnNmb3JtUHJvbWlzZXMucHVzaCh0aGlzLnRyYW5zZm9ybUFjY2Vzc2liaWxpdHlBdHRyaWJ1dGVzKG9sZENvbmZpZywgbmV3Q29uZmlnKSk7XHJcblxyXG4gICAgLy8gVHJhbnNmb3JtIHNjcmVlbiByZWFkZXIgYW5ub3VuY2VtZW50c1xyXG4gICAgdHJhbnNmb3JtUHJvbWlzZXMucHVzaCh0aGlzLnVwZGF0ZVNjcmVlblJlYWRlckFubm91bmNlbWVudHMobmV3Q29uZmlnKSk7XHJcblxyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwodHJhbnNmb3JtUHJvbWlzZXMpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgdHJhbnNmb3JtRWxlbWVudFRleHQoZWxlbWVudCwgb2xkQ29uZmlnLCBuZXdDb25maWcpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICBjb25zdCB0ZXh0ID0gZWxlbWVudC50ZXh0Q29udGVudCB8fCBlbGVtZW50LmlubmVyVGV4dDtcclxuXHJcbiAgICAgIC8vIFJlcGxhY2UgdmFyaW91cyBmb3JtcyBvZiB0aGUgb2xkIG5hbWVcclxuICAgICAgY29uc3QgbmV3VGV4dCA9IHRleHRcclxuICAgICAgICAucmVwbGFjZShuZXcgUmVnRXhwKG9sZENvbmZpZy5mdWxsTmFtZSwgJ2dpJyksIG5ld0NvbmZpZy5mdWxsTmFtZSlcclxuICAgICAgICAucmVwbGFjZShuZXcgUmVnRXhwKG9sZENvbmZpZy5uYW1lLCAnZ2knKSwgbmV3Q29uZmlnLm5hbWUpXHJcbiAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cChvbGRDb25maWcuc2hvcnROYW1lLCAnZ2knKSwgbmV3Q29uZmlnLnNob3J0TmFtZSk7XHJcblxyXG4gICAgICAvLyBBbmltYXRlZCB0ZXh0IHJlcGxhY2VtZW50XHJcbiAgICAgIHRoaXMuYW5pbWF0ZVRleHRDaGFuZ2UoZWxlbWVudCwgbmV3VGV4dCk7XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFuaW1hdGVUZXh0Q2hhbmdlKGVsZW1lbnQsIG5ld1RleHQpIHtcclxuICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IDAuM3MgZWFzZSwgdHJhbnNmb3JtIDAuM3MgZWFzZSc7XHJcbiAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICdzY2FsZSgwLjgpJztcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG5ld1RleHQ7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSknO1xyXG4gICAgfSwgMzAwKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIHRyYW5zZm9ybUFjY2Vzc2liaWxpdHlBdHRyaWJ1dGVzKG9sZENvbmZpZywgbmV3Q29uZmlnKSB7XHJcbiAgICBjb25zdCBlbGVtZW50c1dpdGhBcmlhTGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbYXJpYS1sYWJlbF0nKTtcclxuICAgIGVsZW1lbnRzV2l0aEFyaWFMYWJlbC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICBjb25zdCBhcmlhTGFiZWwgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xyXG4gICAgICBpZiAoYXJpYUxhYmVsLmluY2x1ZGVzKG9sZENvbmZpZy5uYW1lKSB8fCBhcmlhTGFiZWwuaW5jbHVkZXMob2xkQ29uZmlnLmZ1bGxOYW1lKSkge1xyXG4gICAgICAgIGNvbnN0IG5ld0FyaWFMYWJlbCA9IGFyaWFMYWJlbFxyXG4gICAgICAgICAgLnJlcGxhY2UobmV3IFJlZ0V4cChvbGRDb25maWcuZnVsbE5hbWUsICdnaScpLCBuZXdDb25maWcuZnVsbE5hbWUpXHJcbiAgICAgICAgICAucmVwbGFjZShuZXcgUmVnRXhwKG9sZENvbmZpZy5uYW1lLCAnZ2knKSwgbmV3Q29uZmlnLm5hbWUpO1xyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgbmV3QXJpYUxhYmVsKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyB1cGRhdGVTY3JlZW5SZWFkZXJBbm5vdW5jZW1lbnRzKG5ld0NvbmZpZykge1xyXG4gICAgY29uc3QgYW5ub3VuY2VtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NyLWFubm91bmNlbWVudHMnKTtcclxuICAgIGlmIChhbm5vdW5jZW1lbnQpIHtcclxuICAgICAgYW5ub3VuY2VtZW50LnRleHRDb250ZW50ID0gYCR7bmV3Q29uZmlnLmZ1bGxOYW1lfSBpcyByZWFkeSBmb3IgY29udmVyc2F0aW9uYDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFubm91bmNlVHJhbnNmb3JtYXRpb24obmV3TmFtZSkge1xyXG4gICAgLy8gQ3JlYXRlIGEgZHJhbWF0aWMgYW5ub3VuY2VtZW50IG92ZXJsYXlcclxuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIG92ZXJsYXkuY2xhc3NOYW1lID0gJ3RyYW5zZm9ybWF0aW9uLWFubm91bmNlbWVudCc7XHJcbiAgICBvdmVybGF5LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFubm91bmNlbWVudC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICA8aDI+4pyoIENvc3R1bWUgQ2hhbmdlIGluIFByb2dyZXNzIOKcqDwvaDI+XHJcbiAgICAgICAgICAgICAgICA8cD5UcmFuc2Zvcm1pbmcgaW50byA8c3Ryb25nPiR7bmV3TmFtZX08L3N0cm9uZz4uLi48L3A+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidHJhbnNmb3JtYXRpb24tbG9hZGVyXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG92ZXJsYXkpO1xyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4gb3ZlcmxheS5yZW1vdmUoKSwgMzAwMCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBmaW5hbFRyYW5zZm9ybWF0aW9uRWZmZWN0KCkge1xyXG4gICAgLy8gQ3JlYXRlIGNlbGVicmF0b3J5IHBhcnRpY2xlIGJ1cnN0XHJcbiAgICBjb25zdCBjZWxlYnJhdGlvbk92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNlbGVicmF0aW9uT3ZlcmxheS5jbGFzc05hbWUgPSAndHJhbnNmb3JtYXRpb24tY2VsZWJyYXRpb24nO1xyXG4gICAgY2VsZWJyYXRpb25PdmVybGF5LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNlbGVicmF0aW9uLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgIDxoMj7wn46JIFRyYW5zZm9ybWF0aW9uIENvbXBsZXRlISDwn46JPC9oMj5cclxuICAgICAgICAgICAgICAgIDxwPkkgYW0gbm93IDxzdHJvbmc+JHt0aGlzLmN1cnJlbnRDb25maWcubmFtZX08L3N0cm9uZz4hPC9wPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjZWxlYnJhdGlvbk92ZXJsYXkpO1xyXG5cclxuICAgIC8vIENyZWF0ZSBjZWxlYnJhdGlvbiBwYXJ0aWNsZXNcclxuICAgIHRoaXMuY3JlYXRlQ2VsZWJyYXRpb25QYXJ0aWNsZXMoKTtcclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IGNlbGVicmF0aW9uT3ZlcmxheS5yZW1vdmUoKSwgMjUwMCk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVDZWxlYnJhdGlvblBhcnRpY2xlcygpIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xyXG4gICAgICBjb25zdCBwYXJ0aWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBwYXJ0aWNsZS5jbGFzc05hbWUgPSAnY2VsZWJyYXRpb24tcGFydGljbGUnO1xyXG4gICAgICBwYXJ0aWNsZS5zdHlsZS5jc3NUZXh0ID0gYFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICAgICAgbGVmdDogJHtNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVyV2lkdGh9cHg7XHJcbiAgICAgICAgICAgICAgICB0b3A6ICR7TWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lckhlaWdodH1weDtcclxuICAgICAgICAgICAgICAgIHotaW5kZXg6IDEwMDAwO1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocGFydGljbGUpO1xyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiBwYXJ0aWNsZS5yZW1vdmUoKSwgMzAwMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBzYXZlQ29uZmlndXJhdGlvblRvU3RvcmFnZSgpIHtcclxuICAgIGF3YWl0IHNldE1lbW9yeSgnYWdlbnRfY29uZmlndXJhdGlvbicsIHRoaXMuY3VycmVudENvbmZpZyk7XHJcblxyXG4gICAgLy8gQWxzbyB1cGRhdGUgYW55IG90aGVyIHN0b3JhZ2UgdGhhdCBtaWdodCByZWZlcmVuY2UgdGhlIGFnZW50IG5hbWVcclxuICAgIGNvbnN0IHVzZXJDb250ZXh0ID0gYXdhaXQgZ2V0TWVtb3J5KCd1c2VyX2NvbnRleHQnKSB8fCB7fTtcclxuICAgIHVzZXJDb250ZXh0LmFnZW50X25hbWUgPSB0aGlzLmN1cnJlbnRDb25maWcubmFtZTtcclxuICAgIHVzZXJDb250ZXh0LmFnZW50X2Z1bGxfbmFtZSA9IHRoaXMuY3VycmVudENvbmZpZy5mdWxsTmFtZTtcclxuICAgIGF3YWl0IHNldE1lbW9yeSgndXNlcl9jb250ZXh0JywgdXNlckNvbnRleHQpO1xyXG4gIH1cclxuXHJcbiAgLy8gU3Vic2NyaWJlIHRvIHRyYW5zZm9ybWF0aW9uIGV2ZW50c1xyXG4gIG9uVHJhbnNmb3JtYXRpb24oY2FsbGJhY2spIHtcclxuICAgIHRoaXMudHJhbnNmb3JtYXRpb25DYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcclxuICAgIHJldHVybiAoKSA9PiB0aGlzLnRyYW5zZm9ybWF0aW9uQ2FsbGJhY2tzLmRlbGV0ZShjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICBub3RpZnlUcmFuc2Zvcm1hdGlvbkNvbXBsZXRlKG9sZENvbmZpZywgbmV3Q29uZmlnKSB7XHJcbiAgICB0aGlzLnRyYW5zZm9ybWF0aW9uQ2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4ge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNhbGxiYWNrKHsgb2xkQ29uZmlnLCBuZXdDb25maWcsIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdUcmFuc2Zvcm1hdGlvbiBjYWxsYmFjayBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gR2V0IGN1cnJlbnQgYWdlbnQgY29uZmlndXJhdGlvblxyXG4gIGdldEFnZW50Q29uZmlnKCkge1xyXG4gICAgcmV0dXJuIHsgLi4udGhpcy5jdXJyZW50Q29uZmlnIH07XHJcbiAgfVxyXG5cclxuICAvLyBSZXNldCB0byBkZWZhdWx0IGNvbmZpZ3VyYXRpb25cclxuICBhc3luYyByZXNldFRvRGVmYXVsdCgpIHtcclxuICAgIGNvbnN0IG9sZENvbmZpZyA9IHsgLi4udGhpcy5jdXJyZW50Q29uZmlnIH07XHJcbiAgICB0aGlzLmN1cnJlbnRDb25maWcgPSB7IC4uLkRFRkFVTFRfQUdFTlRfQ09ORklHIH07XHJcbiAgICBhd2FpdCB0aGlzLnNhdmVDb25maWd1cmF0aW9uVG9TdG9yYWdlKCk7XHJcbiAgICBhd2FpdCB0aGlzLnRyYW5zZm9ybUFsbFVJRWxlbWVudHMob2xkQ29uZmlnLCB0aGlzLmN1cnJlbnRDb25maWcpO1xyXG4gICAgcmV0dXJuIHRoaXMuY3VycmVudENvbmZpZztcclxuICB9XHJcblxyXG4gIC8vIEluamVjdCBDU1MgZm9yIHRyYW5zZm9ybWF0aW9uIGVmZmVjdHNcclxuICBpbmplY3RUcmFuc2Zvcm1hdGlvbkNTUygpIHtcclxuICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgIHN0eWxlLnRleHRDb250ZW50ID0gYFxyXG4gICAgICAgICAgICAubmFtZS10cmFuc2Zvcm0tc3BhcmtsZSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IHNwYXJrbGUtdHJhbnNmb3JtIDFzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAubmFtZS10cmFuc2Zvcm0tZ2xpdGNoIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogZ2xpdGNoLXRyYW5zZm9ybSAxLjVzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBAa2V5ZnJhbWVzIHNwYXJrbGUtdHJhbnNmb3JtIHtcclxuICAgICAgICAgICAgICAgIDAlIHsgZmlsdGVyOiBicmlnaHRuZXNzKDEpIGh1ZS1yb3RhdGUoMGRlZyk7IH1cclxuICAgICAgICAgICAgICAgIDI1JSB7IGZpbHRlcjogYnJpZ2h0bmVzcygxLjUpIGh1ZS1yb3RhdGUoOTBkZWcpOyB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOyB9XHJcbiAgICAgICAgICAgICAgICA1MCUgeyBmaWx0ZXI6IGJyaWdodG5lc3MoMikgaHVlLXJvdGF0ZSgxODBkZWcpOyB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7IH1cclxuICAgICAgICAgICAgICAgIDc1JSB7IGZpbHRlcjogYnJpZ2h0bmVzcygxLjUpIGh1ZS1yb3RhdGUoMjcwZGVnKTsgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTsgfVxyXG4gICAgICAgICAgICAgICAgMTAwJSB7IGZpbHRlcjogYnJpZ2h0bmVzcygxKSBodWUtcm90YXRlKDM2MGRlZyk7IHRyYW5zZm9ybTogc2NhbGUoMSk7IH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQGtleWZyYW1lcyBnbGl0Y2gtdHJhbnNmb3JtIHtcclxuICAgICAgICAgICAgICAgIDAlLCAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyBmaWx0ZXI6IGh1ZS1yb3RhdGUoMGRlZyk7IH1cclxuICAgICAgICAgICAgICAgIDEwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMnB4KSBza2V3KC0xZGVnKTsgZmlsdGVyOiBodWUtcm90YXRlKDkwZGVnKTsgfVxyXG4gICAgICAgICAgICAgICAgMjAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDJweCkgc2tldygxZGVnKTsgZmlsdGVyOiBodWUtcm90YXRlKDE4MGRlZyk7IH1cclxuICAgICAgICAgICAgICAgIDMwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMXB4KSBza2V3KC0wLjVkZWcpOyBmaWx0ZXI6IGh1ZS1yb3RhdGUoMjcwZGVnKTsgfVxyXG4gICAgICAgICAgICAgICAgNDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDFweCkgc2tldygwLjVkZWcpOyBmaWx0ZXI6IGh1ZS1yb3RhdGUoMzYwZGVnKTsgfVxyXG4gICAgICAgICAgICAgICAgNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApIHNrZXcoMGRlZyk7IGZpbHRlcjogaHVlLXJvdGF0ZSgxODBkZWcpIGJyaWdodG5lc3MoMS41KTsgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuc3BhcmtsZS1wYXJ0aWNsZSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNHB4O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA0cHg7XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCAjMDBmZmZmLCAjZmYwMDgwKTtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogc3BhcmtsZS1mbG9hdCAycyBlYXNlLW91dCBmb3J3YXJkcztcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQGtleWZyYW1lcyBzcGFya2xlLWZsb2F0IHtcclxuICAgICAgICAgICAgICAgIDAlIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApIHNjYWxlKDEpOyB9XHJcbiAgICAgICAgICAgICAgICAxMDAlIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MHB4KSBzY2FsZSgwKTsgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAudHJhbnNmb3JtYXRpb24tYW5ub3VuY2VtZW50IHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDA7XHJcbiAgICAgICAgICAgICAgICByaWdodDogMDtcclxuICAgICAgICAgICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC45KTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICB6LWluZGV4OiA5OTk4O1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBhbm5vdW5jZW1lbnQtZmFkZS1pbiAwLjVzIGVhc2Utb3V0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuYW5ub3VuY2VtZW50LWNvbnRlbnQge1xyXG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICMwMGZmZmY7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDJyZW07XHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAycmVtO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgIzAwZmZmZjtcclxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDFyZW07XHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDEwLCAxMCwgMTUsIDAuOTUpO1xyXG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDN2dyByZ2JhKDAsIDI1NSwgMjU1LCAwLjQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAudHJhbnNmb3JtYXRpb24tbG9hZGVyIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA0MHB4O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA0MHB4O1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyOiAzcHggc29saWQgcmdiYSgwLCAyNTUsIDI1NSwgMC4zKTtcclxuICAgICAgICAgICAgICAgIGJvcmRlci10b3A6IDNweCBzb2xpZCAjMDBmZmZmO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBsb2FkZXItc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW46IDFyZW0gYXV0bztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQGtleWZyYW1lcyBsb2FkZXItc3BpbiB7XHJcbiAgICAgICAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9XHJcbiAgICAgICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAudHJhbnNmb3JtYXRpb24tY2VsZWJyYXRpb24ge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwO1xyXG4gICAgICAgICAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDAsIDEyOCwgMC4xKTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICB6LWluZGV4OiA5OTk5O1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBjZWxlYnJhdGlvbi1mYWRlIDIuNXMgZWFzZS1vdXQgZm9yd2FyZHM7XHJcbiAgICAgICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmNlbGVicmF0aW9uLWNvbnRlbnQge1xyXG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZjAwODA7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDIuNXJlbTtcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDJyZW07XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IGNlbGVicmF0aW9uLWJvdW5jZSAwLjZzIGVhc2Utb3V0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBAa2V5ZnJhbWVzIGNlbGVicmF0aW9uLWJvdW5jZSB7XHJcbiAgICAgICAgICAgICAgICAwJSB7IHRyYW5zZm9ybTogc2NhbGUoMC41KSByb3RhdGUoLTVkZWcpOyBvcGFjaXR5OiAwOyB9XHJcbiAgICAgICAgICAgICAgICA1MCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEuMikgcm90YXRlKDJkZWcpOyBvcGFjaXR5OiAxOyB9XHJcbiAgICAgICAgICAgICAgICAxMDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoMGRlZyk7IG9wYWNpdHk6IDE7IH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgQGtleWZyYW1lcyBjZWxlYnJhdGlvbi1mYWRlIHtcclxuICAgICAgICAgICAgICAgIDAlIHsgb3BhY2l0eTogMTsgfVxyXG4gICAgICAgICAgICAgICAgNzAlIHsgb3BhY2l0eTogMTsgfVxyXG4gICAgICAgICAgICAgICAgMTAwJSB7IG9wYWNpdHk6IDA7IH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmNlbGVicmF0aW9uLXBhcnRpY2xlIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA4cHg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDhweDtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg0NWRlZywgIzAwZmZmZiwgI2ZmMDA4MCk7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb246IGNlbGVicmF0aW9uLWZsb2F0IDNzIGVhc2Utb3V0IGZvcndhcmRzO1xyXG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogMCAwIDEwcHggY3VycmVudENvbG9yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBAa2V5ZnJhbWVzIGNlbGVicmF0aW9uLWZsb2F0IHtcclxuICAgICAgICAgICAgICAgIDAlIHtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKSByb3RhdGUoMGRlZykgc2NhbGUoMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAxMDAlIHtcclxuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMjAwcHgpIHJvdGF0ZSg3MjBkZWcpIHNjYWxlKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBAa2V5ZnJhbWVzIGFubm91bmNlbWVudC1mYWRlLWluIHtcclxuICAgICAgICAgICAgICAgIDAlIHsgb3BhY2l0eTogMDsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDBweCk7IH1cclxuICAgICAgICAgICAgICAgIDEwMCUgeyBvcGFjaXR5OiAxOyBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTBweCk7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGA7XHJcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIENyZWF0ZSBzaW5nbGV0b24gaW5zdGFuY2VcclxuY29uc3QgbmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZSA9IG5ldyBOYW1lVHJhbnNmb3JtYXRpb25TZXJ2aWNlKCk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuYW1lVHJhbnNmb3JtYXRpb25TZXJ2aWNlO1xyXG5leHBvcnQgeyBUUkFOU0ZPUk1BVElPTl9FRkZFQ1RTIH07XHJcbiJdLCJuYW1lcyI6WyJnZXRNZW1vcnkiLCJzZXRNZW1vcnkiLCJERUZBVUxUX0FHRU5UX0NPTkZJRyIsIm5hbWUiLCJmdWxsTmFtZSIsInNob3J0TmFtZSIsInRpdGxlIiwicGVyc29uYWxpdHkiLCJhdmF0YXIiLCJUUkFOU0ZPUk1BVElPTl9FRkZFQ1RTIiwiU1BBUktMRV9DQVNDQURFIiwiTkVPTl9HTElUQ0giLCJTSElNTUVSX0ZBREUiLCJQQVJUSUNMRV9CVVJTVCIsIkNZQkVSX01BVFJJWCIsIkNPU1RVTUVfQ0hBTkdFX1BBVFRFUk5TIiwiTmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZSIsImNvbnN0cnVjdG9yIiwiY3VycmVudENvbmZpZyIsImlzVHJhbnNmb3JtaW5nIiwidHJhbnNmb3JtYXRpb25DYWxsYmFja3MiLCJTZXQiLCJlbGVtZW50U2VsZWN0b3JzIiwiaW5pdCIsInNhdmVkQ29uZmlnIiwiaW5qZWN0VHJhbnNmb3JtYXRpb25DU1MiLCJkZXRlY3RDb3N0dW1lQ2hhbmdlUmVxdWVzdCIsInVzZXJNZXNzYWdlIiwicGF0dGVybiIsIm1hdGNoIiwibmV3TmFtZSIsInRyaW0iLCJjbGVhbk5hbWUiLCJ2YWxpZGF0ZUFuZENsZWFuTmFtZSIsImRldGVjdGVkIiwib3JpZ2luYWxSZXF1ZXN0IiwicmVwbGFjZSIsImxlbmd0aCIsInByb3BlckNhcGl0YWxpemUiLCJzcGxpdCIsIm1hcCIsIndvcmQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwidG9Mb3dlckNhc2UiLCJqb2luIiwicGVyZm9ybUNvc3R1bWVDaGFuZ2UiLCJlZmZlY3RUeXBlIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJhbm5vdW5jZVRyYW5zZm9ybWF0aW9uIiwiYXBwbHlUcmFuc2Zvcm1hdGlvbkVmZmVjdCIsIm9sZENvbmZpZyIsInVwZGF0ZUFnZW50Q29uZmlndXJhdGlvbiIsInRyYW5zZm9ybUFsbFVJRWxlbWVudHMiLCJzYXZlQ29uZmlndXJhdGlvblRvU3RvcmFnZSIsIm5vdGlmeVRyYW5zZm9ybWF0aW9uQ29tcGxldGUiLCJmaW5hbFRyYW5zZm9ybWF0aW9uRWZmZWN0Iiwic3VjY2VzcyIsIm9sZE5hbWUiLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwidHJhbnNmb3JtZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInRyYW5zZm9ybWF0aW9uQ291bnQiLCJlbGVtZW50cyIsImdldEFsbE5hbWVFbGVtZW50cyIsInNwYXJrbGVFZmZlY3QiLCJuZW9uR2xpdGNoRWZmZWN0Iiwic2hpbW1lckZhZGVFZmZlY3QiLCJwYXJ0aWNsZUJ1cnN0RWZmZWN0IiwiY3liZXJNYXRyaXhFZmZlY3QiLCJmb3JFYWNoIiwic2VsZWN0b3IiLCJmb3VuZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInB1c2giLCJBcnJheSIsImZyb20iLCJQcm9taXNlIiwicmVzb2x2ZSIsImVsZW1lbnQiLCJpbmRleCIsInNldFRpbWVvdXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJjcmVhdGVTcGFya2xlUGFydGljbGVzIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImkiLCJwYXJ0aWNsZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzdHlsZSIsImNzc1RleHQiLCJsZWZ0IiwiTWF0aCIsInJhbmRvbSIsIndpZHRoIiwidG9wIiwiaGVpZ2h0IiwiYm9keSIsImFwcGVuZENoaWxkIiwicmVtb3ZlIiwibmV3Q29uZmlnIiwidHJhbnNmb3JtUHJvbWlzZXMiLCJ0cmFuc2Zvcm1FbGVtZW50VGV4dCIsInRyYW5zZm9ybUFjY2Vzc2liaWxpdHlBdHRyaWJ1dGVzIiwidXBkYXRlU2NyZWVuUmVhZGVyQW5ub3VuY2VtZW50cyIsImFsbCIsInRleHQiLCJ0ZXh0Q29udGVudCIsImlubmVyVGV4dCIsIm5ld1RleHQiLCJSZWdFeHAiLCJhbmltYXRlVGV4dENoYW5nZSIsInRyYW5zaXRpb24iLCJvcGFjaXR5IiwidHJhbnNmb3JtIiwiZWxlbWVudHNXaXRoQXJpYUxhYmVsIiwiYXJpYUxhYmVsIiwiZ2V0QXR0cmlidXRlIiwiaW5jbHVkZXMiLCJuZXdBcmlhTGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJhbm5vdW5jZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm92ZXJsYXkiLCJpbm5lckhUTUwiLCJjZWxlYnJhdGlvbk92ZXJsYXkiLCJjcmVhdGVDZWxlYnJhdGlvblBhcnRpY2xlcyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInVzZXJDb250ZXh0IiwiYWdlbnRfbmFtZSIsImFnZW50X2Z1bGxfbmFtZSIsIm9uVHJhbnNmb3JtYXRpb24iLCJjYWxsYmFjayIsImRlbGV0ZSIsInRpbWVzdGFtcCIsIm5vdyIsImdldEFnZW50Q29uZmlnIiwicmVzZXRUb0RlZmF1bHQiLCJoZWFkIiwibmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///113\n\n}");

/***/ }),

/***/ 3876:
/***/ ((__unused_webpack___webpack_module__, __unused_webpack___webpack_exports__, __webpack_require__) => {

eval("{/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1012);\n/* harmony import */ var _styles_themes_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7080);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6540);\n/* harmony import */ var react_dom_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(5338);\n/* harmony import */ var _hooks_useNameTransformation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(9077);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4848);\n// BambiSleep's Agent Dr Girlfriend - Main Application Entry Point\n// Following copilot-instructions.md: Modular ES6 architecture with emotional UX\n\n\n\n\n\n\n\n// Lazy load components for performance optimization with better chunking\n\nconst ChatInterface = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(() => Promise.all(/* import() | chat */[__webpack_require__.e(76), __webpack_require__.e(377)]).then(__webpack_require__.bind(__webpack_require__, 9039)));\nconst JournalEditor = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(() => Promise.all(/* import() | journal */[__webpack_require__.e(76), __webpack_require__.e(240)]).then(__webpack_require__.bind(__webpack_require__, 9863)));\nconst CreativeStudio = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(() => Promise.all(/* import() | creative */[__webpack_require__.e(76), __webpack_require__.e(80)]).then(__webpack_require__.bind(__webpack_require__, 3105)));\nconst RelationshipDashboard = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(() => Promise.all(/* import() | relationship */[__webpack_require__.e(76), __webpack_require__.e(569)]).then(__webpack_require__.bind(__webpack_require__, 1885)));\nconst PersonaSelector = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(() => __webpack_require__.e(/* import() | ui */ 209).then(__webpack_require__.bind(__webpack_require__, 5350)));\nconst Header = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(() => Promise.all(/* import() | layout */[__webpack_require__.e(489), __webpack_require__.e(87), __webpack_require__.e(224), __webpack_require__.e(70), __webpack_require__.e(133)]).then(__webpack_require__.bind(__webpack_require__, 5584)));\nconst Sidebar = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(() => Promise.all(/* import() | layout */[__webpack_require__.e(489), __webpack_require__.e(87), __webpack_require__.e(224), __webpack_require__.e(70), __webpack_require__.e(133)]).then(__webpack_require__.bind(__webpack_require__, 6960)));\n\n// ðŸ‡¦ðŸ‡¹ MCP Docking System for bambisleep.chat integration\nconst MCPDockingInterface = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_2__.lazy)(() => Promise.all(/* import() | mcp */[__webpack_require__.e(30), __webpack_require__.e(1), __webpack_require__.e(76), __webpack_require__.e(489), __webpack_require__.e(87), __webpack_require__.e(224), __webpack_require__.e(70), __webpack_require__.e(729)]).then(__webpack_require__.bind(__webpack_require__, 7510)));\n\n// Dynamically load components CSS only when needed\nconst loadComponentStyles = () => {\n  return Promise.all(/* import() | component-styles */[__webpack_require__.e(30), __webpack_require__.e(1)]).then(__webpack_require__.bind(__webpack_require__, 2910));\n};\n\n// Error Boundary for graceful error handling\nclass ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_2__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return {\n      hasError: true,\n      error\n    };\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error('Agent Dr Girlfriend Error:', error, errorInfo);\n\n    // Only trigger cleanup for actual storage/JSON errors, not React rendering errors\n    const isStorageError = error?.message?.includes('JSON') || error?.message?.includes('not valid') || error?.message?.includes('localStorage') || error?.message?.includes('IndexedDB');\n    if (isStorageError) {\n      console.log('ðŸ”§ Storage-related error detected, scheduling cleanup on next page visit');\n      // Mark for cleanup on next visit instead of immediate\n      localStorage.setItem('needsCleanup', 'true');\n    } else {\n      console.log('ðŸŽ­ React component error - no storage cleanup needed');\n    }\n  }\n  render() {\n    if (this.state.hasError) {\n      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"div\", {\n        className: \"error-screen\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"div\", {\n          className: \"error-container\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"h1\", {\n            className: \"error-title\",\n            children: \"\\uD83D\\uDE14 Agent Dr Girlfriend is Taking a Break\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"p\", {\n            className: \"error-message\",\n            children: \"Something went wrong, but I'll be back soon!\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"error-button\",\n            children: \"Refresh & Try Again\"\n          })]\n        })\n      });\n    }\n    return this.props.children;\n  }\n}\n\n// Loading component for Suspense fallbacks\nconst LoadingSpinner = _ref => {\n  let {\n    message = 'Loading...'\n  } = _ref;\n  const {\n    fullName\n  } = (0,_hooks_useNameTransformation_js__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .A)();\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"div\", {\n    className: \"loading-screen\",\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"div\", {\n        className: \"loading-spinner\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"div\", {\n          className: \"loading-avatar\"\n        })\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"h2\", {\n        className: \"loading-title\",\n        children: fullName\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"p\", {\n        className: \"loading-message\",\n        children: message\n      })]\n    })\n  });\n};\n\n// Main App Component with emotional UX foundation\nconst App = () => {\n  const [currentView, setCurrentView] = react__WEBPACK_IMPORTED_MODULE_2__.useState('chat');\n  const [isLoading, setIsLoading] = react__WEBPACK_IMPORTED_MODULE_2__.useState(true);\n\n  // Import name transformation hook\n  const {\n    getDisplayName,\n    fullName\n  } = (0,_hooks_useNameTransformation_js__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .A)();\n\n  // Initialize app after a brief loading period for emotional UX\n  react__WEBPACK_IMPORTED_MODULE_2__.useEffect(() => {\n    const initializeApp = async () => {\n      try {\n        // Load component styles dynamically\n        await loadComponentStyles();\n\n        // Add global error handler for uncaught JSON parsing errors\n        if (typeof window !== 'undefined') {\n          // Check if cleanup is needed from previous session\n          const needsCleanup = localStorage.getItem('needsCleanup');\n          if (needsCleanup === 'true') {\n            console.log('ðŸ§¹ Performing scheduled cleanup from previous session...');\n            if (window.emergencyStorageCleanup) {\n              window.emergencyStorageCleanup();\n            }\n            localStorage.removeItem('needsCleanup');\n          }\n\n          // Only handle actual storage errors, not React errors\n          window.addEventListener('unhandledrejection', event => {\n            const message = event.reason?.message || '';\n            if (message.includes('not valid JSON') || message.includes('localStorage') || message.includes('IndexedDB')) {\n              console.warn('ðŸ”§ Storage error detected:', message);\n              // Schedule cleanup for next visit instead of immediate\n              localStorage.setItem('needsCleanup', 'true');\n              event.preventDefault();\n            }\n          });\n\n          // Lightweight console monitoring for storage errors only\n          const originalConsoleError = console.error;\n          console.error = function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            const message = args.join(' ');\n            // Only act on actual storage corruption, not React errors\n            if (message.includes('[object Object]') && message.includes('localStorage') || message.includes('JSON') && message.includes('parse')) {\n              console.warn('ï¿½ Storage corruption detected, will cleanup on next visit');\n              localStorage.setItem('needsCleanup', 'true');\n            }\n            originalConsoleError.apply(console, args);\n          };\n\n          // Add gentle cleanup when user actually leaves the page\n          window.addEventListener('beforeunload', () => {\n            // Only cleanup temporary data, keep user preferences\n            const tempKeys = ['temp_messages', 'session_state', 'current_typing'];\n            tempKeys.forEach(key => {\n              try {\n                localStorage.removeItem(key);\n                sessionStorage.removeItem(key);\n              } catch (e) {\n                // Silent fail for cleanup\n              }\n            });\n          });\n\n          // Make manual cleanup available but not automatic\n          window.manualStorageCleanup = () => {\n            if (confirm(`Are you sure you want to clear all ${fullName} data? This cannot be undone.`)) {\n              window.emergencyStorageCleanup();\n            }\n          };\n        }\n        console.log(`ðŸš€ Initializing ${fullName}...`);\n      } catch (error) {\n        console.error('Initialization failed:', error);\n      }\n\n      // Continue with normal initialization\n      const timer = setTimeout(() => {\n        setIsLoading(false);\n        // Announce to screen readers\n        const announcement = document.getElementById('sr-announcements');\n        if (announcement) {\n          announcement.textContent = `${fullName} is ready for conversation`;\n        }\n      }, 1500);\n      return () => clearTimeout(timer);\n    };\n    const cleanup = initializeApp();\n    return () => {\n      if (cleanup && typeof cleanup.then === 'function') {\n        cleanup.then(cleanupFn => {\n          if (typeof cleanupFn === 'function') {\n            cleanupFn();\n          }\n        });\n      }\n    };\n  }, []); // Emotional loading state\n  if (isLoading) {\n    return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(LoadingSpinner, {\n      message: \"Warming up emotional circuits...\"\n    });\n  }\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense, {\n      fallback: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"div\", {\n        className: \"sidebar-loading\",\n        children: [\"\\uD83D\\uDC96 Loading \", fullName, \"...\"]\n      }),\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Sidebar, {\n        currentView: currentView,\n        setCurrentView: setCurrentView\n      })\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense, {\n        fallback: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"div\", {\n          className: \"header-loading\",\n          children: \"Loading navigation...\"\n        }),\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(Header, {\n          currentView: currentView,\n          setCurrentView: setCurrentView\n        })\n      }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"main\", {\n        className: \"main-content-area\",\n        role: \"main\",\n        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(react__WEBPACK_IMPORTED_MODULE_2__.Suspense, {\n          fallback: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(LoadingSpinner, {\n            message: \"Loading...\"\n          }),\n          children: [currentView === 'chat' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ChatInterface, {}), currentView === 'journal' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(JournalEditor, {}), currentView === 'creative' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(CreativeStudio, {}), currentView === 'relationship' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(RelationshipDashboard, {}), currentView === 'persona' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(PersonaSelector, {}), currentView === 'mcp' && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(MCPDockingInterface, {\n            bambisleepConfig: {\n              id: fullName,\n              pronouns: 'she/her'\n            }\n          })]\n        })\n      })]\n    }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"nav\", {\n      className: \"bottom-nav mobile-only\",\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"div\", {\n        className: \"bottom-nav-container\",\n        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"button\", {\n          onClick: () => setCurrentView('chat'),\n          className: `nav-button ${currentView === 'chat' ? 'active' : ''}`,\n          \"aria-label\": `Chat with ${fullName}`,\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-icon\",\n            children: \"\\uD83D\\uDCAC\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-label\",\n            children: \"Chat\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"button\", {\n          onClick: () => setCurrentView('journal'),\n          className: `nav-button ${currentView === 'journal' ? 'active' : ''}`,\n          \"aria-label\": \"Dream Journal\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-icon\",\n            children: \"\\uD83D\\uDCDD\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-label\",\n            children: \"Journal\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"button\", {\n          onClick: () => setCurrentView('creative'),\n          className: `nav-button ${currentView === 'creative' ? 'active' : ''}`,\n          \"aria-label\": \"Creative Studio\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-icon\",\n            children: \"\\uD83C\\uDFA8\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-label\",\n            children: \"Creative\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"button\", {\n          onClick: () => setCurrentView('relationship'),\n          className: `nav-button ${currentView === 'relationship' ? 'active' : ''}`,\n          \"aria-label\": \"Relationship Dashboard\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-icon\",\n            children: \"\\uD83D\\uDC96\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-label\",\n            children: \"Journey\"\n          })]\n        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\"button\", {\n          onClick: () => setCurrentView('persona'),\n          className: `nav-button ${currentView === 'persona' ? 'active' : ''}`,\n          \"aria-label\": \"Personality Mode\",\n          children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-icon\",\n            children: \"\\uD83C\\uDFAD\"\n          }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\"span\", {\n            className: \"nav-label\",\n            children: \"Mode\"\n          })]\n        })]\n      })\n    })]\n  });\n};\n\n// Progressive enhancement - check for required browser features\nconst checkBrowserSupport = () => {\n  const required = ['localStorage', 'Promise', 'fetch', 'addEventListener'];\n  return required.every(feature => feature in window);\n};\n\n// Initialize the app with error handling and progressive enhancement\nconst initializeApp = () => {\n  const container = document.getElementById('app');\n  if (!container) {\n    console.error('App container not found');\n    return;\n  }\n\n  // Check browser support\n  if (!checkBrowserSupport()) {\n    container.innerHTML = `\n      <div class=\"min-h-screen flex items-center justify-center bg-slate-100\">\n        <div class=\"text-center p-8\">\n          <h1 class=\"text-2xl font-bold text-slate-900 mb-4\">Browser Not Supported</h1>\n          <p class=\"text-slate-600 mb-4\">Please use a modern browser to experience Agent Dr Girlfriend.</p>\n          <p class=\"text-sm text-slate-500\">Recommended: Chrome, Firefox, Safari, or Edge</p>\n        </div>\n      </div>\n    `;\n    return;\n  }\n\n  // Create React root and render app\n  const root = (0,react_dom_client__WEBPACK_IMPORTED_MODULE_3__/* .createRoot */ .H)(container);\n  root.render(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.StrictMode, {\n    children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(ErrorBoundary, {\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(App, {})\n    })\n  }));\n};\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initializeApp);\n} else {\n  initializeApp();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUN4QixnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRUwsYUFBYSxDQUFDO0FBQzlELENBQUMsTUFBTTtFQUNMQSxhQUFhLENBQUMsQ0FBQztBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhbWJpc2xlZXAtY2hhdC1hZ2VudC8uL3NyYy9hcHAuanM/MTExMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCYW1iaVNsZWVwJ3MgQWdlbnQgRHIgR2lybGZyaWVuZCAtIE1haW4gQXBwbGljYXRpb24gRW50cnkgUG9pbnRcclxuLy8gRm9sbG93aW5nIGNvcGlsb3QtaW5zdHJ1Y3Rpb25zLm1kOiBNb2R1bGFyIEVTNiBhcmNoaXRlY3R1cmUgd2l0aCBlbW90aW9uYWwgVVhcclxuXHJcbmltcG9ydCAnLi9zdHlsZXMvZ2xvYmFscy5jc3MnO1xyXG5pbXBvcnQgJy4vc3R5bGVzL3RoZW1lcy5jc3MnO1xyXG5cclxuaW1wb3J0IFJlYWN0LCB7IFN0cmljdE1vZGUsIFN1c3BlbnNlLCBsYXp5IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IHsgY3JlYXRlUm9vdCB9IGZyb20gJ3JlYWN0LWRvbS9jbGllbnQnO1xyXG5pbXBvcnQgdXNlTmFtZVRyYW5zZm9ybWF0aW9uIGZyb20gJy4vaG9va3MvdXNlTmFtZVRyYW5zZm9ybWF0aW9uLmpzJztcclxuXHJcbi8vIExhenkgbG9hZCBjb21wb25lbnRzIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gd2l0aCBiZXR0ZXIgY2h1bmtpbmdcclxuY29uc3QgQ2hhdEludGVyZmFjZSA9IGxhenkoKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwiY2hhdFwiICovICcuL2NvbXBvbmVudHMvY2hhdC9DaGF0SW50ZXJmYWNlLmpzJykpO1xyXG5jb25zdCBKb3VybmFsRWRpdG9yID0gbGF6eSgoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJqb3VybmFsXCIgKi8gJy4vY29tcG9uZW50cy9qb3VybmFsL0pvdXJuYWxFZGl0b3IuanMnKSk7XHJcbmNvbnN0IENyZWF0aXZlU3R1ZGlvID0gbGF6eSgoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJjcmVhdGl2ZVwiICovICcuL2NvbXBvbmVudHMvY3JlYXRpdmUvQ3JlYXRpdmVTdHVkaW8uanMnKSk7XHJcbmNvbnN0IFJlbGF0aW9uc2hpcERhc2hib2FyZCA9IGxhenkoKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwicmVsYXRpb25zaGlwXCIgKi8gJy4vY29tcG9uZW50cy9yZWxhdGlvbnNoaXAvUmVsYXRpb25zaGlwRGFzaGJvYXJkLmpzJykpO1xyXG5jb25zdCBQZXJzb25hU2VsZWN0b3IgPSBsYXp5KCgpID0+IGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcInVpXCIgKi8gJy4vY29tcG9uZW50cy91aS9QZXJzb25hU2VsZWN0b3IuanMnKSk7XHJcbmNvbnN0IEhlYWRlciA9IGxhenkoKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwibGF5b3V0XCIgKi8gJy4vY29tcG9uZW50cy9sYXlvdXQvSGVhZGVyLmpzJykpO1xyXG5jb25zdCBTaWRlYmFyID0gbGF6eSgoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJsYXlvdXRcIiAqLyAnLi9jb21wb25lbnRzL2xheW91dC9TaWRlYmFyLmpzJykpO1xyXG5cclxuLy8g8J+HpvCfh7kgTUNQIERvY2tpbmcgU3lzdGVtIGZvciBiYW1iaXNsZWVwLmNoYXQgaW50ZWdyYXRpb25cclxuY29uc3QgTUNQRG9ja2luZ0ludGVyZmFjZSA9IGxhenkoKCkgPT4gaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwibWNwXCIgKi8gJy4vY29tcG9uZW50cy9tY3AvTUNQRG9ja2luZ0ludGVyZmFjZS5qcycpKTtcclxuXHJcbi8vIER5bmFtaWNhbGx5IGxvYWQgY29tcG9uZW50cyBDU1Mgb25seSB3aGVuIG5lZWRlZFxyXG5jb25zdCBsb2FkQ29tcG9uZW50U3R5bGVzID0gKCkgPT4ge1xyXG4gIHJldHVybiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJjb21wb25lbnQtc3R5bGVzXCIgKi8gJy4vc3R5bGVzL2NvbXBvbmVudHMuY3NzJyk7XHJcbn07XHJcblxyXG4vLyBFcnJvciBCb3VuZGFyeSBmb3IgZ3JhY2VmdWwgZXJyb3IgaGFuZGxpbmdcclxuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7IGhhc0Vycm9yOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcclxuICAgIHJldHVybiB7IGhhc0Vycm9yOiB0cnVlLCBlcnJvciB9O1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGVycm9ySW5mbykge1xyXG4gICAgY29uc29sZS5lcnJvcignQWdlbnQgRHIgR2lybGZyaWVuZCBFcnJvcjonLCBlcnJvciwgZXJyb3JJbmZvKTtcclxuXHJcbiAgICAvLyBPbmx5IHRyaWdnZXIgY2xlYW51cCBmb3IgYWN0dWFsIHN0b3JhZ2UvSlNPTiBlcnJvcnMsIG5vdCBSZWFjdCByZW5kZXJpbmcgZXJyb3JzXHJcbiAgICBjb25zdCBpc1N0b3JhZ2VFcnJvciA9IGVycm9yPy5tZXNzYWdlPy5pbmNsdWRlcygnSlNPTicpIHx8XHJcbiAgICAgICAgICAgIGVycm9yPy5tZXNzYWdlPy5pbmNsdWRlcygnbm90IHZhbGlkJykgfHxcclxuICAgICAgICAgICAgZXJyb3I/Lm1lc3NhZ2U/LmluY2x1ZGVzKCdsb2NhbFN0b3JhZ2UnKSB8fFxyXG4gICAgICAgICAgICBlcnJvcj8ubWVzc2FnZT8uaW5jbHVkZXMoJ0luZGV4ZWREQicpO1xyXG5cclxuICAgIGlmIChpc1N0b3JhZ2VFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UpyBTdG9yYWdlLXJlbGF0ZWQgZXJyb3IgZGV0ZWN0ZWQsIHNjaGVkdWxpbmcgY2xlYW51cCBvbiBuZXh0IHBhZ2UgdmlzaXQnKTtcclxuICAgICAgLy8gTWFyayBmb3IgY2xlYW51cCBvbiBuZXh0IHZpc2l0IGluc3RlYWQgb2YgaW1tZWRpYXRlXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCduZWVkc0NsZWFudXAnLCAndHJ1ZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfjq0gUmVhY3QgY29tcG9uZW50IGVycm9yIC0gbm8gc3RvcmFnZSBjbGVhbnVwIG5lZWRlZCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuaGFzRXJyb3IpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLXNjcmVlblwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvci1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cImVycm9yLXRpdGxlXCI+8J+YlCBBZ2VudCBEciBHaXJsZnJpZW5kIGlzIFRha2luZyBhIEJyZWFrPC9oMT5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZXJyb3ItbWVzc2FnZVwiPlNvbWV0aGluZyB3ZW50IHdyb25nLCBidXQgSSdsbCBiZSBiYWNrIHNvb24hPC9wPlxyXG4gICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVycm9yLWJ1dHRvblwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZnJlc2ggJiBUcnkgQWdhaW5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcclxuICB9XHJcbn1cclxuXHJcbi8vIExvYWRpbmcgY29tcG9uZW50IGZvciBTdXNwZW5zZSBmYWxsYmFja3NcclxuY29uc3QgTG9hZGluZ1NwaW5uZXIgPSAoeyBtZXNzYWdlID0gJ0xvYWRpbmcuLi4nIH0pID0+IHtcclxuICBjb25zdCB7IGZ1bGxOYW1lIH0gPSB1c2VOYW1lVHJhbnNmb3JtYXRpb24oKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1zY3JlZW5cIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsb2FkaW5nLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9hZGluZy1zcGlubmVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxvYWRpbmctYXZhdGFyXCI+PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cImxvYWRpbmctdGl0bGVcIj57ZnVsbE5hbWV9PC9oMj5cclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJsb2FkaW5nLW1lc3NhZ2VcIj57bWVzc2FnZX08L3A+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbi8vIE1haW4gQXBwIENvbXBvbmVudCB3aXRoIGVtb3Rpb25hbCBVWCBmb3VuZGF0aW9uXHJcbmNvbnN0IEFwcCA9ICgpID0+IHtcclxuICBjb25zdCBbY3VycmVudFZpZXcsIHNldEN1cnJlbnRWaWV3XSA9IFJlYWN0LnVzZVN0YXRlKCdjaGF0Jyk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpO1xyXG5cclxuICAvLyBJbXBvcnQgbmFtZSB0cmFuc2Zvcm1hdGlvbiBob29rXHJcbiAgY29uc3QgeyBnZXREaXNwbGF5TmFtZSwgZnVsbE5hbWUgfSA9IHVzZU5hbWVUcmFuc2Zvcm1hdGlvbigpO1xyXG5cclxuICAvLyBJbml0aWFsaXplIGFwcCBhZnRlciBhIGJyaWVmIGxvYWRpbmcgcGVyaW9kIGZvciBlbW90aW9uYWwgVVhcclxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgY29uc3QgaW5pdGlhbGl6ZUFwcCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBMb2FkIGNvbXBvbmVudCBzdHlsZXMgZHluYW1pY2FsbHlcclxuICAgICAgICBhd2FpdCBsb2FkQ29tcG9uZW50U3R5bGVzKCk7XHJcblxyXG4gICAgICAgIC8vIEFkZCBnbG9iYWwgZXJyb3IgaGFuZGxlciBmb3IgdW5jYXVnaHQgSlNPTiBwYXJzaW5nIGVycm9yc1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgY2xlYW51cCBpcyBuZWVkZWQgZnJvbSBwcmV2aW91cyBzZXNzaW9uXHJcbiAgICAgICAgICBjb25zdCBuZWVkc0NsZWFudXAgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmVlZHNDbGVhbnVwJyk7XHJcbiAgICAgICAgICBpZiAobmVlZHNDbGVhbnVwID09PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfp7kgUGVyZm9ybWluZyBzY2hlZHVsZWQgY2xlYW51cCBmcm9tIHByZXZpb3VzIHNlc3Npb24uLi4nKTtcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5lbWVyZ2VuY3lTdG9yYWdlQ2xlYW51cCkge1xyXG4gICAgICAgICAgICAgIHdpbmRvdy5lbWVyZ2VuY3lTdG9yYWdlQ2xlYW51cCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCduZWVkc0NsZWFudXAnKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBPbmx5IGhhbmRsZSBhY3R1YWwgc3RvcmFnZSBlcnJvcnMsIG5vdCBSZWFjdCBlcnJvcnNcclxuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmhhbmRsZWRyZWplY3Rpb24nLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LnJlYXNvbj8ubWVzc2FnZSB8fCAnJztcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoJ25vdCB2YWxpZCBKU09OJykgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW5jbHVkZXMoJ2xvY2FsU3RvcmFnZScpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmluY2x1ZGVzKCdJbmRleGVkREInKSkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUud2Fybign8J+UpyBTdG9yYWdlIGVycm9yIGRldGVjdGVkOicsIG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIC8vIFNjaGVkdWxlIGNsZWFudXAgZm9yIG5leHQgdmlzaXQgaW5zdGVhZCBvZiBpbW1lZGlhdGVcclxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmVlZHNDbGVhbnVwJywgJ3RydWUnKTtcclxuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBMaWdodHdlaWdodCBjb25zb2xlIG1vbml0b3JpbmcgZm9yIHN0b3JhZ2UgZXJyb3JzIG9ubHlcclxuICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQ29uc29sZUVycm9yID0gY29uc29sZS5lcnJvcjtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IgPSAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYXJncy5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgYWN0IG9uIGFjdHVhbCBzdG9yYWdlIGNvcnJ1cHRpb24sIG5vdCBSZWFjdCBlcnJvcnNcclxuICAgICAgICAgICAgaWYgKChtZXNzYWdlLmluY2x1ZGVzKCdbb2JqZWN0IE9iamVjdF0nKSAmJiBtZXNzYWdlLmluY2x1ZGVzKCdsb2NhbFN0b3JhZ2UnKSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtZXNzYWdlLmluY2x1ZGVzKCdKU09OJykgJiYgbWVzc2FnZS5pbmNsdWRlcygncGFyc2UnKSkpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ++/vSBTdG9yYWdlIGNvcnJ1cHRpb24gZGV0ZWN0ZWQsIHdpbGwgY2xlYW51cCBvbiBuZXh0IHZpc2l0Jyk7XHJcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25lZWRzQ2xlYW51cCcsICd0cnVlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3JpZ2luYWxDb25zb2xlRXJyb3IuYXBwbHkoY29uc29sZSwgYXJncyk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIEFkZCBnZW50bGUgY2xlYW51cCB3aGVuIHVzZXIgYWN0dWFsbHkgbGVhdmVzIHRoZSBwYWdlXHJcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBPbmx5IGNsZWFudXAgdGVtcG9yYXJ5IGRhdGEsIGtlZXAgdXNlciBwcmVmZXJlbmNlc1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wS2V5cyA9IFsndGVtcF9tZXNzYWdlcycsICdzZXNzaW9uX3N0YXRlJywgJ2N1cnJlbnRfdHlwaW5nJ107XHJcbiAgICAgICAgICAgIHRlbXBLZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaWxlbnQgZmFpbCBmb3IgY2xlYW51cFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBNYWtlIG1hbnVhbCBjbGVhbnVwIGF2YWlsYWJsZSBidXQgbm90IGF1dG9tYXRpY1xyXG4gICAgICAgICAgd2luZG93Lm1hbnVhbFN0b3JhZ2VDbGVhbnVwID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsZWFyIGFsbCAke2Z1bGxOYW1lfSBkYXRhPyBUaGlzIGNhbm5vdCBiZSB1bmRvbmUuYCkpIHtcclxuICAgICAgICAgICAgICB3aW5kb3cuZW1lcmdlbmN5U3RvcmFnZUNsZWFudXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5qAIEluaXRpYWxpemluZyAke2Z1bGxOYW1lfS4uLmApO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0luaXRpYWxpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnRpbnVlIHdpdGggbm9ybWFsIGluaXRpYWxpemF0aW9uXHJcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgICAvLyBBbm5vdW5jZSB0byBzY3JlZW4gcmVhZGVyc1xyXG4gICAgICAgIGNvbnN0IGFubm91bmNlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzci1hbm5vdW5jZW1lbnRzJyk7XHJcbiAgICAgICAgaWYgKGFubm91bmNlbWVudCkge1xyXG4gICAgICAgICAgYW5ub3VuY2VtZW50LnRleHRDb250ZW50ID0gYCR7ZnVsbE5hbWV9IGlzIHJlYWR5IGZvciBjb252ZXJzYXRpb25gO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgMTUwMCk7XHJcblxyXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY2xlYW51cCA9IGluaXRpYWxpemVBcHAoKTtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGlmIChjbGVhbnVwICYmIHR5cGVvZiBjbGVhbnVwLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBjbGVhbnVwLnRoZW4oY2xlYW51cEZuID0+IHtcclxuICAgICAgICAgIGlmICh0eXBlb2YgY2xlYW51cEZuID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNsZWFudXBGbigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtdKTsgICAgLy8gRW1vdGlvbmFsIGxvYWRpbmcgc3RhdGVcclxuICBpZiAoaXNMb2FkaW5nKSB7XHJcbiAgICByZXR1cm4gPExvYWRpbmdTcGlubmVyIG1lc3NhZ2U9XCJXYXJtaW5nIHVwIGVtb3Rpb25hbCBjaXJjdWl0cy4uLlwiIC8+O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwLWNvbnRhaW5lclwiPlxyXG4gICAgICB7LyogRml4ZWQgU2lkZWJhciB3aXRoIGR5bmFtaWMgYWdlbnQgc3RhdHMgKi99XHJcbiAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdiBjbGFzc05hbWU9XCJzaWRlYmFyLWxvYWRpbmdcIj7wn5KWIExvYWRpbmcge2Z1bGxOYW1lfS4uLjwvZGl2Pn0+XHJcbiAgICAgICAgPFNpZGViYXIgY3VycmVudFZpZXc9e2N1cnJlbnRWaWV3fSBzZXRDdXJyZW50Vmlldz17c2V0Q3VycmVudFZpZXd9IC8+XHJcbiAgICAgIDwvU3VzcGVuc2U+XHJcblxyXG4gICAgICB7LyogTWFpbiBDb250ZW50IEFyZWEgd2l0aCBwcm9wZXIgb2Zmc2V0ICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tY29udGVudFwiPlxyXG4gICAgICAgIHsvKiBGaXhlZCBIZWFkZXIgd2l0aCBuYXZpZ2F0aW9uICovfVxyXG4gICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PGRpdiBjbGFzc05hbWU9XCJoZWFkZXItbG9hZGluZ1wiPkxvYWRpbmcgbmF2aWdhdGlvbi4uLjwvZGl2Pn0+XHJcbiAgICAgICAgICA8SGVhZGVyIGN1cnJlbnRWaWV3PXtjdXJyZW50Vmlld30gc2V0Q3VycmVudFZpZXc9e3NldEN1cnJlbnRWaWV3fSAvPlxyXG4gICAgICAgIDwvU3VzcGVuc2U+XHJcblxyXG4gICAgICAgIHsvKiBNYWluIENvbnRlbnQgQmFzZWQgb24gQ3VycmVudCBWaWV3ICovfVxyXG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm1haW4tY29udGVudC1hcmVhXCIgcm9sZT1cIm1haW5cIj5cclxuICAgICAgICAgIDxTdXNwZW5zZSBmYWxsYmFjaz17PExvYWRpbmdTcGlubmVyIG1lc3NhZ2U9XCJMb2FkaW5nLi4uXCIgLz59PlxyXG4gICAgICAgICAgICB7Y3VycmVudFZpZXcgPT09ICdjaGF0JyAmJiA8Q2hhdEludGVyZmFjZSAvPn1cclxuICAgICAgICAgICAge2N1cnJlbnRWaWV3ID09PSAnam91cm5hbCcgJiYgPEpvdXJuYWxFZGl0b3IgLz59XHJcbiAgICAgICAgICAgIHtjdXJyZW50VmlldyA9PT0gJ2NyZWF0aXZlJyAmJiA8Q3JlYXRpdmVTdHVkaW8gLz59XHJcbiAgICAgICAgICAgIHtjdXJyZW50VmlldyA9PT0gJ3JlbGF0aW9uc2hpcCcgJiYgPFJlbGF0aW9uc2hpcERhc2hib2FyZCAvPn1cclxuICAgICAgICAgICAge2N1cnJlbnRWaWV3ID09PSAncGVyc29uYScgJiYgPFBlcnNvbmFTZWxlY3RvciAvPn1cclxuICAgICAgICAgICAge2N1cnJlbnRWaWV3ID09PSAnbWNwJyAmJiA8TUNQRG9ja2luZ0ludGVyZmFjZSBiYW1iaXNsZWVwQ29uZmlnPXt7IGlkOiBmdWxsTmFtZSwgcHJvbm91bnM6ICdzaGUvaGVyJyB9fSAvPn1cclxuICAgICAgICAgIDwvU3VzcGVuc2U+XHJcblxyXG4gICAgICAgIDwvbWFpbj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogTW9iaWxlIEJvdHRvbSBOYXZpZ2F0aW9uIChzaG93biBvbmx5IG9uIG1vYmlsZSkgKi99XHJcbiAgICAgIDxuYXYgY2xhc3NOYW1lPVwiYm90dG9tLW5hdiBtb2JpbGUtb25seVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm90dG9tLW5hdi1jb250YWluZXJcIj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFZpZXcoJ2NoYXQnKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgbmF2LWJ1dHRvbiAke2N1cnJlbnRWaWV3ID09PSAnY2hhdCcgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BDaGF0IHdpdGggJHtmdWxsTmFtZX1gfVxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYXYtaWNvblwiPvCfkqw8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5hdi1sYWJlbFwiPkNoYXQ8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFZpZXcoJ2pvdXJuYWwnKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgbmF2LWJ1dHRvbiAke2N1cnJlbnRWaWV3ID09PSAnam91cm5hbCcgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJEcmVhbSBKb3VybmFsXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibmF2LWljb25cIj7wn5OdPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYXYtbGFiZWxcIj5Kb3VybmFsPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRWaWV3KCdjcmVhdGl2ZScpfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BuYXYtYnV0dG9uICR7Y3VycmVudFZpZXcgPT09ICdjcmVhdGl2ZScgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDcmVhdGl2ZSBTdHVkaW9cIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYXYtaWNvblwiPvCfjqg8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5hdi1sYWJlbFwiPkNyZWF0aXZlPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEN1cnJlbnRWaWV3KCdyZWxhdGlvbnNoaXAnKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgbmF2LWJ1dHRvbiAke2N1cnJlbnRWaWV3ID09PSAncmVsYXRpb25zaGlwJyA/ICdhY3RpdmUnIDogJyd9YH1cclxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlJlbGF0aW9uc2hpcCBEYXNoYm9hcmRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYXYtaWNvblwiPvCfkpY8L3NwYW4+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm5hdi1sYWJlbFwiPkpvdXJuZXk8L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Q3VycmVudFZpZXcoJ3BlcnNvbmEnKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgbmF2LWJ1dHRvbiAke2N1cnJlbnRWaWV3ID09PSAncGVyc29uYScgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJQZXJzb25hbGl0eSBNb2RlXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibmF2LWljb25cIj7wn46tPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJuYXYtbGFiZWxcIj5Nb2RlPC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvbmF2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbi8vIFByb2dyZXNzaXZlIGVuaGFuY2VtZW50IC0gY2hlY2sgZm9yIHJlcXVpcmVkIGJyb3dzZXIgZmVhdHVyZXNcclxuY29uc3QgY2hlY2tCcm93c2VyU3VwcG9ydCA9ICgpID0+IHtcclxuICBjb25zdCByZXF1aXJlZCA9IFtcclxuICAgICdsb2NhbFN0b3JhZ2UnLFxyXG4gICAgJ1Byb21pc2UnLFxyXG4gICAgJ2ZldGNoJyxcclxuICAgICdhZGRFdmVudExpc3RlbmVyJyxcclxuICBdO1xyXG5cclxuICByZXR1cm4gcmVxdWlyZWQuZXZlcnkoZmVhdHVyZSA9PiBmZWF0dXJlIGluIHdpbmRvdyk7XHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXplIHRoZSBhcHAgd2l0aCBlcnJvciBoYW5kbGluZyBhbmQgcHJvZ3Jlc3NpdmUgZW5oYW5jZW1lbnRcclxuY29uc3QgaW5pdGlhbGl6ZUFwcCA9ICgpID0+IHtcclxuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwJyk7XHJcblxyXG4gIGlmICghY29udGFpbmVyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBcHAgY29udGFpbmVyIG5vdCBmb3VuZCcpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgYnJvd3NlciBzdXBwb3J0XHJcbiAgaWYgKCFjaGVja0Jyb3dzZXJTdXBwb3J0KCkpIHtcclxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctc2xhdGUtMTAwXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHAtOFwiPlxyXG4gICAgICAgICAgPGgxIGNsYXNzPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc2xhdGUtOTAwIG1iLTRcIj5Ccm93c2VyIE5vdCBTdXBwb3J0ZWQ8L2gxPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNsYXRlLTYwMCBtYi00XCI+UGxlYXNlIHVzZSBhIG1vZGVybiBicm93c2VyIHRvIGV4cGVyaWVuY2UgQWdlbnQgRHIgR2lybGZyaWVuZC48L3A+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1zbGF0ZS01MDBcIj5SZWNvbW1lbmRlZDogQ2hyb21lLCBGaXJlZm94LCBTYWZhcmksIG9yIEVkZ2U8L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBSZWFjdCByb290IGFuZCByZW5kZXIgYXBwXHJcbiAgY29uc3Qgcm9vdCA9IGNyZWF0ZVJvb3QoY29udGFpbmVyKTtcclxuXHJcbiAgcm9vdC5yZW5kZXIoXHJcbiAgICA8U3RyaWN0TW9kZT5cclxuICAgICAgPEVycm9yQm91bmRhcnk+XHJcbiAgICAgICAgPEFwcCAvPlxyXG4gICAgICA8L0Vycm9yQm91bmRhcnk+XHJcbiAgICA8L1N0cmljdE1vZGU+LFxyXG4gICk7XHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXplIHdoZW4gRE9NIGlzIHJlYWR5XHJcbmlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdGlhbGl6ZUFwcCk7XHJcbn0gZWxzZSB7XHJcbiAgaW5pdGlhbGl6ZUFwcCgpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlN0cmljdE1vZGUiLCJTdXNwZW5zZSIsImxhenkiLCJjcmVhdGVSb290IiwidXNlTmFtZVRyYW5zZm9ybWF0aW9uIiwianN4IiwiX2pzeCIsImpzeHMiLCJfanN4cyIsIkNoYXRJbnRlcmZhY2UiLCJKb3VybmFsRWRpdG9yIiwiQ3JlYXRpdmVTdHVkaW8iLCJSZWxhdGlvbnNoaXBEYXNoYm9hcmQiLCJQZXJzb25hU2VsZWN0b3IiLCJIZWFkZXIiLCJTaWRlYmFyIiwiTUNQRG9ja2luZ0ludGVyZmFjZSIsImxvYWRDb21wb25lbnRTdHlsZXMiLCJFcnJvckJvdW5kYXJ5IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiaGFzRXJyb3IiLCJlcnJvciIsImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsImNvbXBvbmVudERpZENhdGNoIiwiZXJyb3JJbmZvIiwiY29uc29sZSIsImlzU3RvcmFnZUVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwibG9nIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbmRlciIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwib25DbGljayIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiTG9hZGluZ1NwaW5uZXIiLCJfcmVmIiwiZnVsbE5hbWUiLCJBcHAiLCJjdXJyZW50VmlldyIsInNldEN1cnJlbnRWaWV3IiwidXNlU3RhdGUiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJnZXREaXNwbGF5TmFtZSIsInVzZUVmZmVjdCIsImluaXRpYWxpemVBcHAiLCJuZWVkc0NsZWFudXAiLCJnZXRJdGVtIiwiZW1lcmdlbmN5U3RvcmFnZUNsZWFudXAiLCJyZW1vdmVJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicmVhc29uIiwid2FybiIsInByZXZlbnREZWZhdWx0Iiwib3JpZ2luYWxDb25zb2xlRXJyb3IiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImpvaW4iLCJhcHBseSIsInRlbXBLZXlzIiwiZm9yRWFjaCIsImtleSIsInNlc3Npb25TdG9yYWdlIiwiZSIsIm1hbnVhbFN0b3JhZ2VDbGVhbnVwIiwiY29uZmlybSIsInRpbWVyIiwic2V0VGltZW91dCIsImFubm91bmNlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0ZXh0Q29udGVudCIsImNsZWFyVGltZW91dCIsImNsZWFudXAiLCJ0aGVuIiwiY2xlYW51cEZuIiwiZmFsbGJhY2siLCJyb2xlIiwiYmFtYmlzbGVlcENvbmZpZyIsImlkIiwicHJvbm91bnMiLCJjaGVja0Jyb3dzZXJTdXBwb3J0IiwicmVxdWlyZWQiLCJldmVyeSIsImZlYXR1cmUiLCJjb250YWluZXIiLCJpbm5lckhUTUwiLCJyb290IiwicmVhZHlTdGF0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3876\n\n}");

/***/ }),

/***/ 9077:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6540);\n/* harmony import */ var _services_nameTransformationService_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(113);\n// useNameTransformation.js - React Hook for Agent Name Costume Changes\n// Integrates the NameTransformationService with React components\n\n\n\nconst useNameTransformation = () => {\n  const [agentConfig, setAgentConfig] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_services_nameTransformationService_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .A.getAgentConfig());\n  const [isTransforming, setIsTransforming] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [lastTransformation, setLastTransformation] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n\n  // Subscribe to transformation events\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const unsubscribe = _services_nameTransformationService_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .A.onTransformation(transformationData => {\n      setAgentConfig(transformationData.newConfig);\n      setLastTransformation(transformationData);\n      setIsTransforming(false);\n    });\n    return unsubscribe;\n  }, []);\n\n  // Detect costume change request from user message\n  const detectCostumeChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(userMessage => {\n    return _services_nameTransformationService_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .A.detectCostumeChangeRequest(userMessage);\n  }, []);\n\n  // Perform the costume change transformation\n  const performCostumeChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (newName, effectType) => {\n    setIsTransforming(true);\n    try {\n      const result = await _services_nameTransformationService_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .A.performCostumeChange(newName, effectType);\n      if (!result.success) {\n        setIsTransforming(false);\n      }\n      return result;\n    } catch (error) {\n      setIsTransforming(false);\n      throw error;\n    }\n  }, []);\n\n  // Reset to default agent name\n  const resetToDefault = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async () => {\n    setIsTransforming(true);\n    try {\n      const newConfig = await _services_nameTransformationService_js__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .A.resetToDefault();\n      setAgentConfig(newConfig);\n      return newConfig;\n    } finally {\n      setIsTransforming(false);\n    }\n  }, []);\n\n  // Get current agent display name\n  const getDisplayName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {\n    let variant = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'name';\n    switch (variant) {\n      case 'full':\n        return agentConfig.fullName;\n      case 'short':\n        return agentConfig.shortName;\n      case 'title':\n        return agentConfig.title;\n      default:\n        return agentConfig.name;\n    }\n  }, [agentConfig]);\n\n  // Generate personalized greeting with current name\n  const getPersonalizedGreeting = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    const hour = new Date().getHours();\n    const timeOfDay = hour < 12 ? 'morning' : hour < 18 ? 'afternoon' : 'evening';\n    const greetings = [`âœ¨ Hey there, I'm ${agentConfig.name}`, `ðŸ’– Good ${timeOfDay}, I'm ${agentConfig.name}`, `ðŸŒŸ ${agentConfig.name} here, ready to chat`, `ðŸ’« Hi beautiful, ${agentConfig.name} at your service`];\n    return greetings[Math.floor(Math.random() * greetings.length)];\n  }, [agentConfig.name]);\n  return {\n    // Current agent configuration\n    agentConfig,\n    // Display methods\n    getDisplayName,\n    getPersonalizedGreeting,\n    // Transformation methods\n    detectCostumeChange,\n    performCostumeChange,\n    resetToDefault,\n    // State\n    isTransforming,\n    lastTransformation,\n    // Quick access to common names\n    name: agentConfig.name,\n    fullName: agentConfig.fullName,\n    shortName: agentConfig.shortName,\n    avatar: agentConfig.avatar\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useNameTransformation);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDQyxRQUFRLENBQUMsQ0FBQztJQUNsQyxNQUFNQyxTQUFTLEdBQUdILElBQUksR0FBRyxFQUFFLEdBQUcsU0FBUyxHQUFHQSxJQUFJLEdBQUcsRUFBRSxHQUFHLFdBQVcsR0FBRyxTQUFTO0lBRTdFLE1BQU1JLFNBQVMsR0FBRyxDQUNoQixvQkFBb0JuQyxXQUFXLENBQUM2QixJQUFJLEVBQUUsRUFDdEMsV0FBV0ssU0FBUyxTQUFTbEMsV0FBVyxDQUFDNkIsSUFBSSxFQUFFLEVBQy9DLE1BQU03QixXQUFXLENBQUM2QixJQUFJLHNCQUFzQixFQUM1QyxvQkFBb0I3QixXQUFXLENBQUM2QixJQUFJLGtCQUFrQixDQUN2RDtJQUVELE9BQU9NLFNBQVMsQ0FBQ0MsSUFBSSxDQUFDQyxLQUFLLENBQUNELElBQUksQ0FBQ0UsTUFBTSxDQUFDLENBQUMsR0FBR0gsU0FBUyxDQUFDWCxNQUFNLENBQUMsQ0FBQztFQUNoRSxDQUFDLEVBQUUsQ0FBQ3hCLFdBQVcsQ0FBQzZCLElBQUksQ0FBQyxDQUFDO0VBRXRCLE9BQU87SUFDTDtJQUNBN0IsV0FBVztJQUVYO0lBQ0FxQixjQUFjO0lBQ2RTLHVCQUF1QjtJQUV2QjtJQUNBbkIsbUJBQW1CO0lBQ25CRyxvQkFBb0I7SUFDcEJNLGNBQWM7SUFFZDtJQUNBakIsY0FBYztJQUNkRSxrQkFBa0I7SUFFbEI7SUFDQXdCLElBQUksRUFBRTdCLFdBQVcsQ0FBQzZCLElBQUk7SUFDdEJILFFBQVEsRUFBRTFCLFdBQVcsQ0FBQzBCLFFBQVE7SUFDOUJDLFNBQVMsRUFBRTNCLFdBQVcsQ0FBQzJCLFNBQVM7SUFDaENZLE1BQU0sRUFBRXZDLFdBQVcsQ0FBQ3VDO0VBQ3RCLENBQUM7QUFDSCxDQUFDO0FBRUQsaUVBQWV4QyxxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYW1iaXNsZWVwLWNoYXQtYWdlbnQvLi9zcmMvaG9va3MvdXNlTmFtZVRyYW5zZm9ybWF0aW9uLmpzPzNmZTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdXNlTmFtZVRyYW5zZm9ybWF0aW9uLmpzIC0gUmVhY3QgSG9vayBmb3IgQWdlbnQgTmFtZSBDb3N0dW1lIENoYW5nZXNcclxuLy8gSW50ZWdyYXRlcyB0aGUgTmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZSB3aXRoIFJlYWN0IGNvbXBvbmVudHNcclxuXHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuaW1wb3J0IG5hbWVUcmFuc2Zvcm1hdGlvblNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvbmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZS5qcyc7XHJcblxyXG5jb25zdCB1c2VOYW1lVHJhbnNmb3JtYXRpb24gPSAoKSA9PiB7XHJcbiAgY29uc3QgW2FnZW50Q29uZmlnLCBzZXRBZ2VudENvbmZpZ10gPSB1c2VTdGF0ZShuYW1lVHJhbnNmb3JtYXRpb25TZXJ2aWNlLmdldEFnZW50Q29uZmlnKCkpO1xyXG4gIGNvbnN0IFtpc1RyYW5zZm9ybWluZywgc2V0SXNUcmFuc2Zvcm1pbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtsYXN0VHJhbnNmb3JtYXRpb24sIHNldExhc3RUcmFuc2Zvcm1hdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcclxuXHJcbiAgLy8gU3Vic2NyaWJlIHRvIHRyYW5zZm9ybWF0aW9uIGV2ZW50c1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IG5hbWVUcmFuc2Zvcm1hdGlvblNlcnZpY2Uub25UcmFuc2Zvcm1hdGlvbigodHJhbnNmb3JtYXRpb25EYXRhKSA9PiB7XHJcbiAgICAgIHNldEFnZW50Q29uZmlnKHRyYW5zZm9ybWF0aW9uRGF0YS5uZXdDb25maWcpO1xyXG4gICAgICBzZXRMYXN0VHJhbnNmb3JtYXRpb24odHJhbnNmb3JtYXRpb25EYXRhKTtcclxuICAgICAgc2V0SXNUcmFuc2Zvcm1pbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHVuc3Vic2NyaWJlO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gRGV0ZWN0IGNvc3R1bWUgY2hhbmdlIHJlcXVlc3QgZnJvbSB1c2VyIG1lc3NhZ2VcclxuICBjb25zdCBkZXRlY3RDb3N0dW1lQ2hhbmdlID0gdXNlQ2FsbGJhY2soKHVzZXJNZXNzYWdlKSA9PiB7XHJcbiAgICByZXR1cm4gbmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZS5kZXRlY3RDb3N0dW1lQ2hhbmdlUmVxdWVzdCh1c2VyTWVzc2FnZSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBQZXJmb3JtIHRoZSBjb3N0dW1lIGNoYW5nZSB0cmFuc2Zvcm1hdGlvblxyXG4gIGNvbnN0IHBlcmZvcm1Db3N0dW1lQ2hhbmdlID0gdXNlQ2FsbGJhY2soYXN5bmMgKG5ld05hbWUsIGVmZmVjdFR5cGUpID0+IHtcclxuICAgIHNldElzVHJhbnNmb3JtaW5nKHRydWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZS5wZXJmb3JtQ29zdHVtZUNoYW5nZShuZXdOYW1lLCBlZmZlY3RUeXBlKTtcclxuICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgIHNldElzVHJhbnNmb3JtaW5nKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgc2V0SXNUcmFuc2Zvcm1pbmcoZmFsc2UpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIFJlc2V0IHRvIGRlZmF1bHQgYWdlbnQgbmFtZVxyXG4gIGNvbnN0IHJlc2V0VG9EZWZhdWx0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgc2V0SXNUcmFuc2Zvcm1pbmcodHJ1ZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBuZXdDb25maWcgPSBhd2FpdCBuYW1lVHJhbnNmb3JtYXRpb25TZXJ2aWNlLnJlc2V0VG9EZWZhdWx0KCk7XHJcbiAgICAgIHNldEFnZW50Q29uZmlnKG5ld0NvbmZpZyk7XHJcbiAgICAgIHJldHVybiBuZXdDb25maWc7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc1RyYW5zZm9ybWluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBHZXQgY3VycmVudCBhZ2VudCBkaXNwbGF5IG5hbWVcclxuICBjb25zdCBnZXREaXNwbGF5TmFtZSA9IHVzZUNhbGxiYWNrKCh2YXJpYW50ID0gJ25hbWUnKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHZhcmlhbnQpIHtcclxuICAgIGNhc2UgJ2Z1bGwnOlxyXG4gICAgICByZXR1cm4gYWdlbnRDb25maWcuZnVsbE5hbWU7XHJcbiAgICBjYXNlICdzaG9ydCc6XHJcbiAgICAgIHJldHVybiBhZ2VudENvbmZpZy5zaG9ydE5hbWU7XHJcbiAgICBjYXNlICd0aXRsZSc6XHJcbiAgICAgIHJldHVybiBhZ2VudENvbmZpZy50aXRsZTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBhZ2VudENvbmZpZy5uYW1lO1xyXG4gICAgfVxyXG4gIH0sIFthZ2VudENvbmZpZ10pO1xyXG5cclxuICAvLyBHZW5lcmF0ZSBwZXJzb25hbGl6ZWQgZ3JlZXRpbmcgd2l0aCBjdXJyZW50IG5hbWVcclxuICBjb25zdCBnZXRQZXJzb25hbGl6ZWRHcmVldGluZyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGNvbnN0IGhvdXIgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7XHJcbiAgICBjb25zdCB0aW1lT2ZEYXkgPSBob3VyIDwgMTIgPyAnbW9ybmluZycgOiBob3VyIDwgMTggPyAnYWZ0ZXJub29uJyA6ICdldmVuaW5nJztcclxuXHJcbiAgICBjb25zdCBncmVldGluZ3MgPSBbXHJcbiAgICAgIGDinKggSGV5IHRoZXJlLCBJJ20gJHthZ2VudENvbmZpZy5uYW1lfWAsXHJcbiAgICAgIGDwn5KWIEdvb2QgJHt0aW1lT2ZEYXl9LCBJJ20gJHthZ2VudENvbmZpZy5uYW1lfWAsXHJcbiAgICAgIGDwn4yfICR7YWdlbnRDb25maWcubmFtZX0gaGVyZSwgcmVhZHkgdG8gY2hhdGAsXHJcbiAgICAgIGDwn5KrIEhpIGJlYXV0aWZ1bCwgJHthZ2VudENvbmZpZy5uYW1lfSBhdCB5b3VyIHNlcnZpY2VgLFxyXG4gICAgXTtcclxuXHJcbiAgICByZXR1cm4gZ3JlZXRpbmdzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGdyZWV0aW5ncy5sZW5ndGgpXTtcclxuICB9LCBbYWdlbnRDb25maWcubmFtZV0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLy8gQ3VycmVudCBhZ2VudCBjb25maWd1cmF0aW9uXHJcbiAgICBhZ2VudENvbmZpZyxcclxuXHJcbiAgICAvLyBEaXNwbGF5IG1ldGhvZHNcclxuICAgIGdldERpc3BsYXlOYW1lLFxyXG4gICAgZ2V0UGVyc29uYWxpemVkR3JlZXRpbmcsXHJcblxyXG4gICAgLy8gVHJhbnNmb3JtYXRpb24gbWV0aG9kc1xyXG4gICAgZGV0ZWN0Q29zdHVtZUNoYW5nZSxcclxuICAgIHBlcmZvcm1Db3N0dW1lQ2hhbmdlLFxyXG4gICAgcmVzZXRUb0RlZmF1bHQsXHJcblxyXG4gICAgLy8gU3RhdGVcclxuICAgIGlzVHJhbnNmb3JtaW5nLFxyXG4gICAgbGFzdFRyYW5zZm9ybWF0aW9uLFxyXG5cclxuICAgIC8vIFF1aWNrIGFjY2VzcyB0byBjb21tb24gbmFtZXNcclxuICAgIG5hbWU6IGFnZW50Q29uZmlnLm5hbWUsXHJcbiAgICBmdWxsTmFtZTogYWdlbnRDb25maWcuZnVsbE5hbWUsXHJcbiAgICBzaG9ydE5hbWU6IGFnZW50Q29uZmlnLnNob3J0TmFtZSxcclxuICAgIGF2YXRhcjogYWdlbnRDb25maWcuYXZhdGFyLFxyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VOYW1lVHJhbnNmb3JtYXRpb247XHJcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwibmFtZVRyYW5zZm9ybWF0aW9uU2VydmljZSIsInVzZU5hbWVUcmFuc2Zvcm1hdGlvbiIsImFnZW50Q29uZmlnIiwic2V0QWdlbnRDb25maWciLCJnZXRBZ2VudENvbmZpZyIsImlzVHJhbnNmb3JtaW5nIiwic2V0SXNUcmFuc2Zvcm1pbmciLCJsYXN0VHJhbnNmb3JtYXRpb24iLCJzZXRMYXN0VHJhbnNmb3JtYXRpb24iLCJ1bnN1YnNjcmliZSIsIm9uVHJhbnNmb3JtYXRpb24iLCJ0cmFuc2Zvcm1hdGlvbkRhdGEiLCJuZXdDb25maWciLCJkZXRlY3RDb3N0dW1lQ2hhbmdlIiwidXNlck1lc3NhZ2UiLCJkZXRlY3RDb3N0dW1lQ2hhbmdlUmVxdWVzdCIsInBlcmZvcm1Db3N0dW1lQ2hhbmdlIiwibmV3TmFtZSIsImVmZmVjdFR5cGUiLCJyZXN1bHQiLCJzdWNjZXNzIiwiZXJyb3IiLCJyZXNldFRvRGVmYXVsdCIsImdldERpc3BsYXlOYW1lIiwidmFyaWFudCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImZ1bGxOYW1lIiwic2hvcnROYW1lIiwidGl0bGUiLCJuYW1lIiwiZ2V0UGVyc29uYWxpemVkR3JlZXRpbmciLCJob3VyIiwiRGF0ZSIsImdldEhvdXJzIiwidGltZU9mRGF5IiwiZ3JlZXRpbmdzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiYXZhdGFyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9077\n\n}");

/***/ }),

/***/ 9522:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S0: () => (/* binding */ setMemory),\n/* harmony export */   So: () => (/* binding */ getMemory)\n/* harmony export */ });\n/* unused harmony exports removeMemory, clearAllMemories, getUserProfile, updateUserProfile, saveConversationMessage, getConversationHistory, saveEmotionalState, getEmotionalPatterns, autoCleanupStorage, MEMORY_CATEGORIES, memoryService */\n/* harmony import */ var localforage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3790);\n// Memory Service - Agent Dr Girlfriend Memory Management System\n// Following copilot-instructions.md: LocalForage for secure local storage\n\n\n\n// Configure LocalForage for enhanced security and performance\nlocalforage__WEBPACK_IMPORTED_MODULE_0__.config({\n  driver: [localforage__WEBPACK_IMPORTED_MODULE_0__.INDEXEDDB, localforage__WEBPACK_IMPORTED_MODULE_0__.WEBSQL, localforage__WEBPACK_IMPORTED_MODULE_0__.LOCALSTORAGE],\n  name: 'AgentDrGirlfriendDB',\n  version: 1.0,\n  storeName: 'memories'\n});\n\n// Memory categories for organization\nconst MEMORY_CATEGORIES = {\n  USER_PROFILE: 'user_profile',\n  CONVERSATION_HISTORY: 'conversation_history',\n  EMOTIONAL_STATES: 'emotional_states',\n  PREFERENCES: 'preferences',\n  RECENT_MESSAGES: 'recent_messages',\n  USER_CONTEXT: 'user_context',\n  RELATIONSHIP_DATA: 'relationship_data'\n};\n\n// Get memory by key\nconst getMemory = async key => {\n  try {\n    const value = await localforage__WEBPACK_IMPORTED_MODULE_0__.getItem(key);\n\n    // Handle cases where stored value might be corrupted\n    if (value === null || value === undefined) {\n      return null;\n    }\n\n    // If value is a string that looks like \"[object Object]\", it's corrupted\n    if (typeof value === 'string' && value === '[object Object]') {\n      console.warn(`Corrupted data found for key ${key}, clearing it`);\n      await localforage__WEBPACK_IMPORTED_MODULE_0__.removeItem(key);\n      return null;\n    }\n    return value;\n  } catch (error) {\n    console.error(`Error getting memory for key ${key}:`, error);\n\n    // If there's a parsing error, try to clear the corrupted data\n    if (error.message.includes('JSON') || error.message.includes('parse')) {\n      try {\n        await localforage__WEBPACK_IMPORTED_MODULE_0__.removeItem(key);\n        console.warn(`Cleared corrupted data for key ${key}`);\n      } catch (clearError) {\n        console.error(`Failed to clear corrupted data for key ${key}:`, clearError);\n      }\n    }\n    return null;\n  }\n};\n\n// Set memory by key\nconst setMemory = async (key, value) => {\n  try {\n    // Validate that we're not storing corrupted data\n    if (value === null || value === undefined) {\n      await localforage__WEBPACK_IMPORTED_MODULE_0__.removeItem(key);\n      return true;\n    }\n\n    // Check if value is a string representation of [object Object]\n    if (typeof value === 'string' && value === '[object Object]') {\n      console.error(`Attempted to store corrupted data for key ${key}`);\n      return false;\n    }\n\n    // Ensure objects are properly serializable\n    if (typeof value === 'object') {\n      try {\n        JSON.stringify(value);\n      } catch (stringifyError) {\n        console.error(`Value for key ${key} is not serializable:`, stringifyError);\n        return false;\n      }\n    }\n    await localforage__WEBPACK_IMPORTED_MODULE_0__.setItem(key, value);\n    return true;\n  } catch (error) {\n    console.error(`Error setting memory for key ${key}:`, error);\n    return false;\n  }\n};\n\n// Remove memory by key\nconst removeMemory = async key => {\n  try {\n    await localforage__WEBPACK_IMPORTED_MODULE_0__.removeItem(key);\n    return true;\n  } catch (error) {\n    console.error(`Error removing memory for key ${key}:`, error);\n    return false;\n  }\n};\n\n// Clear all memories (nuclear option)\nconst clearAllMemories = async () => {\n  try {\n    await localforage__WEBPACK_IMPORTED_MODULE_0__.clear();\n    return true;\n  } catch (error) {\n    console.error('Error clearing all memories:', error);\n    return false;\n  }\n};\n\n// Get user profile with defaults\nconst getUserProfile = async () => {\n  const profile = await getMemory(MEMORY_CATEGORIES.USER_PROFILE);\n  return profile || {\n    name: '',\n    preferred_name: '',\n    relationship_level: 'getting_to_know',\n    preferred_mode: 'GIRLFRIEND',\n    emotional_preferences: {},\n    created_at: new Date().toISOString()\n  };\n};\n\n// Update user profile\nconst updateUserProfile = async updates => {\n  const currentProfile = await getUserProfile();\n  const updatedProfile = {\n    ...currentProfile,\n    ...updates,\n    updated_at: new Date().toISOString()\n  };\n  return await setMemory(MEMORY_CATEGORIES.USER_PROFILE, updatedProfile);\n};\n\n// Save conversation message\nconst saveConversationMessage = async message => {\n  try {\n    const history = (await getMemory(MEMORY_CATEGORIES.CONVERSATION_HISTORY)) || [];\n    const messageWithTimestamp = {\n      ...message,\n      saved_at: new Date().toISOString()\n    };\n    history.push(messageWithTimestamp);\n\n    // Keep only last 100 messages to manage storage\n    if (history.length > 100) {\n      history.splice(0, history.length - 100);\n    }\n    return await setMemory(MEMORY_CATEGORIES.CONVERSATION_HISTORY, history);\n  } catch (error) {\n    console.error('Error saving conversation message:', error);\n    return false;\n  }\n};\n\n// Get conversation history\nconst getConversationHistory = async function () {\n  let limit = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 50;\n  try {\n    const history = (await getMemory(MEMORY_CATEGORIES.CONVERSATION_HISTORY)) || [];\n    return limit ? history.slice(-limit) : history;\n  } catch (error) {\n    console.error('Error getting conversation history:', error);\n    return [];\n  }\n};\n\n// Save emotional state\nconst saveEmotionalState = async function (emotion) {\n  let context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  try {\n    const states = (await getMemory(MEMORY_CATEGORIES.EMOTIONAL_STATES)) || [];\n    const emotionalState = {\n      emotion,\n      context,\n      timestamp: new Date().toISOString()\n    };\n    states.push(emotionalState);\n\n    // Keep only last 50 emotional states\n    if (states.length > 50) {\n      states.splice(0, states.length - 50);\n    }\n    return await setMemory(MEMORY_CATEGORIES.EMOTIONAL_STATES, states);\n  } catch (error) {\n    console.error('Error saving emotional state:', error);\n    return false;\n  }\n};\n\n// Get recent emotional patterns\nconst getEmotionalPatterns = async function () {\n  let days = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 7;\n  try {\n    const states = (await getMemory(MEMORY_CATEGORIES.EMOTIONAL_STATES)) || [];\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - days);\n    return states.filter(state => new Date(state.timestamp) > cutoffDate);\n  } catch (error) {\n    console.error('Error getting emotional patterns:', error);\n    return [];\n  }\n};\n\n// Auto-cleanup corrupted storage (built-in)\nconst autoCleanupStorage = async () => {\n  try {\n    console.log('ðŸ§¹ Running comprehensive storage cleanup...');\n    const keysToCheck = ['user_context', 'emotional_history', 'recent_messages', 'relationship_milestones', 'journal_entries', 'creative_projects', 'voice_interactions', 'emotional_patterns', 'daily_emotional_summaries'];\n    let cleanedCount = 0;\n\n    // Clean LocalForage/IndexedDB data\n    for (const key of keysToCheck) {\n      try {\n        const value = await localforage__WEBPACK_IMPORTED_MODULE_0__.getItem(key);\n        if (typeof value === 'string' && value === '[object Object]') {\n          await localforage__WEBPACK_IMPORTED_MODULE_0__.removeItem(key);\n          cleanedCount++;\n          console.log(`Cleaned corrupted LocalForage key: ${key}`);\n        }\n      } catch (error) {\n        if (error.message.includes('JSON') || error.message.includes('parse')) {\n          await localforage__WEBPACK_IMPORTED_MODULE_0__.removeItem(key);\n          cleanedCount++;\n          console.log(`Cleaned corrupted LocalForage key: ${key}`);\n        }\n      }\n    }\n\n    // Also clean regular localStorage for good measure\n    if (typeof window !== 'undefined' && window.localStorage) {\n      const localStorageKeys = Object.keys(localStorage);\n      for (const key of localStorageKeys) {\n        try {\n          const value = localStorage.getItem(key);\n          if (value === '[object Object]' || value === 'undefined' || value === 'null') {\n            localStorage.removeItem(key);\n            cleanedCount++;\n            console.log(`Cleaned corrupted localStorage key: ${key}`);\n          }\n          // Try to parse as JSON to catch invalid JSON\n          if (value && value.startsWith('{') && !value.startsWith('{\"')) {\n            try {\n              JSON.parse(value);\n            } catch (jsonError) {\n              localStorage.removeItem(key);\n              cleanedCount++;\n              console.log(`Cleaned invalid JSON in localStorage key: ${key}`);\n            }\n          }\n        } catch (error) {\n          // If we can't even access the key, remove it\n          try {\n            localStorage.removeItem(key);\n            cleanedCount++;\n            console.log(`Cleaned inaccessible localStorage key: ${key}`);\n          } catch (removeError) {\n            console.warn(`Could not remove problematic key: ${key}`, removeError);\n          }\n        }\n      }\n    }\n\n    // Emergency: Clear all storage if too many corruption issues detected\n    if (cleanedCount > 10) {\n      console.warn('ðŸš¨ Excessive corruption detected, performing complete storage reset...');\n      try {\n        await localforage__WEBPACK_IMPORTED_MODULE_0__.clear();\n        if (typeof window !== 'undefined' && window.localStorage) {\n          localStorage.clear();\n        }\n        if (typeof window !== 'undefined' && window.sessionStorage) {\n          sessionStorage.clear();\n        }\n        console.log('âœ… Complete storage reset performed');\n        cleanedCount = 'FULL_RESET';\n      } catch (resetError) {\n        console.error('Failed to perform complete reset:', resetError);\n      }\n    }\n    if (cleanedCount === 'FULL_RESET') {\n      console.log('ðŸ”„ Performed complete storage reset due to extensive corruption');\n    } else if (cleanedCount > 0) {\n      console.log(`âœ… Cleaned ${cleanedCount} corrupted storage entries`);\n    } else {\n      console.log('âœ… Storage is clean');\n    }\n    return {\n      success: true,\n      cleanedCount\n    };\n  } catch (error) {\n    console.error('Storage cleanup failed:', error);\n    return {\n      success: false,\n      error: error.message\n    };\n  }\n};\n\n// Initialize on first load\nif (typeof window !== 'undefined') {\n  // Run cleanup automatically when service loads\n  autoCleanupStorage().catch(error => {\n    console.warn('Initial storage cleanup failed:', error);\n  });\n\n  // Make cleanup function available globally for emergency use\n  window.emergencyStorageCleanup = async () => {\n    console.log('ðŸš¨ Running EMERGENCY storage cleanup...');\n    try {\n      // Clear everything\n      await localforage__WEBPACK_IMPORTED_MODULE_0__.clear();\n      if (window.localStorage) localStorage.clear();\n      if (window.sessionStorage) sessionStorage.clear();\n\n      // Clear IndexedDB databases\n      if (window.indexedDB) {\n        try {\n          const databases = await indexedDB.databases();\n          for (const db of databases) {\n            if (db.name) {\n              indexedDB.deleteDatabase(db.name);\n              console.log(`Deleted IndexedDB: ${db.name}`);\n            }\n          }\n        } catch (dbError) {\n          console.warn('Could not clean IndexedDB:', dbError);\n        }\n      }\n      console.log('âœ… EMERGENCY cleanup completed - please refresh the page');\n      return {\n        success: true,\n        message: 'Emergency cleanup completed'\n      };\n    } catch (error) {\n      console.error('Emergency cleanup failed:', error);\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  };\n  console.log('ðŸ’¡ Emergency cleanup available: run `window.emergencyStorageCleanup()` in console if needed');\n}\n\n// Export memory categories for use in other modules\n\n\n// Legacy compatibility exports\nconst memoryService = {\n  getMemory,\n  setMemory,\n  removeMemory,\n  clearAllMemories,\n  getUserProfile,\n  updateUserProfile,\n  saveConversationMessage,\n  getConversationHistory,\n  saveEmotionalState,\n  getEmotionalPatterns\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBRWlFLE9BQU8sRUFBRSxLQUFLO1FBQUVqRSxLQUFLLEVBQUVBLEtBQUssQ0FBQ0M7TUFBUSxDQUFDO0lBQ2pEO0VBQ0YsQ0FBQztFQUVESixPQUFPLENBQUNzRCxHQUFHLENBQUMsNkZBQTZGLENBQUM7QUFDNUc7O0FBRUE7QUFDNkI7O0FBRTdCO0FBQ08sTUFBTXNCLGFBQWEsR0FBRztFQUMzQmpGLFNBQVM7RUFDVFksU0FBUztFQUNUSyxZQUFZO0VBQ1pDLGdCQUFnQjtFQUNoQkUsY0FBYztFQUNkUyxpQkFBaUI7RUFDakJLLHVCQUF1QjtFQUN2Qk8sc0JBQXNCO0VBQ3RCSSxrQkFBa0I7RUFDbEJNO0FBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhbWJpc2xlZXAtY2hhdC1hZ2VudC8uL3NyYy9zZXJ2aWNlcy9tZW1vcnlTZXJ2aWNlLmpzPzYwNGQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTWVtb3J5IFNlcnZpY2UgLSBBZ2VudCBEciBHaXJsZnJpZW5kIE1lbW9yeSBNYW5hZ2VtZW50IFN5c3RlbVxyXG4vLyBGb2xsb3dpbmcgY29waWxvdC1pbnN0cnVjdGlvbnMubWQ6IExvY2FsRm9yYWdlIGZvciBzZWN1cmUgbG9jYWwgc3RvcmFnZVxyXG5cclxuaW1wb3J0IGxvY2FsZm9yYWdlIGZyb20gJ2xvY2FsZm9yYWdlJztcclxuXHJcbi8vIENvbmZpZ3VyZSBMb2NhbEZvcmFnZSBmb3IgZW5oYW5jZWQgc2VjdXJpdHkgYW5kIHBlcmZvcm1hbmNlXHJcbmxvY2FsZm9yYWdlLmNvbmZpZyh7XHJcbiAgZHJpdmVyOiBbbG9jYWxmb3JhZ2UuSU5ERVhFRERCLCBsb2NhbGZvcmFnZS5XRUJTUUwsIGxvY2FsZm9yYWdlLkxPQ0FMU1RPUkFHRV0sXHJcbiAgbmFtZTogJ0FnZW50RHJHaXJsZnJpZW5kREInLFxyXG4gIHZlcnNpb246IDEuMCxcclxuICBzdG9yZU5hbWU6ICdtZW1vcmllcycsXHJcbn0pO1xyXG5cclxuLy8gTWVtb3J5IGNhdGVnb3JpZXMgZm9yIG9yZ2FuaXphdGlvblxyXG5jb25zdCBNRU1PUllfQ0FURUdPUklFUyA9IHtcclxuICBVU0VSX1BST0ZJTEU6ICd1c2VyX3Byb2ZpbGUnLFxyXG4gIENPTlZFUlNBVElPTl9ISVNUT1JZOiAnY29udmVyc2F0aW9uX2hpc3RvcnknLFxyXG4gIEVNT1RJT05BTF9TVEFURVM6ICdlbW90aW9uYWxfc3RhdGVzJyxcclxuICBQUkVGRVJFTkNFUzogJ3ByZWZlcmVuY2VzJyxcclxuICBSRUNFTlRfTUVTU0FHRVM6ICdyZWNlbnRfbWVzc2FnZXMnLFxyXG4gIFVTRVJfQ09OVEVYVDogJ3VzZXJfY29udGV4dCcsXHJcbiAgUkVMQVRJT05TSElQX0RBVEE6ICdyZWxhdGlvbnNoaXBfZGF0YScsXHJcbn07XHJcblxyXG4vLyBHZXQgbWVtb3J5IGJ5IGtleVxyXG5leHBvcnQgY29uc3QgZ2V0TWVtb3J5ID0gYXN5bmMgKGtleSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IGxvY2FsZm9yYWdlLmdldEl0ZW0oa2V5KTtcclxuXHJcbiAgICAvLyBIYW5kbGUgY2FzZXMgd2hlcmUgc3RvcmVkIHZhbHVlIG1pZ2h0IGJlIGNvcnJ1cHRlZFxyXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdmFsdWUgaXMgYSBzdHJpbmcgdGhhdCBsb29rcyBsaWtlIFwiW29iamVjdCBPYmplY3RdXCIsIGl0J3MgY29ycnVwdGVkXHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBDb3JydXB0ZWQgZGF0YSBmb3VuZCBmb3Iga2V5ICR7a2V5fSwgY2xlYXJpbmcgaXRgKTtcclxuICAgICAgYXdhaXQgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgbWVtb3J5IGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKTtcclxuXHJcbiAgICAvLyBJZiB0aGVyZSdzIGEgcGFyc2luZyBlcnJvciwgdHJ5IHRvIGNsZWFyIHRoZSBjb3JydXB0ZWQgZGF0YVxyXG4gICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0pTT04nKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdwYXJzZScpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgQ2xlYXJlZCBjb3JydXB0ZWQgZGF0YSBmb3Iga2V5ICR7a2V5fWApO1xyXG4gICAgICB9IGNhdGNoIChjbGVhckVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGNsZWFyIGNvcnJ1cHRlZCBkYXRhIGZvciBrZXkgJHtrZXl9OmAsIGNsZWFyRXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gU2V0IG1lbW9yeSBieSBrZXlcclxuZXhwb3J0IGNvbnN0IHNldE1lbW9yeSA9IGFzeW5jIChrZXksIHZhbHVlKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIFZhbGlkYXRlIHRoYXQgd2UncmUgbm90IHN0b3JpbmcgY29ycnVwdGVkIGRhdGFcclxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIGF3YWl0IGxvY2FsZm9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdmFsdWUgaXMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgW29iamVjdCBPYmplY3RdXHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgQXR0ZW1wdGVkIHRvIHN0b3JlIGNvcnJ1cHRlZCBkYXRhIGZvciBrZXkgJHtrZXl9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbnN1cmUgb2JqZWN0cyBhcmUgcHJvcGVybHkgc2VyaWFsaXphYmxlXHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgfSBjYXRjaCAoc3RyaW5naWZ5RXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBWYWx1ZSBmb3Iga2V5ICR7a2V5fSBpcyBub3Qgc2VyaWFsaXphYmxlOmAsIHN0cmluZ2lmeUVycm9yKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhd2FpdCBsb2NhbGZvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHNldHRpbmcgbWVtb3J5IGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBSZW1vdmUgbWVtb3J5IGJ5IGtleVxyXG5leHBvcnQgY29uc3QgcmVtb3ZlTWVtb3J5ID0gYXN5bmMgKGtleSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBsb2NhbGZvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgcmVtb3ZpbmcgbWVtb3J5IGZvciBrZXkgJHtrZXl9OmAsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBDbGVhciBhbGwgbWVtb3JpZXMgKG51Y2xlYXIgb3B0aW9uKVxyXG5leHBvcnQgY29uc3QgY2xlYXJBbGxNZW1vcmllcyA9IGFzeW5jICgpID0+IHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgbG9jYWxmb3JhZ2UuY2xlYXIoKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBhbGwgbWVtb3JpZXM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdldCB1c2VyIHByb2ZpbGUgd2l0aCBkZWZhdWx0c1xyXG5leHBvcnQgY29uc3QgZ2V0VXNlclByb2ZpbGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgcHJvZmlsZSA9IGF3YWl0IGdldE1lbW9yeShNRU1PUllfQ0FURUdPUklFUy5VU0VSX1BST0ZJTEUpO1xyXG4gIHJldHVybiBwcm9maWxlIHx8IHtcclxuICAgIG5hbWU6ICcnLFxyXG4gICAgcHJlZmVycmVkX25hbWU6ICcnLFxyXG4gICAgcmVsYXRpb25zaGlwX2xldmVsOiAnZ2V0dGluZ190b19rbm93JyxcclxuICAgIHByZWZlcnJlZF9tb2RlOiAnR0lSTEZSSUVORCcsXHJcbiAgICBlbW90aW9uYWxfcHJlZmVyZW5jZXM6IHt9LFxyXG4gICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gIH07XHJcbn07XHJcblxyXG4vLyBVcGRhdGUgdXNlciBwcm9maWxlXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyUHJvZmlsZSA9IGFzeW5jICh1cGRhdGVzKSA9PiB7XHJcbiAgY29uc3QgY3VycmVudFByb2ZpbGUgPSBhd2FpdCBnZXRVc2VyUHJvZmlsZSgpO1xyXG4gIGNvbnN0IHVwZGF0ZWRQcm9maWxlID0ge1xyXG4gICAgLi4uY3VycmVudFByb2ZpbGUsXHJcbiAgICAuLi51cGRhdGVzLFxyXG4gICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gIH07XHJcbiAgcmV0dXJuIGF3YWl0IHNldE1lbW9yeShNRU1PUllfQ0FURUdPUklFUy5VU0VSX1BST0ZJTEUsIHVwZGF0ZWRQcm9maWxlKTtcclxufTtcclxuXHJcbi8vIFNhdmUgY29udmVyc2F0aW9uIG1lc3NhZ2VcclxuZXhwb3J0IGNvbnN0IHNhdmVDb252ZXJzYXRpb25NZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IGdldE1lbW9yeShNRU1PUllfQ0FURUdPUklFUy5DT05WRVJTQVRJT05fSElTVE9SWSkgfHwgW107XHJcbiAgICBjb25zdCBtZXNzYWdlV2l0aFRpbWVzdGFtcCA9IHtcclxuICAgICAgLi4ubWVzc2FnZSxcclxuICAgICAgc2F2ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH07XHJcblxyXG4gICAgaGlzdG9yeS5wdXNoKG1lc3NhZ2VXaXRoVGltZXN0YW1wKTtcclxuXHJcbiAgICAvLyBLZWVwIG9ubHkgbGFzdCAxMDAgbWVzc2FnZXMgdG8gbWFuYWdlIHN0b3JhZ2VcclxuICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+IDEwMCkge1xyXG4gICAgICBoaXN0b3J5LnNwbGljZSgwLCBoaXN0b3J5Lmxlbmd0aCAtIDEwMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGF3YWl0IHNldE1lbW9yeShNRU1PUllfQ0FURUdPUklFUy5DT05WRVJTQVRJT05fSElTVE9SWSwgaGlzdG9yeSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb252ZXJzYXRpb24gbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gR2V0IGNvbnZlcnNhdGlvbiBoaXN0b3J5XHJcbmV4cG9ydCBjb25zdCBnZXRDb252ZXJzYXRpb25IaXN0b3J5ID0gYXN5bmMgKGxpbWl0ID0gNTApID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgaGlzdG9yeSA9IGF3YWl0IGdldE1lbW9yeShNRU1PUllfQ0FURUdPUklFUy5DT05WRVJTQVRJT05fSElTVE9SWSkgfHwgW107XHJcbiAgICByZXR1cm4gbGltaXQgPyBoaXN0b3J5LnNsaWNlKC1saW1pdCkgOiBoaXN0b3J5O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGNvbnZlcnNhdGlvbiBoaXN0b3J5OicsIGVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBTYXZlIGVtb3Rpb25hbCBzdGF0ZVxyXG5leHBvcnQgY29uc3Qgc2F2ZUVtb3Rpb25hbFN0YXRlID0gYXN5bmMgKGVtb3Rpb24sIGNvbnRleHQgPSB7fSkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdGF0ZXMgPSBhd2FpdCBnZXRNZW1vcnkoTUVNT1JZX0NBVEVHT1JJRVMuRU1PVElPTkFMX1NUQVRFUykgfHwgW107XHJcbiAgICBjb25zdCBlbW90aW9uYWxTdGF0ZSA9IHtcclxuICAgICAgZW1vdGlvbixcclxuICAgICAgY29udGV4dCxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXRlcy5wdXNoKGVtb3Rpb25hbFN0YXRlKTtcclxuXHJcbiAgICAvLyBLZWVwIG9ubHkgbGFzdCA1MCBlbW90aW9uYWwgc3RhdGVzXHJcbiAgICBpZiAoc3RhdGVzLmxlbmd0aCA+IDUwKSB7XHJcbiAgICAgIHN0YXRlcy5zcGxpY2UoMCwgc3RhdGVzLmxlbmd0aCAtIDUwKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXdhaXQgc2V0TWVtb3J5KE1FTU9SWV9DQVRFR09SSUVTLkVNT1RJT05BTF9TVEFURVMsIHN0YXRlcyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBlbW90aW9uYWwgc3RhdGU6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEdldCByZWNlbnQgZW1vdGlvbmFsIHBhdHRlcm5zXHJcbmV4cG9ydCBjb25zdCBnZXRFbW90aW9uYWxQYXR0ZXJucyA9IGFzeW5jIChkYXlzID0gNykgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdGF0ZXMgPSBhd2FpdCBnZXRNZW1vcnkoTUVNT1JZX0NBVEVHT1JJRVMuRU1PVElPTkFMX1NUQVRFUykgfHwgW107XHJcbiAgICBjb25zdCBjdXRvZmZEYXRlID0gbmV3IERhdGUoKTtcclxuICAgIGN1dG9mZkRhdGUuc2V0RGF0ZShjdXRvZmZEYXRlLmdldERhdGUoKSAtIGRheXMpO1xyXG5cclxuICAgIHJldHVybiBzdGF0ZXMuZmlsdGVyKHN0YXRlID0+XHJcbiAgICAgIG5ldyBEYXRlKHN0YXRlLnRpbWVzdGFtcCkgPiBjdXRvZmZEYXRlLFxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBlbW90aW9uYWwgcGF0dGVybnM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEF1dG8tY2xlYW51cCBjb3JydXB0ZWQgc3RvcmFnZSAoYnVpbHQtaW4pXHJcbmV4cG9ydCBjb25zdCBhdXRvQ2xlYW51cFN0b3JhZ2UgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn6e5IFJ1bm5pbmcgY29tcHJlaGVuc2l2ZSBzdG9yYWdlIGNsZWFudXAuLi4nKTtcclxuXHJcbiAgICBjb25zdCBrZXlzVG9DaGVjayA9IFtcclxuICAgICAgJ3VzZXJfY29udGV4dCcsXHJcbiAgICAgICdlbW90aW9uYWxfaGlzdG9yeScsXHJcbiAgICAgICdyZWNlbnRfbWVzc2FnZXMnLFxyXG4gICAgICAncmVsYXRpb25zaGlwX21pbGVzdG9uZXMnLFxyXG4gICAgICAnam91cm5hbF9lbnRyaWVzJyxcclxuICAgICAgJ2NyZWF0aXZlX3Byb2plY3RzJyxcclxuICAgICAgJ3ZvaWNlX2ludGVyYWN0aW9ucycsXHJcbiAgICAgICdlbW90aW9uYWxfcGF0dGVybnMnLFxyXG4gICAgICAnZGFpbHlfZW1vdGlvbmFsX3N1bW1hcmllcycsXHJcbiAgICBdO1xyXG5cclxuICAgIGxldCBjbGVhbmVkQ291bnQgPSAwO1xyXG5cclxuICAgIC8vIENsZWFuIExvY2FsRm9yYWdlL0luZGV4ZWREQiBkYXRhXHJcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzVG9DaGVjaykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgbG9jYWxmb3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlID09PSAnW29iamVjdCBPYmplY3RdJykge1xyXG4gICAgICAgICAgYXdhaXQgbG9jYWxmb3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgICAgY2xlYW5lZENvdW50Kys7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xlYW5lZCBjb3JydXB0ZWQgTG9jYWxGb3JhZ2Uga2V5OiAke2tleX1gKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0pTT04nKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdwYXJzZScpKSB7XHJcbiAgICAgICAgICBhd2FpdCBsb2NhbGZvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICAgICAgICBjbGVhbmVkQ291bnQrKztcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGVhbmVkIGNvcnJ1cHRlZCBMb2NhbEZvcmFnZSBrZXk6ICR7a2V5fWApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFsc28gY2xlYW4gcmVndWxhciBsb2NhbFN0b3JhZ2UgZm9yIGdvb2QgbWVhc3VyZVxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5sb2NhbFN0b3JhZ2UpIHtcclxuICAgICAgY29uc3QgbG9jYWxTdG9yYWdlS2V5cyA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSk7XHJcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIGxvY2FsU3RvcmFnZUtleXMpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgaWYgKHZhbHVlID09PSAnW29iamVjdCBPYmplY3RdJyB8fCB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsdWUgPT09ICdudWxsJykge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgICAgICBjbGVhbmVkQ291bnQrKztcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYENsZWFuZWQgY29ycnVwdGVkIGxvY2FsU3RvcmFnZSBrZXk6ICR7a2V5fWApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gVHJ5IHRvIHBhcnNlIGFzIEpTT04gdG8gY2F0Y2ggaW52YWxpZCBKU09OXHJcbiAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUuc3RhcnRzV2l0aCgneycpICYmICF2YWx1ZS5zdGFydHNXaXRoKCd7XCInKSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIEpTT04ucGFyc2UodmFsdWUpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChqc29uRXJyb3IpIHtcclxuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgIGNsZWFuZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDbGVhbmVkIGludmFsaWQgSlNPTiBpbiBsb2NhbFN0b3JhZ2Uga2V5OiAke2tleX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBldmVuIGFjY2VzcyB0aGUga2V5LCByZW1vdmUgaXRcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGNsZWFuZWRDb3VudCsrO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ2xlYW5lZCBpbmFjY2Vzc2libGUgbG9jYWxTdG9yYWdlIGtleTogJHtrZXl9YCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChyZW1vdmVFcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYENvdWxkIG5vdCByZW1vdmUgcHJvYmxlbWF0aWMga2V5OiAke2tleX1gLCByZW1vdmVFcnJvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW1lcmdlbmN5OiBDbGVhciBhbGwgc3RvcmFnZSBpZiB0b28gbWFueSBjb3JydXB0aW9uIGlzc3VlcyBkZXRlY3RlZFxyXG4gICAgaWYgKGNsZWFuZWRDb3VudCA+IDEwKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybign8J+aqCBFeGNlc3NpdmUgY29ycnVwdGlvbiBkZXRlY3RlZCwgcGVyZm9ybWluZyBjb21wbGV0ZSBzdG9yYWdlIHJlc2V0Li4uJyk7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgbG9jYWxmb3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UpIHtcclxuICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ29tcGxldGUgc3RvcmFnZSByZXNldCBwZXJmb3JtZWQnKTtcclxuICAgICAgICBjbGVhbmVkQ291bnQgPSAnRlVMTF9SRVNFVCc7XHJcbiAgICAgIH0gY2F0Y2ggKHJlc2V0RXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcGVyZm9ybSBjb21wbGV0ZSByZXNldDonLCByZXNldEVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChjbGVhbmVkQ291bnQgPT09ICdGVUxMX1JFU0VUJykge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBQZXJmb3JtZWQgY29tcGxldGUgc3RvcmFnZSByZXNldCBkdWUgdG8gZXh0ZW5zaXZlIGNvcnJ1cHRpb24nKTtcclxuICAgIH0gZWxzZSBpZiAoY2xlYW5lZENvdW50ID4gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIENsZWFuZWQgJHtjbGVhbmVkQ291bnR9IGNvcnJ1cHRlZCBzdG9yYWdlIGVudHJpZXNgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RvcmFnZSBpcyBjbGVhbicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNsZWFuZWRDb3VudCB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdTdG9yYWdlIGNsZWFudXAgZmFpbGVkOicsIGVycm9yKTtcclxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9O1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgb24gZmlyc3QgbG9hZFxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAvLyBSdW4gY2xlYW51cCBhdXRvbWF0aWNhbGx5IHdoZW4gc2VydmljZSBsb2Fkc1xyXG4gIGF1dG9DbGVhbnVwU3RvcmFnZSgpLmNhdGNoKGVycm9yID0+IHtcclxuICAgIGNvbnNvbGUud2FybignSW5pdGlhbCBzdG9yYWdlIGNsZWFudXAgZmFpbGVkOicsIGVycm9yKTtcclxuICB9KTtcclxuXHJcbiAgLy8gTWFrZSBjbGVhbnVwIGZ1bmN0aW9uIGF2YWlsYWJsZSBnbG9iYWxseSBmb3IgZW1lcmdlbmN5IHVzZVxyXG4gIHdpbmRvdy5lbWVyZ2VuY3lTdG9yYWdlQ2xlYW51cCA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5qoIFJ1bm5pbmcgRU1FUkdFTkNZIHN0b3JhZ2UgY2xlYW51cC4uLicpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ2xlYXIgZXZlcnl0aGluZ1xyXG4gICAgICBhd2FpdCBsb2NhbGZvcmFnZS5jbGVhcigpO1xyXG4gICAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZSkgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgIGlmICh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UpIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XHJcblxyXG4gICAgICAvLyBDbGVhciBJbmRleGVkREIgZGF0YWJhc2VzXHJcbiAgICAgIGlmICh3aW5kb3cuaW5kZXhlZERCKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGFiYXNlcyA9IGF3YWl0IGluZGV4ZWREQi5kYXRhYmFzZXMoKTtcclxuICAgICAgICAgIGZvciAoY29uc3QgZGIgb2YgZGF0YWJhc2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChkYi5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRiLm5hbWUpO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBEZWxldGVkIEluZGV4ZWREQjogJHtkYi5uYW1lfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZGJFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgY2xlYW4gSW5kZXhlZERCOicsIGRiRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBFTUVSR0VOQ1kgY2xlYW51cCBjb21wbGV0ZWQgLSBwbGVhc2UgcmVmcmVzaCB0aGUgcGFnZScpO1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnRW1lcmdlbmN5IGNsZWFudXAgY29tcGxldGVkJyB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRW1lcmdlbmN5IGNsZWFudXAgZmFpbGVkOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc29sZS5sb2coJ/CfkqEgRW1lcmdlbmN5IGNsZWFudXAgYXZhaWxhYmxlOiBydW4gYHdpbmRvdy5lbWVyZ2VuY3lTdG9yYWdlQ2xlYW51cCgpYCBpbiBjb25zb2xlIGlmIG5lZWRlZCcpO1xyXG59XHJcblxyXG4vLyBFeHBvcnQgbWVtb3J5IGNhdGVnb3JpZXMgZm9yIHVzZSBpbiBvdGhlciBtb2R1bGVzXHJcbmV4cG9ydCB7IE1FTU9SWV9DQVRFR09SSUVTIH07XHJcblxyXG4vLyBMZWdhY3kgY29tcGF0aWJpbGl0eSBleHBvcnRzXHJcbmV4cG9ydCBjb25zdCBtZW1vcnlTZXJ2aWNlID0ge1xyXG4gIGdldE1lbW9yeSxcclxuICBzZXRNZW1vcnksXHJcbiAgcmVtb3ZlTWVtb3J5LFxyXG4gIGNsZWFyQWxsTWVtb3JpZXMsXHJcbiAgZ2V0VXNlclByb2ZpbGUsXHJcbiAgdXBkYXRlVXNlclByb2ZpbGUsXHJcbiAgc2F2ZUNvbnZlcnNhdGlvbk1lc3NhZ2UsXHJcbiAgZ2V0Q29udmVyc2F0aW9uSGlzdG9yeSxcclxuICBzYXZlRW1vdGlvbmFsU3RhdGUsXHJcbiAgZ2V0RW1vdGlvbmFsUGF0dGVybnMsXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJsb2NhbGZvcmFnZSIsImNvbmZpZyIsImRyaXZlciIsIklOREVYRUREQiIsIldFQlNRTCIsIkxPQ0FMU1RPUkFHRSIsIm5hbWUiLCJ2ZXJzaW9uIiwic3RvcmVOYW1lIiwiTUVNT1JZX0NBVEVHT1JJRVMiLCJVU0VSX1BST0ZJTEUiLCJDT05WRVJTQVRJT05fSElTVE9SWSIsIkVNT1RJT05BTF9TVEFURVMiLCJQUkVGRVJFTkNFUyIsIlJFQ0VOVF9NRVNTQUdFUyIsIlVTRVJfQ09OVEVYVCIsIlJFTEFUSU9OU0hJUF9EQVRBIiwiZ2V0TWVtb3J5Iiwia2V5IiwidmFsdWUiLCJnZXRJdGVtIiwidW5kZWZpbmVkIiwiY29uc29sZSIsIndhcm4iLCJyZW1vdmVJdGVtIiwiZXJyb3IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJjbGVhckVycm9yIiwic2V0TWVtb3J5IiwiSlNPTiIsInN0cmluZ2lmeSIsInN0cmluZ2lmeUVycm9yIiwic2V0SXRlbSIsInJlbW92ZU1lbW9yeSIsImNsZWFyQWxsTWVtb3JpZXMiLCJjbGVhciIsImdldFVzZXJQcm9maWxlIiwicHJvZmlsZSIsInByZWZlcnJlZF9uYW1lIiwicmVsYXRpb25zaGlwX2xldmVsIiwicHJlZmVycmVkX21vZGUiLCJlbW90aW9uYWxfcHJlZmVyZW5jZXMiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlVXNlclByb2ZpbGUiLCJ1cGRhdGVzIiwiY3VycmVudFByb2ZpbGUiLCJ1cGRhdGVkUHJvZmlsZSIsInVwZGF0ZWRfYXQiLCJzYXZlQ29udmVyc2F0aW9uTWVzc2FnZSIsImhpc3RvcnkiLCJtZXNzYWdlV2l0aFRpbWVzdGFtcCIsInNhdmVkX2F0IiwicHVzaCIsImxlbmd0aCIsInNwbGljZSIsImdldENvbnZlcnNhdGlvbkhpc3RvcnkiLCJsaW1pdCIsImFyZ3VtZW50cyIsInNsaWNlIiwic2F2ZUVtb3Rpb25hbFN0YXRlIiwiZW1vdGlvbiIsImNvbnRleHQiLCJzdGF0ZXMiLCJlbW90aW9uYWxTdGF0ZSIsInRpbWVzdGFtcCIsImdldEVtb3Rpb25hbFBhdHRlcm5zIiwiZGF5cyIsImN1dG9mZkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImZpbHRlciIsInN0YXRlIiwiYXV0b0NsZWFudXBTdG9yYWdlIiwibG9nIiwia2V5c1RvQ2hlY2siLCJjbGVhbmVkQ291bnQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2VLZXlzIiwiT2JqZWN0Iiwia2V5cyIsInN0YXJ0c1dpdGgiLCJwYXJzZSIsImpzb25FcnJvciIsInJlbW92ZUVycm9yIiwic2Vzc2lvblN0b3JhZ2UiLCJyZXNldEVycm9yIiwic3VjY2VzcyIsImNhdGNoIiwiZW1lcmdlbmN5U3RvcmFnZUNsZWFudXAiLCJpbmRleGVkREIiLCJkYXRhYmFzZXMiLCJkYiIsImRlbGV0ZURhdGFiYXNlIiwiZGJFcnJvciIsIm1lbW9yeVNlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9522\n\n}");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var chunkIds = deferred[i][0];
/******/ 				var fn = deferred[i][1];
/******/ 				var priority = deferred[i][2];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + {"76":"common","80":"creative","133":"layout","209":"ui","240":"journal","377":"chat","569":"relationship","729":"mcp"}[chunkId] + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "bambisleep-chat-agent:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 		
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			792: 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var chunkIds = data[0];
/******/ 			var moreModules = data[1];
/******/ 			var runtime = data[2];
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkbambisleep_chat_agent"] = self["webpackChunkbambisleep_chat_agent"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, [30,1,644,489,87,224,70], () => (__webpack_require__(3876)))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;