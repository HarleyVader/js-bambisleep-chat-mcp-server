"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkbambisleep_chat_agent"] = self["webpackChunkbambisleep_chat_agent"] || []).push([[377],{

/***/ 9039:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("{// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ chat_ChatInterface)\n});\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6540);\n// EXTERNAL MODULE: ./src/services/emotionalIntelligence.js\nvar emotionalIntelligence = __webpack_require__(8839);\n// EXTERNAL MODULE: ./src/services/memoryService.js\nvar memoryService = __webpack_require__(9522);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4848);\n;// ./src/components/chat/MessageBubble.js\n// MessageBubble.js - Enhanced message component for Agent Dr Girlfriend\n\n\nconst MessageBubble = _ref => {\n  let {\n    message\n  } = _ref;\n  const isAgent = message.sender === 'agent';\n  const [isVisible, setIsVisible] = (0,react.useState)(false);\n\n  // Trigger entrance animation\n  (0,react.useEffect)(() => {\n    const timer = setTimeout(() => setIsVisible(true), 50);\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Mood-based emoji mapping\n  const getMoodEmoji = mood => {\n    const moodEmojis = {\n      happy: 'ðŸ˜Š',\n      romantic: 'ðŸ’–',\n      excited: 'âœ¨',\n      sad: 'ðŸ’™',\n      thoughtful: 'ðŸ¤”',\n      playful: 'ðŸ˜',\n      supportive: 'ðŸ¤—',\n      neutral: 'ðŸ‘©â€âš•ï¸'\n    };\n    return moodEmojis[mood] || moodEmojis.neutral;\n  };\n\n  // Format timestamp\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n    className: `message-container ${isAgent ? 'agent-message' : 'user-message'} ${isVisible ? 'visible' : ''}`,\n    \"data-mood\": message.mood || 'neutral',\n    children: [isAgent && /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: \"message-avatar agent-avatar\",\n      \"data-mood\": message.mood,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n        className: \"avatar-emoji\",\n        children: getMoodEmoji(message.mood)\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n        className: \"avatar-status-ring\"\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: `message-bubble ${isAgent ? 'message-agent' : 'message-user'}`,\n      \"data-mood\": message.mood || 'neutral',\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n        className: \"message-content\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"p\", {\n          className: \"message-text\",\n          children: message.text\n        }), isAgent && message.emotion && /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n          className: \"emotion-indicator\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n            className: \"emotion-tag\",\n            children: typeof message.emotion === 'string' ? message.emotion : message.emotion.emotion || 'neutral'\n          })\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n        className: \"message-footer\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n          className: \"message-timestamp\",\n          children: formatTime(message.timestamp)\n        }), !isAgent && /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n          className: \"message-status\",\n          children: \"\\u2713\"\n        })]\n      })]\n    }), !isAgent && /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: \"message-avatar user-avatar\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n        className: \"avatar-emoji\",\n        children: \"\\uD83D\\uDC64\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n        className: \"avatar-status-ring user-ring\"\n      })]\n    })]\n  });\n};\n/* harmony default export */ const chat_MessageBubble = (MessageBubble);\n// EXTERNAL MODULE: ./src/services/nameTransformationService.js\nvar nameTransformationService = __webpack_require__(113);\n;// ./src/components/chat/VoiceInput.js\n// VoiceInput.js - Enhanced voice input component for Agent Dr Girlfriend\n// Following copilot-instructions.md: Voice integration with Web Speech API\n\n\n\n\nconst VoiceInput = _ref => {\n  let {\n    onTranscript,\n    onError,\n    className = ''\n  } = _ref;\n  const [isListening, setIsListening] = (0,react.useState)(false);\n  const [isSupported, setIsSupported] = (0,react.useState)(false);\n  const [transcript, setTranscript] = (0,react.useState)('');\n  const [confidence, setConfidence] = (0,react.useState)(0);\n  const [error, setError] = (0,react.useState)(null);\n  const recognitionRef = (0,react.useRef)(null);\n  const timeoutRef = (0,react.useRef)(null);\n\n  // Check for speech recognition support\n  (0,react.useEffect)(() => {\n    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n    setIsSupported(!!SpeechRecognition);\n    if (SpeechRecognition) {\n      recognitionRef.current = new SpeechRecognition();\n      setupRecognition();\n    }\n    return () => {\n      if (recognitionRef.current) {\n        recognitionRef.current.abort();\n      }\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n  const setupRecognition = () => {\n    const recognition = recognitionRef.current;\n    recognition.continuous = true;\n    recognition.interimResults = true;\n    recognition.lang = 'en-US';\n    recognition.maxAlternatives = 3;\n    recognition.onstart = () => {\n      setIsListening(true);\n      setError(null);\n      setTranscript('');\n      setConfidence(0);\n\n      // Set timeout to stop listening after 30 seconds\n      timeoutRef.current = setTimeout(() => {\n        stopListening();\n      }, 30000);\n    };\n    recognition.onresult = event => {\n      let finalTranscript = '';\n      let interimTranscript = '';\n      let bestConfidence = 0;\n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const result = event.results[i];\n        const resultTranscript = result[0].transcript;\n        const resultConfidence = result[0].confidence;\n        if (result.isFinal) {\n          finalTranscript += resultTranscript;\n          bestConfidence = Math.max(bestConfidence, resultConfidence);\n        } else {\n          interimTranscript += resultTranscript;\n        }\n      }\n      setTranscript(finalTranscript || interimTranscript);\n      setConfidence(bestConfidence);\n\n      // If we have a final result, send it\n      if (finalTranscript.trim()) {\n        onTranscript(finalTranscript.trim());\n        stopListening();\n\n        // Save voice interaction for analytics\n        saveVoiceInteraction(finalTranscript, bestConfidence);\n      }\n    };\n    recognition.onerror = event => {\n      const errorMessage = getErrorMessage(event.error);\n      setError(errorMessage);\n      setIsListening(false);\n      if (onError) {\n        onError(errorMessage);\n      }\n\n      // Clear timeout\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n    recognition.onend = () => {\n      setIsListening(false);\n\n      // Clear timeout\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  };\n  const getErrorMessage = error => {\n    switch (error) {\n      case 'no-speech':\n        return 'I didn\\'t hear anything, darling. Try speaking a bit louder.';\n      case 'audio-capture':\n        return 'I can\\'t access your microphone. Please check your permissions.';\n      case 'not-allowed':\n        return 'Microphone access is blocked. Please enable it to use voice input.';\n      case 'network':\n        return 'Network error occurred. Please check your connection.';\n      case 'aborted':\n        return 'Voice input was cancelled.';\n      default:\n        return 'Voice recognition error occurred. Please try again.';\n    }\n  };\n  const startListening = () => {\n    if (!isSupported) {\n      setError('Speech recognition is not supported in this browser.');\n      return;\n    }\n    if (recognitionRef.current && !isListening) {\n      try {\n        recognitionRef.current.start();\n      } catch (error) {\n        setError('Could not start voice recognition. Please try again.');\n      }\n    }\n  };\n  const stopListening = () => {\n    if (recognitionRef.current && isListening) {\n      recognitionRef.current.stop();\n    }\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n  };\n  const saveVoiceInteraction = async (text, confidence) => {\n    try {\n      const voiceHistory = (await (0,memoryService/* getMemory */.So)('voice_interactions')) || [];\n      const interaction = {\n        timestamp: new Date().toISOString(),\n        transcript: text,\n        confidence: confidence,\n        wordCount: text.split(' ').length\n      };\n      voiceHistory.push(interaction);\n\n      // Keep only last 50 voice interactions\n      if (voiceHistory.length > 50) {\n        voiceHistory.splice(0, voiceHistory.length - 50);\n      }\n      await (0,memoryService/* setMemory */.S0)('voice_interactions', voiceHistory);\n    } catch (error) {\n      console.error('Error saving voice interaction:', error);\n    }\n  };\n  const getButtonText = () => {\n    if (!isSupported) return 'ðŸš« Voice Not Supported';\n    if (isListening) return 'ðŸŽ¤ Listening...';\n    return 'ðŸŽ¤ Speak';\n  };\n  const getButtonClass = () => {\n    let classes = `voice-button ${className}`;\n    if (isListening) classes += ' listening';\n    if (!isSupported) classes += ' unsupported';\n    if (error) classes += ' error';\n    return classes;\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n    className: \"voice-input-container\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(\"button\", {\n      onClick: isListening ? stopListening : startListening,\n      disabled: !isSupported,\n      className: getButtonClass(),\n      \"aria-label\": isListening ? 'Stop listening' : 'Start voice input',\n      title: isListening ? 'Click to stop listening' : 'Click to speak to Agent Dr Girlfriend',\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n        className: \"voice-button-text\",\n        children: getButtonText()\n      }), isListening && /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n        className: \"voice-animation\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n          className: \"pulse-ring\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n          className: \"pulse-ring\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n          className: \"pulse-ring\"\n        })]\n      })]\n    }), isListening && transcript && /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: \"live-transcript\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n        className: \"transcript-label\",\n        children: \"Speaking:\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n        className: \"transcript-text\",\n        children: transcript\n      }), confidence > 0 && /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n        className: \"confidence-indicator\",\n        children: [\"Confidence: \", Math.round(confidence * 100), \"%\"]\n      })]\n    }), error && /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: \"voice-error\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n        className: \"error-icon\",\n        children: \"\\u26A0\\uFE0F\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n        className: \"error-message\",\n        children: error\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"button\", {\n        className: \"dismiss-error\",\n        onClick: () => setError(null),\n        \"aria-label\": \"Dismiss error\",\n        children: \"\\u2715\"\n      })]\n    }), !isSupported && /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: \"voice-unsupported\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"p\", {\n        children: \"\\uD83D\\uDC94 Voice input isn't supported in this browser, love.\"\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"p\", {\n        children: \"Try using Edge, Chrome or Safari for the best experience with Agent Dr Girlfriend.\"\n      })]\n    })]\n  });\n};\n/* harmony default export */ const chat_VoiceInput = (VoiceInput);\n// EXTERNAL MODULE: ./src/services/aiService.js + 50 modules\nvar aiService = __webpack_require__(4622);\n// EXTERNAL MODULE: ./src/hooks/useNameTransformation.js\nvar useNameTransformation = __webpack_require__(9077);\n;// ./src/components/chat/ChatInterface.js\n// ChatInterface.js - Enhanced chat component for Agent Dr Girlfriend\n// Following copilot-instructions.md: Emotional UX design with accessibility\n\n\n\n\n\n\n\n\n\n\n// Typing indicator component\n\nconst TypingIndicator = _ref => {\n  let {\n    isVisible,\n    mood = 'neutral',\n    agentName = 'Dr Girlfriend'\n  } = _ref;\n  if (!isVisible) return null;\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n    className: \"typing-indicator\",\n    \"data-mood\": mood,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n      className: \"typing-indicator-avatar\",\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n        className: \"agent-icon\",\n        children: \"\\uD83D\\uDC69\\u200D\\uD83D\\uDCBC\"\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: \"typing-indicator-bubble\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n        className: \"typing-dots\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n          className: \"dot\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n          className: \"dot\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n          className: \"dot\"\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n        className: \"typing-text\",\n        children: [agentName, \" is thinking...\"]\n      })]\n    })]\n  });\n};\n\n// Enhanced chat hook with real AI integration and name transformation\nconst useEnhancedChat = () => {\n  const [messages, setMessages] = (0,react.useState)([]);\n  const [isLoading, setIsLoading] = (0,react.useState)(false);\n  const [userContext, setUserContext] = (0,react.useState)({\n    mood: 'neutral',\n    relationship_level: 'getting_to_know',\n    preferred_mode: 'GIRLFRIEND'\n  });\n\n  // Import name transformation hook\n  const {\n    getDisplayName,\n    getPersonalizedGreeting,\n    detectCostumeChange,\n    performCostumeChange,\n    isTransforming\n  } = (0,useNameTransformation/* default */.A)();\n\n  // Load initial greeting and conversation history\n  (0,react.useEffect)(() => {\n    const initializeChat = async () => {\n      try {\n        // Load previous messages from memory\n        const savedMessages = (await (0,memoryService/* getMemory */.So)('recent_messages')) || [];\n        if (savedMessages.length === 0) {\n          // First time greeting using current agent name\n          const greeting = {\n            id: 'greeting-1',\n            text: `Hello there, darling! ðŸ’– I'm ${getDisplayName('full')}, your emotionally intelligent companion from the future. I'm here to listen, inspire, and grow alongside you. How are you feeling today?`,\n            sender: 'agent',\n            timestamp: new Date(),\n            mood: 'friendly',\n            emotion: 'joy'\n          };\n          setMessages([greeting]);\n        } else {\n          setMessages(savedMessages);\n        }\n\n        // Load user context\n        const savedContext = await (0,memoryService/* getMemory */.So)('user_context');\n        if (savedContext) {\n          setUserContext(savedContext);\n        }\n      } catch (error) {\n        console.error('Error initializing chat:', error);\n        // Fallback greeting\n        setMessages([{\n          id: 'fallback-greeting',\n          text: `Hello darling! I'm ${getDisplayName('full')}. Something's a bit wonky with my memory systems, but I'm here and ready to chat with you! ðŸ’–`,\n          sender: 'agent',\n          timestamp: new Date(),\n          mood: 'friendly',\n          emotion: 'joy'\n        }]);\n      }\n    };\n    initializeChat();\n  }, []);\n\n  // Save messages to memory when they change\n  (0,react.useEffect)(() => {\n    if (messages.length > 0) {\n      // Keep only last 20 messages in UI memory\n      const recentMessages = messages.slice(-20);\n      (0,memoryService/* setMemory */.S0)('recent_messages', recentMessages);\n    }\n  }, [messages]);\n  const sendMessage = async text => {\n    if (!text.trim()) return;\n    const userMessage = {\n      id: `user-${Date.now()}`,\n      text: text.trim(),\n      sender: 'user',\n      timestamp: new Date(),\n      emotion: (0,emotionalIntelligence/* analyzeEmotion */.MZ)(text.trim()).emotion\n    };\n\n    // Add user message immediately\n    setMessages(prev => [...prev, userMessage]);\n    setIsLoading(true);\n    try {\n      // Check for costume change request BEFORE processing with AI\n      const costumeChangeRequest = detectCostumeChange(text.trim());\n      if (costumeChangeRequest.detected) {\n        // Handle costume change request\n        setIsLoading(false);\n\n        // Add transformation announcement message\n        const transformationMessage = {\n          id: `transformation-${Date.now()}`,\n          text: `âœ¨ Ooh, a costume change! I love this idea! Let me transform into ${costumeChangeRequest.newName} for you... ðŸ’«`,\n          sender: 'agent',\n          timestamp: new Date(),\n          mood: 'excited',\n          emotion: 'excitement',\n          isTransformationMessage: true\n        };\n        setMessages(prev => [...prev, transformationMessage]);\n\n        // Perform the actual transformation with effects\n        setTimeout(async () => {\n          try {\n            const result = await performCostumeChange(costumeChangeRequest.newName, nameTransformationService/* TRANSFORMATION_EFFECTS */.$.SPARKLE_CASCADE);\n\n            // Add success message\n            const successMessage = {\n              id: `success-${Date.now()}`,\n              text: result.message,\n              sender: 'agent',\n              timestamp: new Date(),\n              mood: 'happy',\n              emotion: 'joy',\n              isTransformationComplete: true\n            };\n            setMessages(prev => [...prev, successMessage]);\n          } catch (error) {\n            console.error('Transformation failed:', error);\n            const errorMessage = {\n              id: `transformation-error-${Date.now()}`,\n              text: 'Oops! The costume change magic fizzled out. The cosmic energies must be misaligned. Want to try again? ðŸ’«',\n              sender: 'agent',\n              timestamp: new Date(),\n              mood: 'apologetic',\n              emotion: 'neutral'\n            };\n            setMessages(prev => [...prev, errorMessage]);\n          }\n        }, 1000);\n        return; // Don't process as normal AI message\n      }\n\n      // Process message with AI (normal flow)\n      const aiResponse = await (0,aiService/* processMessage */.Ph)(text.trim(), userContext);\n      const agentMessage = {\n        id: `agent-${Date.now()}`,\n        text: aiResponse.text,\n        sender: 'agent',\n        timestamp: aiResponse.timestamp,\n        mood: detectMoodFromEmotion(aiResponse.emotion),\n        emotion: aiResponse.emotion,\n        context: aiResponse.context\n      };\n      setMessages(prev => [...prev, agentMessage]);\n\n      // Update user context based on conversation\n      const updatedContext = {\n        ...userContext,\n        mood: aiResponse.emotion,\n        last_interaction: new Date().toISOString()\n      };\n      setUserContext(updatedContext);\n      await (0,memoryService/* setMemory */.S0)('user_context', updatedContext);\n    } catch (error) {\n      console.error('Error sending message:', error);\n\n      // Fallback response\n      const errorMessage = {\n        id: `error-${Date.now()}`,\n        text: 'I\\'m having a moment with my systems, darling. Give me a second to collect myself and let\\'s try again. You\\'re worth the wait! ðŸ’–',\n        sender: 'agent',\n        timestamp: new Date(),\n        mood: 'apologetic',\n        emotion: 'neutral'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return {\n    messages,\n    sendMessage,\n    isLoading: isLoading || isTransforming,\n    userContext,\n    getDisplayName,\n    getPersonalizedGreeting\n  };\n};\n\n// Helper function to map emotions to moods for UI\nconst detectMoodFromEmotion = emotion => {\n  const emotionToMoodMap = {\n    joy: 'happy',\n    happiness: 'happy',\n    sadness: 'sad',\n    anger: 'angry',\n    fear: 'nervous',\n    surprise: 'excited',\n    love: 'romantic',\n    excitement: 'excited',\n    calm: 'peaceful',\n    neutral: 'neutral'\n  };\n  return emotionToMoodMap[emotion] || 'neutral';\n};\nconst ChatInterface = () => {\n  const {\n    messages,\n    sendMessage,\n    isLoading,\n    userContext,\n    getDisplayName,\n    getPersonalizedGreeting\n  } = useEnhancedChat();\n  const [inputValue, setInputValue] = (0,react.useState)('');\n  const messagesEndRef = (0,react.useRef)(null);\n  const inputRef = (0,react.useRef)(null);\n\n  // Auto-scroll to bottom when new messages arrive\n  (0,react.useEffect)(() => {\n    messagesEndRef.current?.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n\n  // Focus input on component mount\n  (0,react.useEffect)(() => {\n    inputRef.current?.focus();\n  }, []);\n  const handleInputChange = event => {\n    setInputValue(event.target.value);\n  };\n  const handleSendMessage = async () => {\n    if (inputValue.trim()) {\n      await sendMessage(inputValue.trim());\n      setInputValue('');\n    }\n  };\n  const handleKeyPress = event => {\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // Handle voice input\n  const handleVoiceInput = transcript => {\n    if (transcript.trim()) {\n      sendMessage(transcript.trim());\n    }\n  };\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n    className: \"chat-interface\",\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n        className: \"chat-header-info\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n          className: \"chat-avatar\",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n            children: \"\\uD83D\\uDC69\\u200D\\u2695\\uFE0F\"\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n          className: \"chat-title-section\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"h2\", {\n            className: \"chat-title agent-name\",\n            children: getDisplayName('full')\n          }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"p\", {\n            className: \"chat-subtitle\",\n            children: isLoading ? 'Thinking...' : `Mode: ${userContext.preferred_mode} â€¢ Mood: ${userContext.mood}`\n          })]\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n        className: \"chat-header-actions\",\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"button\", {\n          className: \"header-btn\",\n          \"aria-label\": \"Settings\",\n          children: \"\\u2699\\uFE0F\"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"button\", {\n          className: \"header-btn\",\n          \"aria-label\": \"Voice Mode\",\n          children: \"\\uD83C\\uDFA4\"\n        })]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n      className: \"messages-container\",\n      role: \"log\",\n      \"aria-live\": \"polite\",\n      \"aria-label\": \"Chat messages\",\n      children: [messages.map(message => /*#__PURE__*/(0,jsx_runtime.jsx)(chat_MessageBubble, {\n        message: message\n      }, message.id)), /*#__PURE__*/(0,jsx_runtime.jsx)(TypingIndicator, {\n        isVisible: isLoading,\n        mood: userContext.mood,\n        agentName: getDisplayName('name')\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n        ref: messagesEndRef\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"div\", {\n        className: \"floating-input-container\",\n        children: /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n          className: \"input-form\",\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"textarea\", {\n            ref: inputRef,\n            value: inputValue,\n            onChange: handleInputChange,\n            onKeyDown: handleKeyPress,\n            placeholder: `Share your thoughts with ${getDisplayName('name')}...`,\n            className: \"chat-textarea\",\n            rows: \"2\",\n            \"aria-label\": \"Message input\",\n            maxLength: \"2000\",\n            disabled: isLoading\n          }), /*#__PURE__*/(0,jsx_runtime.jsxs)(\"div\", {\n            className: \"input-controls\",\n            role: \"group\",\n            \"aria-label\": \"Chat controls\",\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(chat_VoiceInput, {\n              onResult: handleVoiceInput,\n              isEnabled: !isLoading\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"button\", {\n              type: \"button\",\n              onClick: handleSendMessage,\n              disabled: !inputValue.trim() || isLoading,\n              className: \"send-button\",\n              \"aria-label\": isLoading ? 'Sending...' : 'Send message',\n              children: isLoading ? /*#__PURE__*/(0,jsx_runtime.jsxs)(\"span\", {\n                className: \"loading-indicator\",\n                children: [/*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n                  className: \"loading-dot\"\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n                  className: \"loading-dot\"\n                }), /*#__PURE__*/(0,jsx_runtime.jsx)(\"span\", {\n                  className: \"loading-dot\"\n                })]\n              }) : /*#__PURE__*/(0,jsx_runtime.jsx)(\"svg\", {\n                className: \"send-icon\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                \"aria-hidden\": \"true\",\n                children: /*#__PURE__*/(0,jsx_runtime.jsx)(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\n                })\n              })\n            })]\n          })]\n        })\n      })]\n    })]\n  });\n};\n/* harmony default export */ const chat_ChatInterface = (ChatInterface);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WyJ3ZWJwYWNrOi8vYmFtYmlzbGVlcC1jaGF0LWFnZW50Ly4vc3JjL2NvbXBvbmVudHMvY2hhdC9NZXNzYWdlQnViYmxlLmpzPzk0NDgiLCJ3ZWJwYWNrOi8vYmFtYmlzbGVlcC1jaGF0LWFnZW50Ly4vc3JjL2NvbXBvbmVudHMvY2hhdC9Wb2ljZUlucHV0LmpzPzliMzUiLCJ3ZWJwYWNrOi8vYmFtYmlzbGVlcC1jaGF0LWFnZW50Ly4vc3JjL2NvbXBvbmVudHMvY2hhdC9DaGF0SW50ZXJmYWNlLmpzPzU0NmQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTWVzc2FnZUJ1YmJsZS5qcyAtIEVuaGFuY2VkIG1lc3NhZ2UgY29tcG9uZW50IGZvciBBZ2VudCBEciBHaXJsZnJpZW5kXHJcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuY29uc3QgTWVzc2FnZUJ1YmJsZSA9ICh7IG1lc3NhZ2UgfSkgPT4ge1xyXG4gIGNvbnN0IGlzQWdlbnQgPSBtZXNzYWdlLnNlbmRlciA9PT0gJ2FnZW50JztcclxuICBjb25zdCBbaXNWaXNpYmxlLCBzZXRJc1Zpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICAvLyBUcmlnZ2VyIGVudHJhbmNlIGFuaW1hdGlvblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gc2V0SXNWaXNpYmxlKHRydWUpLCA1MCk7XHJcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIE1vb2QtYmFzZWQgZW1vamkgbWFwcGluZ1xyXG4gIGNvbnN0IGdldE1vb2RFbW9qaSA9IChtb29kKSA9PiB7XHJcbiAgICBjb25zdCBtb29kRW1vamlzID0ge1xyXG4gICAgICBoYXBweTogJ/CfmIonLFxyXG4gICAgICByb21hbnRpYzogJ/CfkpYnLFxyXG4gICAgICBleGNpdGVkOiAn4pyoJyxcclxuICAgICAgc2FkOiAn8J+SmScsXHJcbiAgICAgIHRob3VnaHRmdWw6ICfwn6SUJyxcclxuICAgICAgcGxheWZ1bDogJ/CfmI8nLFxyXG4gICAgICBzdXBwb3J0aXZlOiAn8J+klycsXHJcbiAgICAgIG5ldXRyYWw6ICfwn5Gp4oCN4pqV77iPJyxcclxuICAgIH07XHJcbiAgICByZXR1cm4gbW9vZEVtb2ppc1ttb29kXSB8fCBtb29kRW1vamlzLm5ldXRyYWw7XHJcbiAgfTtcclxuXHJcbiAgLy8gRm9ybWF0IHRpbWVzdGFtcFxyXG4gIGNvbnN0IGZvcm1hdFRpbWUgPSAodGltZXN0YW1wKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wKS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHtcclxuICAgICAgaG91cjogJzItZGlnaXQnLFxyXG4gICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17YG1lc3NhZ2UtY29udGFpbmVyICR7aXNBZ2VudCA/ICdhZ2VudC1tZXNzYWdlJyA6ICd1c2VyLW1lc3NhZ2UnfSAke2lzVmlzaWJsZSA/ICd2aXNpYmxlJyA6ICcnfWB9XHJcbiAgICAgIGRhdGEtbW9vZD17bWVzc2FnZS5tb29kIHx8ICduZXV0cmFsJ30+XHJcblxyXG4gICAgICB7LyogQWdlbnQgQXZhdGFyICovfVxyXG4gICAgICB7aXNBZ2VudCAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWF2YXRhciBhZ2VudC1hdmF0YXJcIiBkYXRhLW1vb2Q9e21lc3NhZ2UubW9vZH0+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhdmF0YXItZW1vamlcIj57Z2V0TW9vZEVtb2ppKG1lc3NhZ2UubW9vZCl9PC9zcGFuPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhdmF0YXItc3RhdHVzLXJpbmdcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBNZXNzYWdlIENvbnRlbnQgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbWVzc2FnZS1idWJibGUgJHtpc0FnZW50ID8gJ21lc3NhZ2UtYWdlbnQnIDogJ21lc3NhZ2UtdXNlcid9YH1cclxuICAgICAgICBkYXRhLW1vb2Q9e21lc3NhZ2UubW9vZCB8fCAnbmV1dHJhbCd9PlxyXG5cclxuICAgICAgICB7LyogTWVzc2FnZSB0ZXh0IHdpdGggZW5oYW5jZWQgZm9ybWF0dGluZyAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2UtY29udGVudFwiPlxyXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibWVzc2FnZS10ZXh0XCI+e21lc3NhZ2UudGV4dH08L3A+XHJcblxyXG4gICAgICAgICAgey8qIEVtb3Rpb24gaW5kaWNhdG9yIGZvciBhZ2VudCBtZXNzYWdlcyAqL31cclxuICAgICAgICAgIHtpc0FnZW50ICYmIG1lc3NhZ2UuZW1vdGlvbiAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZW1vdGlvbi1pbmRpY2F0b3JcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJlbW90aW9uLXRhZ1wiPlxyXG4gICAgICAgICAgICAgICAge3R5cGVvZiBtZXNzYWdlLmVtb3Rpb24gPT09ICdzdHJpbmcnXHJcbiAgICAgICAgICAgICAgICAgID8gbWVzc2FnZS5lbW90aW9uXHJcbiAgICAgICAgICAgICAgICAgIDogbWVzc2FnZS5lbW90aW9uLmVtb3Rpb24gfHwgJ25ldXRyYWwnfVxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICB7LyogRW5oYW5jZWQgdGltZXN0YW1wIHdpdGggc3RhdHVzICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWVzc2FnZS1mb290ZXJcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1lc3NhZ2UtdGltZXN0YW1wXCI+XHJcbiAgICAgICAgICAgIHtmb3JtYXRUaW1lKG1lc3NhZ2UudGltZXN0YW1wKX1cclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgIHshaXNBZ2VudCAmJiAoXHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1lc3NhZ2Utc3RhdHVzXCI+4pyTPC9zcGFuPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogVXNlciBBdmF0YXIgKi99XHJcbiAgICAgIHshaXNBZ2VudCAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZXNzYWdlLWF2YXRhciB1c2VyLWF2YXRhclwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYXZhdGFyLWVtb2ppXCI+8J+RpDwvc3Bhbj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXZhdGFyLXN0YXR1cy1yaW5nIHVzZXItcmluZ1wiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VCdWJibGU7XHJcbiIsIi8vIFZvaWNlSW5wdXQuanMgLSBFbmhhbmNlZCB2b2ljZSBpbnB1dCBjb21wb25lbnQgZm9yIEFnZW50IERyIEdpcmxmcmllbmRcclxuLy8gRm9sbG93aW5nIGNvcGlsb3QtaW5zdHJ1Y3Rpb25zLm1kOiBWb2ljZSBpbnRlZ3JhdGlvbiB3aXRoIFdlYiBTcGVlY2ggQVBJXHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBnZXRNZW1vcnksIHNldE1lbW9yeSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL21lbW9yeVNlcnZpY2UuanMnO1xyXG5cclxuY29uc3QgVm9pY2VJbnB1dCA9ICh7IG9uVHJhbnNjcmlwdCwgb25FcnJvciwgY2xhc3NOYW1lID0gJycgfSkgPT4ge1xyXG4gIGNvbnN0IFtpc0xpc3RlbmluZywgc2V0SXNMaXN0ZW5pbmddID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtpc1N1cHBvcnRlZCwgc2V0SXNTdXBwb3J0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFt0cmFuc2NyaXB0LCBzZXRUcmFuc2NyaXB0XSA9IHVzZVN0YXRlKCcnKTtcclxuICBjb25zdCBbY29uZmlkZW5jZSwgc2V0Q29uZmlkZW5jZV0gPSB1c2VTdGF0ZSgwKTtcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xyXG4gIGNvbnN0IHJlY29nbml0aW9uUmVmID0gdXNlUmVmKG51bGwpO1xyXG4gIGNvbnN0IHRpbWVvdXRSZWYgPSB1c2VSZWYobnVsbCk7XHJcblxyXG4gIC8vIENoZWNrIGZvciBzcGVlY2ggcmVjb2duaXRpb24gc3VwcG9ydFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBTcGVlY2hSZWNvZ25pdGlvbiA9IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb247XHJcbiAgICBzZXRJc1N1cHBvcnRlZCghIVNwZWVjaFJlY29nbml0aW9uKTtcclxuXHJcbiAgICBpZiAoU3BlZWNoUmVjb2duaXRpb24pIHtcclxuICAgICAgcmVjb2duaXRpb25SZWYuY3VycmVudCA9IG5ldyBTcGVlY2hSZWNvZ25pdGlvbigpO1xyXG4gICAgICBzZXR1cFJlY29nbml0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgaWYgKHJlY29nbml0aW9uUmVmLmN1cnJlbnQpIHtcclxuICAgICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50LmFib3J0KCk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3Qgc2V0dXBSZWNvZ25pdGlvbiA9ICgpID0+IHtcclxuICAgIGNvbnN0IHJlY29nbml0aW9uID0gcmVjb2duaXRpb25SZWYuY3VycmVudDtcclxuXHJcbiAgICByZWNvZ25pdGlvbi5jb250aW51b3VzID0gdHJ1ZTtcclxuICAgIHJlY29nbml0aW9uLmludGVyaW1SZXN1bHRzID0gdHJ1ZTtcclxuICAgIHJlY29nbml0aW9uLmxhbmcgPSAnZW4tVVMnO1xyXG4gICAgcmVjb2duaXRpb24ubWF4QWx0ZXJuYXRpdmVzID0gMztcclxuXHJcbiAgICByZWNvZ25pdGlvbi5vbnN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICBzZXRJc0xpc3RlbmluZyh0cnVlKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICAgIHNldFRyYW5zY3JpcHQoJycpO1xyXG4gICAgICBzZXRDb25maWRlbmNlKDApO1xyXG5cclxuICAgICAgLy8gU2V0IHRpbWVvdXQgdG8gc3RvcCBsaXN0ZW5pbmcgYWZ0ZXIgMzAgc2Vjb25kc1xyXG4gICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBzdG9wTGlzdGVuaW5nKCk7XHJcbiAgICAgIH0sIDMwMDAwKTtcclxuICAgIH07XHJcblxyXG4gICAgcmVjb2duaXRpb24ub25yZXN1bHQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgbGV0IGZpbmFsVHJhbnNjcmlwdCA9ICcnO1xyXG4gICAgICBsZXQgaW50ZXJpbVRyYW5zY3JpcHQgPSAnJztcclxuICAgICAgbGV0IGJlc3RDb25maWRlbmNlID0gMDtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSBldmVudC5yZXN1bHRJbmRleDsgaSA8IGV2ZW50LnJlc3VsdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBldmVudC5yZXN1bHRzW2ldO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdFRyYW5zY3JpcHQgPSByZXN1bHRbMF0udHJhbnNjcmlwdDtcclxuICAgICAgICBjb25zdCByZXN1bHRDb25maWRlbmNlID0gcmVzdWx0WzBdLmNvbmZpZGVuY2U7XHJcblxyXG4gICAgICAgIGlmIChyZXN1bHQuaXNGaW5hbCkge1xyXG4gICAgICAgICAgZmluYWxUcmFuc2NyaXB0ICs9IHJlc3VsdFRyYW5zY3JpcHQ7XHJcbiAgICAgICAgICBiZXN0Q29uZmlkZW5jZSA9IE1hdGgubWF4KGJlc3RDb25maWRlbmNlLCByZXN1bHRDb25maWRlbmNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaW50ZXJpbVRyYW5zY3JpcHQgKz0gcmVzdWx0VHJhbnNjcmlwdDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFRyYW5zY3JpcHQoZmluYWxUcmFuc2NyaXB0IHx8IGludGVyaW1UcmFuc2NyaXB0KTtcclxuICAgICAgc2V0Q29uZmlkZW5jZShiZXN0Q29uZmlkZW5jZSk7XHJcblxyXG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgZmluYWwgcmVzdWx0LCBzZW5kIGl0XHJcbiAgICAgIGlmIChmaW5hbFRyYW5zY3JpcHQudHJpbSgpKSB7XHJcbiAgICAgICAgb25UcmFuc2NyaXB0KGZpbmFsVHJhbnNjcmlwdC50cmltKCkpO1xyXG4gICAgICAgIHN0b3BMaXN0ZW5pbmcoKTtcclxuXHJcbiAgICAgICAgLy8gU2F2ZSB2b2ljZSBpbnRlcmFjdGlvbiBmb3IgYW5hbHl0aWNzXHJcbiAgICAgICAgc2F2ZVZvaWNlSW50ZXJhY3Rpb24oZmluYWxUcmFuc2NyaXB0LCBiZXN0Q29uZmlkZW5jZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmVjb2duaXRpb24ub25lcnJvciA9IChldmVudCkgPT4ge1xyXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2UoZXZlbnQuZXJyb3IpO1xyXG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xyXG4gICAgICBzZXRJc0xpc3RlbmluZyhmYWxzZSk7XHJcblxyXG4gICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgIG9uRXJyb3IoZXJyb3JNZXNzYWdlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2xlYXIgdGltZW91dFxyXG4gICAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmVjb2duaXRpb24ub25lbmQgPSAoKSA9PiB7XHJcbiAgICAgIHNldElzTGlzdGVuaW5nKGZhbHNlKTtcclxuXHJcbiAgICAgIC8vIENsZWFyIHRpbWVvdXRcclxuICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldEVycm9yTWVzc2FnZSA9IChlcnJvcikgPT4ge1xyXG4gICAgc3dpdGNoIChlcnJvcikge1xyXG4gICAgY2FzZSAnbm8tc3BlZWNoJzpcclxuICAgICAgcmV0dXJuICdJIGRpZG5cXCd0IGhlYXIgYW55dGhpbmcsIGRhcmxpbmcuIFRyeSBzcGVha2luZyBhIGJpdCBsb3VkZXIuJztcclxuICAgIGNhc2UgJ2F1ZGlvLWNhcHR1cmUnOlxyXG4gICAgICByZXR1cm4gJ0kgY2FuXFwndCBhY2Nlc3MgeW91ciBtaWNyb3Bob25lLiBQbGVhc2UgY2hlY2sgeW91ciBwZXJtaXNzaW9ucy4nO1xyXG4gICAgY2FzZSAnbm90LWFsbG93ZWQnOlxyXG4gICAgICByZXR1cm4gJ01pY3JvcGhvbmUgYWNjZXNzIGlzIGJsb2NrZWQuIFBsZWFzZSBlbmFibGUgaXQgdG8gdXNlIHZvaWNlIGlucHV0Lic7XHJcbiAgICBjYXNlICduZXR3b3JrJzpcclxuICAgICAgcmV0dXJuICdOZXR3b3JrIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uLic7XHJcbiAgICBjYXNlICdhYm9ydGVkJzpcclxuICAgICAgcmV0dXJuICdWb2ljZSBpbnB1dCB3YXMgY2FuY2VsbGVkLic7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gJ1ZvaWNlIHJlY29nbml0aW9uIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluLic7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc3RhcnRMaXN0ZW5pbmcgPSAoKSA9PiB7XHJcbiAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XHJcbiAgICAgIHNldEVycm9yKCdTcGVlY2ggcmVjb2duaXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAocmVjb2duaXRpb25SZWYuY3VycmVudCAmJiAhaXNMaXN0ZW5pbmcpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50LnN0YXJ0KCk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgc2V0RXJyb3IoJ0NvdWxkIG5vdCBzdGFydCB2b2ljZSByZWNvZ25pdGlvbi4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHN0b3BMaXN0ZW5pbmcgPSAoKSA9PiB7XHJcbiAgICBpZiAocmVjb2duaXRpb25SZWYuY3VycmVudCAmJiBpc0xpc3RlbmluZykge1xyXG4gICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50LnN0b3AoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGltZW91dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNhdmVWb2ljZUludGVyYWN0aW9uID0gYXN5bmMgKHRleHQsIGNvbmZpZGVuY2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHZvaWNlSGlzdG9yeSA9IGF3YWl0IGdldE1lbW9yeSgndm9pY2VfaW50ZXJhY3Rpb25zJykgfHwgW107XHJcbiAgICAgIGNvbnN0IGludGVyYWN0aW9uID0ge1xyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHRyYW5zY3JpcHQ6IHRleHQsXHJcbiAgICAgICAgY29uZmlkZW5jZTogY29uZmlkZW5jZSxcclxuICAgICAgICB3b3JkQ291bnQ6IHRleHQuc3BsaXQoJyAnKS5sZW5ndGgsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2b2ljZUhpc3RvcnkucHVzaChpbnRlcmFjdGlvbik7XHJcblxyXG4gICAgICAvLyBLZWVwIG9ubHkgbGFzdCA1MCB2b2ljZSBpbnRlcmFjdGlvbnNcclxuICAgICAgaWYgKHZvaWNlSGlzdG9yeS5sZW5ndGggPiA1MCkge1xyXG4gICAgICAgIHZvaWNlSGlzdG9yeS5zcGxpY2UoMCwgdm9pY2VIaXN0b3J5Lmxlbmd0aCAtIDUwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXdhaXQgc2V0TWVtb3J5KCd2b2ljZV9pbnRlcmFjdGlvbnMnLCB2b2ljZUhpc3RvcnkpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHZvaWNlIGludGVyYWN0aW9uOicsIGVycm9yKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnZXRCdXR0b25UZXh0ID0gKCkgPT4ge1xyXG4gICAgaWYgKCFpc1N1cHBvcnRlZCkgcmV0dXJuICfwn5qrIFZvaWNlIE5vdCBTdXBwb3J0ZWQnO1xyXG4gICAgaWYgKGlzTGlzdGVuaW5nKSByZXR1cm4gJ/CfjqQgTGlzdGVuaW5nLi4uJztcclxuICAgIHJldHVybiAn8J+OpCBTcGVhayc7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0QnV0dG9uQ2xhc3MgPSAoKSA9PiB7XHJcbiAgICBsZXQgY2xhc3NlcyA9IGB2b2ljZS1idXR0b24gJHtjbGFzc05hbWV9YDtcclxuICAgIGlmIChpc0xpc3RlbmluZykgY2xhc3NlcyArPSAnIGxpc3RlbmluZyc7XHJcbiAgICBpZiAoIWlzU3VwcG9ydGVkKSBjbGFzc2VzICs9ICcgdW5zdXBwb3J0ZWQnO1xyXG4gICAgaWYgKGVycm9yKSBjbGFzc2VzICs9ICcgZXJyb3InO1xyXG4gICAgcmV0dXJuIGNsYXNzZXM7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwidm9pY2UtaW5wdXQtY29udGFpbmVyXCI+XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICBvbkNsaWNrPXtpc0xpc3RlbmluZyA/IHN0b3BMaXN0ZW5pbmcgOiBzdGFydExpc3RlbmluZ31cclxuICAgICAgICBkaXNhYmxlZD17IWlzU3VwcG9ydGVkfVxyXG4gICAgICAgIGNsYXNzTmFtZT17Z2V0QnV0dG9uQ2xhc3MoKX1cclxuICAgICAgICBhcmlhLWxhYmVsPXtpc0xpc3RlbmluZyA/ICdTdG9wIGxpc3RlbmluZycgOiAnU3RhcnQgdm9pY2UgaW5wdXQnfVxyXG4gICAgICAgIHRpdGxlPXtpc0xpc3RlbmluZyA/ICdDbGljayB0byBzdG9wIGxpc3RlbmluZycgOiAnQ2xpY2sgdG8gc3BlYWsgdG8gQWdlbnQgRHIgR2lybGZyaWVuZCd9XHJcbiAgICAgID5cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ2b2ljZS1idXR0b24tdGV4dFwiPntnZXRCdXR0b25UZXh0KCl9PC9zcGFuPlxyXG5cclxuICAgICAgICB7aXNMaXN0ZW5pbmcgJiYgKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2b2ljZS1hbmltYXRpb25cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdWxzZS1yaW5nXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHVsc2UtcmluZ1wiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bHNlLXJpbmdcIj48L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgey8qIExpdmUgdHJhbnNjcmlwdCBkaXNwbGF5ICovfVxyXG4gICAgICB7aXNMaXN0ZW5pbmcgJiYgdHJhbnNjcmlwdCAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXZlLXRyYW5zY3JpcHRcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHJhbnNjcmlwdC1sYWJlbFwiPlNwZWFraW5nOjwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0cmFuc2NyaXB0LXRleHRcIj57dHJhbnNjcmlwdH08L2Rpdj5cclxuICAgICAgICAgIHtjb25maWRlbmNlID4gMCAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29uZmlkZW5jZS1pbmRpY2F0b3JcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZGVuY2U6IHtNYXRoLnJvdW5kKGNvbmZpZGVuY2UgKiAxMDApfSVcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG5cclxuICAgICAgey8qIEVycm9yIGRpc3BsYXkgKi99XHJcbiAgICAgIHtlcnJvciAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ2b2ljZS1lcnJvclwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZXJyb3ItaWNvblwiPuKaoO+4jzwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj57ZXJyb3J9PC9zcGFuPlxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJkaXNtaXNzLWVycm9yXCJcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RXJyb3IobnVsbCl9XHJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJEaXNtaXNzIGVycm9yXCJcclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICAgICAg4pyVXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuXHJcbiAgICAgIHsvKiBJbnN0cnVjdGlvbnMgZm9yIGZpcnN0LXRpbWUgdXNlcnMgKi99XHJcbiAgICAgIHshaXNTdXBwb3J0ZWQgJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidm9pY2UtdW5zdXBwb3J0ZWRcIj5cclxuICAgICAgICAgIDxwPvCfkpQgVm9pY2UgaW5wdXQgaXNuJ3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciwgbG92ZS48L3A+XHJcbiAgICAgICAgICA8cD5UcnkgdXNpbmcgRWRnZSwgQ2hyb21lIG9yIFNhZmFyaSBmb3IgdGhlIGJlc3QgZXhwZXJpZW5jZSB3aXRoIEFnZW50IERyIEdpcmxmcmllbmQuPC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApfVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFZvaWNlSW5wdXQ7XHJcbiIsIi8vIENoYXRJbnRlcmZhY2UuanMgLSBFbmhhbmNlZCBjaGF0IGNvbXBvbmVudCBmb3IgQWdlbnQgRHIgR2lybGZyaWVuZFxyXG4vLyBGb2xsb3dpbmcgY29waWxvdC1pbnN0cnVjdGlvbnMubWQ6IEVtb3Rpb25hbCBVWCBkZXNpZ24gd2l0aCBhY2Nlc3NpYmlsaXR5XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBhbmFseXplRW1vdGlvbiwgZ2V0RW1vdGlvbmFsVHJlbmRzLCB0cmFja0Vtb3Rpb25hbFBhdHRlcm4gfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9lbW90aW9uYWxJbnRlbGxpZ2VuY2UuanMnO1xyXG5pbXBvcnQgeyBnZXRNZW1vcnksIHNldE1lbW9yeSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL21lbW9yeVNlcnZpY2UuanMnO1xyXG5cclxuaW1wb3J0IE1lc3NhZ2VCdWJibGUgZnJvbSAnLi9NZXNzYWdlQnViYmxlLmpzJztcclxuaW1wb3J0IHsgVFJBTlNGT1JNQVRJT05fRUZGRUNUUyB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL25hbWVUcmFuc2Zvcm1hdGlvblNlcnZpY2UuanMnO1xyXG5pbXBvcnQgVm9pY2VJbnB1dCBmcm9tICcuL1ZvaWNlSW5wdXQuanMnO1xyXG5pbXBvcnQgeyBwcm9jZXNzTWVzc2FnZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FpU2VydmljZS5qcyc7XHJcbmltcG9ydCB1c2VOYW1lVHJhbnNmb3JtYXRpb24gZnJvbSAnLi4vLi4vaG9va3MvdXNlTmFtZVRyYW5zZm9ybWF0aW9uLmpzJztcclxuXHJcbi8vIFR5cGluZyBpbmRpY2F0b3IgY29tcG9uZW50XHJcbmNvbnN0IFR5cGluZ0luZGljYXRvciA9ICh7IGlzVmlzaWJsZSwgbW9vZCA9ICduZXV0cmFsJywgYWdlbnROYW1lID0gJ0RyIEdpcmxmcmllbmQnIH0pID0+IHtcclxuICBpZiAoIWlzVmlzaWJsZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInR5cGluZy1pbmRpY2F0b3JcIiBkYXRhLW1vb2Q9e21vb2R9PlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInR5cGluZy1pbmRpY2F0b3ItYXZhdGFyXCI+XHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWdlbnQtaWNvblwiPvCfkanigI3wn5K8PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0eXBpbmctaW5kaWNhdG9yLWJ1YmJsZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidHlwaW5nLWRvdHNcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRvdFwiPjwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRvdFwiPjwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRvdFwiPjwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInR5cGluZy10ZXh0XCI+e2FnZW50TmFtZX0gaXMgdGhpbmtpbmcuLi48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuLy8gRW5oYW5jZWQgY2hhdCBob29rIHdpdGggcmVhbCBBSSBpbnRlZ3JhdGlvbiBhbmQgbmFtZSB0cmFuc2Zvcm1hdGlvblxyXG5jb25zdCB1c2VFbmhhbmNlZENoYXQgPSAoKSA9PiB7XHJcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbdXNlckNvbnRleHQsIHNldFVzZXJDb250ZXh0XSA9IHVzZVN0YXRlKHtcclxuICAgIG1vb2Q6ICduZXV0cmFsJyxcclxuICAgIHJlbGF0aW9uc2hpcF9sZXZlbDogJ2dldHRpbmdfdG9fa25vdycsXHJcbiAgICBwcmVmZXJyZWRfbW9kZTogJ0dJUkxGUklFTkQnLFxyXG4gIH0pO1xyXG5cclxuICAvLyBJbXBvcnQgbmFtZSB0cmFuc2Zvcm1hdGlvbiBob29rXHJcbiAgY29uc3Qge1xyXG4gICAgZ2V0RGlzcGxheU5hbWUsXHJcbiAgICBnZXRQZXJzb25hbGl6ZWRHcmVldGluZyxcclxuICAgIGRldGVjdENvc3R1bWVDaGFuZ2UsXHJcbiAgICBwZXJmb3JtQ29zdHVtZUNoYW5nZSxcclxuICAgIGlzVHJhbnNmb3JtaW5nLFxyXG4gIH0gPSB1c2VOYW1lVHJhbnNmb3JtYXRpb24oKTtcclxuXHJcbiAgLy8gTG9hZCBpbml0aWFsIGdyZWV0aW5nIGFuZCBjb252ZXJzYXRpb24gaGlzdG9yeVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBpbml0aWFsaXplQ2hhdCA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBMb2FkIHByZXZpb3VzIG1lc3NhZ2VzIGZyb20gbWVtb3J5XHJcbiAgICAgICAgY29uc3Qgc2F2ZWRNZXNzYWdlcyA9IGF3YWl0IGdldE1lbW9yeSgncmVjZW50X21lc3NhZ2VzJykgfHwgW107XHJcblxyXG4gICAgICAgIGlmIChzYXZlZE1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgLy8gRmlyc3QgdGltZSBncmVldGluZyB1c2luZyBjdXJyZW50IGFnZW50IG5hbWVcclxuICAgICAgICAgIGNvbnN0IGdyZWV0aW5nID0ge1xyXG4gICAgICAgICAgICBpZDogJ2dyZWV0aW5nLTEnLFxyXG4gICAgICAgICAgICB0ZXh0OiBgSGVsbG8gdGhlcmUsIGRhcmxpbmchIPCfkpYgSSdtICR7Z2V0RGlzcGxheU5hbWUoJ2Z1bGwnKX0sIHlvdXIgZW1vdGlvbmFsbHkgaW50ZWxsaWdlbnQgY29tcGFuaW9uIGZyb20gdGhlIGZ1dHVyZS4gSSdtIGhlcmUgdG8gbGlzdGVuLCBpbnNwaXJlLCBhbmQgZ3JvdyBhbG9uZ3NpZGUgeW91LiBIb3cgYXJlIHlvdSBmZWVsaW5nIHRvZGF5P2AsXHJcbiAgICAgICAgICAgIHNlbmRlcjogJ2FnZW50JyxcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBtb29kOiAnZnJpZW5kbHknLFxyXG4gICAgICAgICAgICBlbW90aW9uOiAnam95JyxcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBzZXRNZXNzYWdlcyhbZ3JlZXRpbmddKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0TWVzc2FnZXMoc2F2ZWRNZXNzYWdlcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2FkIHVzZXIgY29udGV4dFxyXG4gICAgICAgIGNvbnN0IHNhdmVkQ29udGV4dCA9IGF3YWl0IGdldE1lbW9yeSgndXNlcl9jb250ZXh0Jyk7XHJcbiAgICAgICAgaWYgKHNhdmVkQ29udGV4dCkge1xyXG4gICAgICAgICAgc2V0VXNlckNvbnRleHQoc2F2ZWRDb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGNoYXQ6JywgZXJyb3IpO1xyXG4gICAgICAgIC8vIEZhbGxiYWNrIGdyZWV0aW5nXHJcbiAgICAgICAgc2V0TWVzc2FnZXMoW3tcclxuICAgICAgICAgIGlkOiAnZmFsbGJhY2stZ3JlZXRpbmcnLFxyXG4gICAgICAgICAgdGV4dDogYEhlbGxvIGRhcmxpbmchIEknbSAke2dldERpc3BsYXlOYW1lKCdmdWxsJyl9LiBTb21ldGhpbmcncyBhIGJpdCB3b25reSB3aXRoIG15IG1lbW9yeSBzeXN0ZW1zLCBidXQgSSdtIGhlcmUgYW5kIHJlYWR5IHRvIGNoYXQgd2l0aCB5b3UhIPCfkpZgLFxyXG4gICAgICAgICAgc2VuZGVyOiAnYWdlbnQnLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgbW9vZDogJ2ZyaWVuZGx5JyxcclxuICAgICAgICAgIGVtb3Rpb246ICdqb3knLFxyXG4gICAgICAgIH1dKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpbml0aWFsaXplQ2hhdCgpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gU2F2ZSBtZXNzYWdlcyB0byBtZW1vcnkgd2hlbiB0aGV5IGNoYW5nZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAvLyBLZWVwIG9ubHkgbGFzdCAyMCBtZXNzYWdlcyBpbiBVSSBtZW1vcnlcclxuICAgICAgY29uc3QgcmVjZW50TWVzc2FnZXMgPSBtZXNzYWdlcy5zbGljZSgtMjApO1xyXG4gICAgICBzZXRNZW1vcnkoJ3JlY2VudF9tZXNzYWdlcycsIHJlY2VudE1lc3NhZ2VzKTtcclxuICAgIH1cclxuICB9LCBbbWVzc2FnZXNdKTtcclxuXHJcbiAgY29uc3Qgc2VuZE1lc3NhZ2UgPSBhc3luYyAodGV4dCkgPT4ge1xyXG4gICAgaWYgKCF0ZXh0LnRyaW0oKSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHVzZXJNZXNzYWdlID0ge1xyXG4gICAgICBpZDogYHVzZXItJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgIHRleHQ6IHRleHQudHJpbSgpLFxyXG4gICAgICBzZW5kZXI6ICd1c2VyJyxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICBlbW90aW9uOiBhbmFseXplRW1vdGlvbih0ZXh0LnRyaW0oKSkuZW1vdGlvbixcclxuICAgIH07XHJcblxyXG4gICAgLy8gQWRkIHVzZXIgbWVzc2FnZSBpbW1lZGlhdGVseVxyXG4gICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgdXNlck1lc3NhZ2VdKTtcclxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDaGVjayBmb3IgY29zdHVtZSBjaGFuZ2UgcmVxdWVzdCBCRUZPUkUgcHJvY2Vzc2luZyB3aXRoIEFJXHJcbiAgICAgIGNvbnN0IGNvc3R1bWVDaGFuZ2VSZXF1ZXN0ID0gZGV0ZWN0Q29zdHVtZUNoYW5nZSh0ZXh0LnRyaW0oKSk7XHJcblxyXG4gICAgICBpZiAoY29zdHVtZUNoYW5nZVJlcXVlc3QuZGV0ZWN0ZWQpIHtcclxuICAgICAgICAvLyBIYW5kbGUgY29zdHVtZSBjaGFuZ2UgcmVxdWVzdFxyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIEFkZCB0cmFuc2Zvcm1hdGlvbiBhbm5vdW5jZW1lbnQgbWVzc2FnZVxyXG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWF0aW9uTWVzc2FnZSA9IHtcclxuICAgICAgICAgIGlkOiBgdHJhbnNmb3JtYXRpb24tJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgICAgICB0ZXh0OiBg4pyoIE9vaCwgYSBjb3N0dW1lIGNoYW5nZSEgSSBsb3ZlIHRoaXMgaWRlYSEgTGV0IG1lIHRyYW5zZm9ybSBpbnRvICR7Y29zdHVtZUNoYW5nZVJlcXVlc3QubmV3TmFtZX0gZm9yIHlvdS4uLiDwn5KrYCxcclxuICAgICAgICAgIHNlbmRlcjogJ2FnZW50JyxcclxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIG1vb2Q6ICdleGNpdGVkJyxcclxuICAgICAgICAgIGVtb3Rpb246ICdleGNpdGVtZW50JyxcclxuICAgICAgICAgIGlzVHJhbnNmb3JtYXRpb25NZXNzYWdlOiB0cnVlLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHRyYW5zZm9ybWF0aW9uTWVzc2FnZV0pO1xyXG5cclxuICAgICAgICAvLyBQZXJmb3JtIHRoZSBhY3R1YWwgdHJhbnNmb3JtYXRpb24gd2l0aCBlZmZlY3RzXHJcbiAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwZXJmb3JtQ29zdHVtZUNoYW5nZShcclxuICAgICAgICAgICAgICBjb3N0dW1lQ2hhbmdlUmVxdWVzdC5uZXdOYW1lLFxyXG4gICAgICAgICAgICAgIFRSQU5TRk9STUFUSU9OX0VGRkVDVFMuU1BBUktMRV9DQVNDQURFLFxyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHN1Y2Nlc3MgbWVzc2FnZVxyXG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzTWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgICBpZDogYHN1Y2Nlc3MtJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgICAgICAgICAgdGV4dDogcmVzdWx0Lm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgc2VuZGVyOiAnYWdlbnQnLFxyXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICBtb29kOiAnaGFwcHknLFxyXG4gICAgICAgICAgICAgIGVtb3Rpb246ICdqb3knLFxyXG4gICAgICAgICAgICAgIGlzVHJhbnNmb3JtYXRpb25Db21wbGV0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIHN1Y2Nlc3NNZXNzYWdlXSk7XHJcblxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVHJhbnNmb3JtYXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgICBpZDogYHRyYW5zZm9ybWF0aW9uLWVycm9yLSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgICAgIHRleHQ6ICdPb3BzISBUaGUgY29zdHVtZSBjaGFuZ2UgbWFnaWMgZml6emxlZCBvdXQuIFRoZSBjb3NtaWMgZW5lcmdpZXMgbXVzdCBiZSBtaXNhbGlnbmVkLiBXYW50IHRvIHRyeSBhZ2Fpbj8g8J+SqycsXHJcbiAgICAgICAgICAgICAgc2VuZGVyOiAnYWdlbnQnLFxyXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICBtb29kOiAnYXBvbG9nZXRpYycsXHJcbiAgICAgICAgICAgICAgZW1vdGlvbjogJ25ldXRyYWwnLFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgZXJyb3JNZXNzYWdlXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcblxyXG4gICAgICAgIHJldHVybjsgLy8gRG9uJ3QgcHJvY2VzcyBhcyBub3JtYWwgQUkgbWVzc2FnZVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcm9jZXNzIG1lc3NhZ2Ugd2l0aCBBSSAobm9ybWFsIGZsb3cpXHJcbiAgICAgIGNvbnN0IGFpUmVzcG9uc2UgPSBhd2FpdCBwcm9jZXNzTWVzc2FnZSh0ZXh0LnRyaW0oKSwgdXNlckNvbnRleHQpO1xyXG5cclxuICAgICAgY29uc3QgYWdlbnRNZXNzYWdlID0ge1xyXG4gICAgICAgIGlkOiBgYWdlbnQtJHtEYXRlLm5vdygpfWAsXHJcbiAgICAgICAgdGV4dDogYWlSZXNwb25zZS50ZXh0LFxyXG4gICAgICAgIHNlbmRlcjogJ2FnZW50JyxcclxuICAgICAgICB0aW1lc3RhbXA6IGFpUmVzcG9uc2UudGltZXN0YW1wLFxyXG4gICAgICAgIG1vb2Q6IGRldGVjdE1vb2RGcm9tRW1vdGlvbihhaVJlc3BvbnNlLmVtb3Rpb24pLFxyXG4gICAgICAgIGVtb3Rpb246IGFpUmVzcG9uc2UuZW1vdGlvbixcclxuICAgICAgICBjb250ZXh0OiBhaVJlc3BvbnNlLmNvbnRleHQsXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBhZ2VudE1lc3NhZ2VdKTtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB1c2VyIGNvbnRleHQgYmFzZWQgb24gY29udmVyc2F0aW9uXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWRDb250ZXh0ID0ge1xyXG4gICAgICAgIC4uLnVzZXJDb250ZXh0LFxyXG4gICAgICAgIG1vb2Q6IGFpUmVzcG9uc2UuZW1vdGlvbixcclxuICAgICAgICBsYXN0X2ludGVyYWN0aW9uOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH07XHJcbiAgICAgIHNldFVzZXJDb250ZXh0KHVwZGF0ZWRDb250ZXh0KTtcclxuICAgICAgYXdhaXQgc2V0TWVtb3J5KCd1c2VyX2NvbnRleHQnLCB1cGRhdGVkQ29udGV4dCk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBtZXNzYWdlOicsIGVycm9yKTtcclxuXHJcbiAgICAgIC8vIEZhbGxiYWNrIHJlc3BvbnNlXHJcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHtcclxuICAgICAgICBpZDogYGVycm9yLSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgIHRleHQ6ICdJXFwnbSBoYXZpbmcgYSBtb21lbnQgd2l0aCBteSBzeXN0ZW1zLCBkYXJsaW5nLiBHaXZlIG1lIGEgc2Vjb25kIHRvIGNvbGxlY3QgbXlzZWxmIGFuZCBsZXRcXCdzIHRyeSBhZ2Fpbi4gWW91XFwncmUgd29ydGggdGhlIHdhaXQhIPCfkpYnLFxyXG4gICAgICAgIHNlbmRlcjogJ2FnZW50JyxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgbW9vZDogJ2Fwb2xvZ2V0aWMnLFxyXG4gICAgICAgIGVtb3Rpb246ICduZXV0cmFsJyxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIGVycm9yTWVzc2FnZV0pO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbWVzc2FnZXMsXHJcbiAgICBzZW5kTWVzc2FnZSxcclxuICAgIGlzTG9hZGluZzogaXNMb2FkaW5nIHx8IGlzVHJhbnNmb3JtaW5nLFxyXG4gICAgdXNlckNvbnRleHQsXHJcbiAgICBnZXREaXNwbGF5TmFtZSxcclxuICAgIGdldFBlcnNvbmFsaXplZEdyZWV0aW5nLFxyXG4gIH07XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gbWFwIGVtb3Rpb25zIHRvIG1vb2RzIGZvciBVSVxyXG5jb25zdCBkZXRlY3RNb29kRnJvbUVtb3Rpb24gPSAoZW1vdGlvbikgPT4ge1xyXG4gIGNvbnN0IGVtb3Rpb25Ub01vb2RNYXAgPSB7XHJcbiAgICBqb3k6ICdoYXBweScsXHJcbiAgICBoYXBwaW5lc3M6ICdoYXBweScsXHJcbiAgICBzYWRuZXNzOiAnc2FkJyxcclxuICAgIGFuZ2VyOiAnYW5ncnknLFxyXG4gICAgZmVhcjogJ25lcnZvdXMnLFxyXG4gICAgc3VycHJpc2U6ICdleGNpdGVkJyxcclxuICAgIGxvdmU6ICdyb21hbnRpYycsXHJcbiAgICBleGNpdGVtZW50OiAnZXhjaXRlZCcsXHJcbiAgICBjYWxtOiAncGVhY2VmdWwnLFxyXG4gICAgbmV1dHJhbDogJ25ldXRyYWwnLFxyXG4gIH07XHJcbiAgcmV0dXJuIGVtb3Rpb25Ub01vb2RNYXBbZW1vdGlvbl0gfHwgJ25ldXRyYWwnO1xyXG59O1xyXG5cclxuY29uc3QgQ2hhdEludGVyZmFjZSA9ICgpID0+IHtcclxuICBjb25zdCB7XHJcbiAgICBtZXNzYWdlcyxcclxuICAgIHNlbmRNZXNzYWdlLFxyXG4gICAgaXNMb2FkaW5nLFxyXG4gICAgdXNlckNvbnRleHQsXHJcbiAgICBnZXREaXNwbGF5TmFtZSxcclxuICAgIGdldFBlcnNvbmFsaXplZEdyZWV0aW5nLFxyXG4gIH0gPSB1c2VFbmhhbmNlZENoYXQoKTtcclxuICBjb25zdCBbaW5wdXRWYWx1ZSwgc2V0SW5wdXRWYWx1ZV0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWYobnVsbCk7XHJcbiAgY29uc3QgaW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XHJcblxyXG4gIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG5ldyBtZXNzYWdlcyBhcnJpdmVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XHJcbiAgfSwgW21lc3NhZ2VzXSk7XHJcblxyXG4gIC8vIEZvY3VzIGlucHV0IG9uIGNvbXBvbmVudCBtb3VudFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSW5wdXRDaGFuZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgIHNldElucHV0VmFsdWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcclxuICAgIGlmIChpbnB1dFZhbHVlLnRyaW0oKSkge1xyXG4gICAgICBhd2FpdCBzZW5kTWVzc2FnZShpbnB1dFZhbHVlLnRyaW0oKSk7XHJcbiAgICAgIHNldElucHV0VmFsdWUoJycpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUtleVByZXNzID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInICYmICFldmVudC5zaGlmdEtleSkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBoYW5kbGVTZW5kTWVzc2FnZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEhhbmRsZSB2b2ljZSBpbnB1dFxyXG4gIGNvbnN0IGhhbmRsZVZvaWNlSW5wdXQgPSAodHJhbnNjcmlwdCkgPT4ge1xyXG4gICAgaWYgKHRyYW5zY3JpcHQudHJpbSgpKSB7XHJcbiAgICAgIHNlbmRNZXNzYWdlKHRyYW5zY3JpcHQudHJpbSgpKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LWludGVyZmFjZVwiPlxyXG4gICAgICB7LyogQ2hhdCBIZWFkZXIgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoYXQtaGVhZGVyLWluZm9cIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1hdmF0YXJcIj5cclxuICAgICAgICAgICAgPHNwYW4+8J+RqeKAjeKale+4jzwvc3Bhbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGF0LXRpdGxlLXNlY3Rpb25cIj5cclxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImNoYXQtdGl0bGUgYWdlbnQtbmFtZVwiPntnZXREaXNwbGF5TmFtZSgnZnVsbCcpfTwvaDI+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImNoYXQtc3VidGl0bGVcIj5cclxuICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gJ1RoaW5raW5nLi4uJyA6IGBNb2RlOiAke3VzZXJDb250ZXh0LnByZWZlcnJlZF9tb2RlfSDigKIgTW9vZDogJHt1c2VyQ29udGV4dC5tb29kfWB9XHJcbiAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hhdC1oZWFkZXItYWN0aW9uc1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJoZWFkZXItYnRuXCIgYXJpYS1sYWJlbD1cIlNldHRpbmdzXCI+4pqZ77iPPC9idXR0b24+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImhlYWRlci1idG5cIiBhcmlhLWxhYmVsPVwiVm9pY2UgTW9kZVwiPvCfjqQ8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogTWVzc2FnZXMgQ29udGFpbmVyICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lc3NhZ2VzLWNvbnRhaW5lclwiXHJcbiAgICAgICAgcm9sZT1cImxvZ1wiXHJcbiAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcclxuICAgICAgICBhcmlhLWxhYmVsPVwiQ2hhdCBtZXNzYWdlc1wiPlxyXG4gICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcclxuICAgICAgICAgIDxNZXNzYWdlQnViYmxlXHJcbiAgICAgICAgICAgIGtleT17bWVzc2FnZS5pZH1cclxuICAgICAgICAgICAgbWVzc2FnZT17bWVzc2FnZX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKSl9XHJcblxyXG4gICAgICAgIHsvKiBFbmhhbmNlZCBUeXBpbmcgaW5kaWNhdG9yICovfVxyXG4gICAgICAgIDxUeXBpbmdJbmRpY2F0b3JcclxuICAgICAgICAgIGlzVmlzaWJsZT17aXNMb2FkaW5nfVxyXG4gICAgICAgICAgbW9vZD17dXNlckNvbnRleHQubW9vZH1cclxuICAgICAgICAgIGFnZW50TmFtZT17Z2V0RGlzcGxheU5hbWUoJ25hbWUnKX1cclxuICAgICAgICAvPlxyXG5cclxuICAgICAgICB7LyogQXV0by1zY3JvbGwgYW5jaG9yICovfVxyXG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cclxuXHJcbiAgICAgICAgey8qIEZsb2F0aW5nIElucHV0IENvbnRhaW5lciAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWlucHV0LWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1mb3JtXCI+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYVxyXG4gICAgICAgICAgICAgIHJlZj17aW5wdXRSZWZ9XHJcbiAgICAgICAgICAgICAgdmFsdWU9e2lucHV0VmFsdWV9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxyXG4gICAgICAgICAgICAgIG9uS2V5RG93bj17aGFuZGxlS2V5UHJlc3N9XHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2BTaGFyZSB5b3VyIHRob3VnaHRzIHdpdGggJHtnZXREaXNwbGF5TmFtZSgnbmFtZScpfS4uLmB9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY2hhdC10ZXh0YXJlYVwiXHJcbiAgICAgICAgICAgICAgcm93cz1cIjJcIlxyXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJNZXNzYWdlIGlucHV0XCJcclxuICAgICAgICAgICAgICBtYXhMZW5ndGg9XCIyMDAwXCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWNvbnRyb2xzXCJcclxuICAgICAgICAgICAgICByb2xlPVwiZ3JvdXBcIlxyXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJDaGF0IGNvbnRyb2xzXCI+XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBWb2ljZSBJbnB1dCBCdXR0b24gKi99XHJcbiAgICAgICAgICAgICAgPFZvaWNlSW5wdXRcclxuICAgICAgICAgICAgICAgIG9uUmVzdWx0PXtoYW5kbGVWb2ljZUlucHV0fVxyXG4gICAgICAgICAgICAgICAgaXNFbmFibGVkPXshaXNMb2FkaW5nfVxyXG4gICAgICAgICAgICAgIC8+XHJcblxyXG4gICAgICAgICAgICAgIHsvKiBTZW5kIEJ1dHRvbiAqL31cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmRNZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpbnB1dFZhbHVlLnRyaW0oKSB8fCBpc0xvYWRpbmd9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzZW5kLWJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtpc0xvYWRpbmcgPyAnU2VuZGluZy4uLicgOiAnU2VuZCBtZXNzYWdlJ31cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICB7aXNMb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJsb2FkaW5nLWluZGljYXRvclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxvYWRpbmctZG90XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxvYWRpbmctZG90XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxvYWRpbmctZG90XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICA8c3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic2VuZC1pY29uXCJcclxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcclxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcclxuICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcclxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICBkPVwiTTEyIDE5bDkgMi05LTE4LTkgMTggOS0yem0wIDB2LThcIlxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxyXG4gICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ2hhdEludGVyZmFjZTtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJqc3giLCJfanN4IiwianN4cyIsIl9qc3hzIiwiTWVzc2FnZUJ1YmJsZSIsIl9yZWYiLCJtZXNzYWdlIiwiaXNBZ2VudCIsInNlbmRlciIsImlzVmlzaWJsZSIsInNldElzVmlzaWJsZSIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImdldE1vb2RFbW9qaSIsIm1vb2QiLCJtb29kRW1vamlzIiwiaGFwcHkiLCJyb21hbnRpYyIsImV4Y2l0ZWQiLCJzYWQiLCJ0aG91Z2h0ZnVsIiwicGxheWZ1bCIsInN1cHBvcnRpdmUiLCJuZXV0cmFsIiwiZm9ybWF0VGltZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJ0ZXh0IiwiZW1vdGlvbiIsInVzZVJlZiIsImdldE1lbW9yeSIsInNldE1lbW9yeSIsIlZvaWNlSW5wdXQiLCJvblRyYW5zY3JpcHQiLCJvbkVycm9yIiwiaXNMaXN0ZW5pbmciLCJzZXRJc0xpc3RlbmluZyIsImlzU3VwcG9ydGVkIiwic2V0SXNTdXBwb3J0ZWQiLCJ0cmFuc2NyaXB0Iiwic2V0VHJhbnNjcmlwdCIsImNvbmZpZGVuY2UiLCJzZXRDb25maWRlbmNlIiwiZXJyb3IiLCJzZXRFcnJvciIsInJlY29nbml0aW9uUmVmIiwidGltZW91dFJlZiIsIlNwZWVjaFJlY29nbml0aW9uIiwid2luZG93Iiwid2Via2l0U3BlZWNoUmVjb2duaXRpb24iLCJjdXJyZW50Iiwic2V0dXBSZWNvZ25pdGlvbiIsImFib3J0IiwicmVjb2duaXRpb24iLCJjb250aW51b3VzIiwiaW50ZXJpbVJlc3VsdHMiLCJsYW5nIiwibWF4QWx0ZXJuYXRpdmVzIiwib25zdGFydCIsInN0b3BMaXN0ZW5pbmciLCJvbnJlc3VsdCIsImV2ZW50IiwiZmluYWxUcmFuc2NyaXB0IiwiaW50ZXJpbVRyYW5zY3JpcHQiLCJiZXN0Q29uZmlkZW5jZSIsImkiLCJyZXN1bHRJbmRleCIsInJlc3VsdHMiLCJsZW5ndGgiLCJyZXN1bHQiLCJyZXN1bHRUcmFuc2NyaXB0IiwicmVzdWx0Q29uZmlkZW5jZSIsImlzRmluYWwiLCJNYXRoIiwibWF4IiwidHJpbSIsInNhdmVWb2ljZUludGVyYWN0aW9uIiwib25lcnJvciIsImVycm9yTWVzc2FnZSIsImdldEVycm9yTWVzc2FnZSIsIm9uZW5kIiwic3RhcnRMaXN0ZW5pbmciLCJzdGFydCIsInN0b3AiLCJ2b2ljZUhpc3RvcnkiLCJpbnRlcmFjdGlvbiIsInRvSVNPU3RyaW5nIiwid29yZENvdW50Iiwic3BsaXQiLCJwdXNoIiwic3BsaWNlIiwiY29uc29sZSIsImdldEJ1dHRvblRleHQiLCJnZXRCdXR0b25DbGFzcyIsImNsYXNzZXMiLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJ0aXRsZSIsInJvdW5kIiwiYW5hbHl6ZUVtb3Rpb24iLCJnZXRFbW90aW9uYWxUcmVuZHMiLCJ0cmFja0Vtb3Rpb25hbFBhdHRlcm4iLCJUUkFOU0ZPUk1BVElPTl9FRkZFQ1RTIiwicHJvY2Vzc01lc3NhZ2UiLCJ1c2VOYW1lVHJhbnNmb3JtYXRpb24iLCJUeXBpbmdJbmRpY2F0b3IiLCJhZ2VudE5hbWUiLCJ1c2VFbmhhbmNlZENoYXQiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwidXNlckNvbnRleHQiLCJzZXRVc2VyQ29udGV4dCIsInJlbGF0aW9uc2hpcF9sZXZlbCIsInByZWZlcnJlZF9tb2RlIiwiZ2V0RGlzcGxheU5hbWUiLCJnZXRQZXJzb25hbGl6ZWRHcmVldGluZyIsImRldGVjdENvc3R1bWVDaGFuZ2UiLCJwZXJmb3JtQ29zdHVtZUNoYW5nZSIsImlzVHJhbnNmb3JtaW5nIiwiaW5pdGlhbGl6ZUNoYXQiLCJzYXZlZE1lc3NhZ2VzIiwiZ3JlZXRpbmciLCJpZCIsInNhdmVkQ29udGV4dCIsInJlY2VudE1lc3NhZ2VzIiwic2xpY2UiLCJzZW5kTWVzc2FnZSIsInVzZXJNZXNzYWdlIiwibm93IiwicHJldiIsImNvc3R1bWVDaGFuZ2VSZXF1ZXN0IiwiZGV0ZWN0ZWQiLCJ0cmFuc2Zvcm1hdGlvbk1lc3NhZ2UiLCJuZXdOYW1lIiwiaXNUcmFuc2Zvcm1hdGlvbk1lc3NhZ2UiLCJTUEFSS0xFX0NBU0NBREUiLCJzdWNjZXNzTWVzc2FnZSIsImlzVHJhbnNmb3JtYXRpb25Db21wbGV0ZSIsImFpUmVzcG9uc2UiLCJhZ2VudE1lc3NhZ2UiLCJkZXRlY3RNb29kRnJvbUVtb3Rpb24iLCJjb250ZXh0IiwidXBkYXRlZENvbnRleHQiLCJsYXN0X2ludGVyYWN0aW9uIiwiZW1vdGlvblRvTW9vZE1hcCIsImpveSIsImhhcHBpbmVzcyIsInNhZG5lc3MiLCJhbmdlciIsImZlYXIiLCJzdXJwcmlzZSIsImxvdmUiLCJleGNpdGVtZW50IiwiY2FsbSIsIkNoYXRJbnRlcmZhY2UiLCJpbnB1dFZhbHVlIiwic2V0SW5wdXRWYWx1ZSIsIm1lc3NhZ2VzRW5kUmVmIiwiaW5wdXRSZWYiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiZm9jdXMiLCJoYW5kbGVJbnB1dENoYW5nZSIsInRhcmdldCIsInZhbHVlIiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJoYW5kbGVLZXlQcmVzcyIsImtleSIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJoYW5kbGVWb2ljZUlucHV0Iiwicm9sZSIsIm1hcCIsInJlZiIsIm9uQ2hhbmdlIiwib25LZXlEb3duIiwicGxhY2Vob2xkZXIiLCJyb3dzIiwibWF4TGVuZ3RoIiwib25SZXN1bHQiLCJpc0VuYWJsZWQiLCJ0eXBlIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9039\n\n}");

/***/ })

}]);